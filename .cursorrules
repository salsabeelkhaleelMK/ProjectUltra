# ProjectUltra - Architecture Rules & Patterns

## ⚠️ CRITICAL STYLING RULES - READ FIRST ⚠️

**BEFORE writing ANY Tailwind classes, you MUST:**
1. ✅ Check `tailwind.config.js` for available semantic classes
2. ✅ Use semantic tokens (`text-h1-hero`, `bg-brand-red`, `text-heading`) instead of arbitrary values
3. ✅ NEVER use arbitrary values like `w-[350px]`, `text-[14px]`, `max-w-[120px]`
4. ✅ NEVER use hardcoded hex colors like `#F80032`, `#1a1a1a`
5. ✅ NEVER use inline styles for static values
6. ✅ See "Styling (Tailwind CSS) - CRITICAL RULES" section below for full details

**Violations will be rejected. Always prefer semantic classes over arbitrary values.**

## Data Layer Architecture (CRITICAL)

### Repository → Service → API Wrapper → Store Pattern

**NEVER directly import `mockData.js` from components, views, stores, or composables.**

The data layer follows this strict hierarchy:

1. **Repository Layer** (`src/repositories/`)
   - Abstracts data access operations
   - Maps to REST API endpoints (API Platform/Symfony)
   - Current: Uses mock data arrays
   - Future: Will call REST endpoints directly
   - **Files**: `BaseRepository.js`, `LeadRepository.js`, `OpportunityRepository.js`, `ActivityRepository.js`, `ContactRepository.js`

2. **Service Layer** (`src/services/`)
   - Handles business logic and data transformation
   - Enriches entities with related data (e.g., customer info, stages)
   - **Files**: `leadService.js`, `opportunityService.js`

3. **API Wrapper Layer** (`src/api/*.js`)
   - Thin wrapper around services/repositories
   - Handles async operations, delays (for mocking), error handling
   - **Files**: `leads.js`, `opportunities.js`, `contacts.js`, etc.
   - **Note**: `mockData.js` is ONLY used by repositories, never by API wrappers directly

4. **Store Layer** (`src/stores/*.js`)
   - Pinia stores for state management
   - **MUST** use API wrappers, never repositories or mockData directly
   - Examples: `leads.js`, `opportunities.js`, `contacts.js`

5. **Component/View/Composable Layer**
   - **MUST** use stores or API wrappers, never repositories or mockData directly
   - Components should use stores for reactive state
   - Views can use stores or API wrappers for data fetching
   - Composables should receive data as parameters or use stores

### API Platform REST API Structure

**Endpoint Mapping** (when real API is integrated):
- **Leads**: `/leads`
  - `GET /leads` → `LeadRepository.findAll()`
  - `GET /leads/{id}` → `LeadRepository.findById(id)`
  - `POST /leads` → `LeadRepository.create(data)`
  - `PUT /leads/{id}` → `LeadRepository.update(id, data)`
  - `DELETE /leads/{id}` → `LeadRepository.delete(id)`
  - `GET /leads/{id}/activities` → `ActivityRepository.findAllByLeadId(id)`
  - `POST /leads/{id}/transition` → `StateMachineService.transitionLead()` (future)

- **Opportunities**: `/opportunities`
  - `GET /opportunities` → `OpportunityRepository.findAll()`
  - `GET /opportunities/{id}` → `OpportunityRepository.findById(id)`
  - `POST /opportunities` → `OpportunityRepository.create(data)`
  - `PUT /opportunities/{id}` → `OpportunityRepository.update(id, data)`
  - `DELETE /opportunities/{id}` → `OpportunityRepository.delete(id)`
  - `GET /opportunities/{id}/activities` → `ActivityRepository.findAllByOpportunityId(id)`
  - `POST /opportunities/{id}/transition` → `StateMachineService.transitionOpportunity()` (future)

- **Activities**: `/activities`
  - `GET /activities` → `ActivityRepository.findAll(filters)`
  - `GET /activities/{id}` → `ActivityRepository.findById(id)`
  - `POST /activities` → `ActivityRepository.create(data)`
  - `PUT /activities/{id}` → `ActivityRepository.update(id, data)`
  - `DELETE /activities/{id}` → `ActivityRepository.delete(id)`
  - `GET /activities?leadId={id}` → `ActivityRepository.findAllByLeadId(id)`
  - `GET /activities?opportunityId={id}` → `ActivityRepository.findAllByOpportunityId(id)`

- **Contacts**: `/contacts`
  - `GET /contacts` → `ContactRepository.findAll()`
  - `GET /contacts/{id}` → `ContactRepository.findById(id)`
  - `POST /contacts` → `ContactRepository.create(data)`
  - `PUT /contacts/{id}` → `ContactRepository.update(id, data)`
  - `DELETE /contacts/{id}` → `ContactRepository.delete(id)`

### State Machine Architecture

**State Machine Logic Separation**:

1. **StateMachineService** (`src/services/stateMachine/StateMachineService.js`)
   - Abstraction layer for state transitions
   - Current: Uses frontend mock implementation
   - Future: Will call backend API (POST /leads/{id}/transition or PATCH /leads/{id})
   - Handles backend rules (transitions/validations)

2. **Frontend State Machine Config** (`src/services/stateMachine/frontendStateMachine.js`)
   - Frontend UI rules (widget rendering, conditional actions)
   - Defines primary/secondary actions, task widgets, conditional rendering
   - **Separated from backend transition logic**

3. **Composables** (`src/composables/useLeadStateMachine.js`, `useOpportunityStateMachine.js`)
   - Use StateMachineService for transitions
   - Use frontendStateMachine config for UI rules
   - **MUST NOT** contain backend transition logic

### Data Flow Examples

**✅ CORRECT - Fetching Leads:**
```javascript
// In a component/view
import { useLeadsStore } from '@/stores/leads'
const leadsStore = useLeadsStore()
await leadsStore.fetchLeads(filters)

// Store uses API wrapper
import * as leadsApi from '@/api/leads'
const result = await leadsApi.fetchLeads(filters)

// API wrapper uses service
import { LeadService } from '@/services/leadService'
return await leadService.findAll(filters)

// Service uses repository
import { LeadRepository } from '@/repositories/LeadRepository'
return await leadRepository.findAll(filters)
```

**❌ WRONG - Direct Mock Import:**
```javascript
// NEVER do this in components, views, stores, or composables
import { mockLeads } from '@/api/mockData'
const leads = mockLeads.filter(...)
```

**✅ CORRECT - Fetching Activities:**
```javascript
// In a component/view
import { fetchLeadActivities } from '@/api/leads'
const activities = await fetchLeadActivities(leadId)

// Or use store
import { useLeadsStore } from '@/stores/leads'
const leadsStore = useLeadsStore()
const activities = leadsStore.currentLeadActivities
```

**❌ WRONG - Direct Mock Import:**
```javascript
// NEVER do this
import { mockActivities } from '@/api/mockData'
const activities = mockActivities.filter(a => a.leadId === leadId)
```

### Migration Path (Mock → Real API)

When migrating to real API:

1. **Repository Layer**: Replace mock data operations with HTTP calls
   - Update `BaseRepository` methods to use axios/fetch
   - Add API configuration (base URL, headers, auth)
   - Keep the same method signatures

2. **Service Layer**: No changes needed (already abstracted)

3. **API Wrapper Layer**: Remove mock delays, keep error handling

4. **Store Layer**: No changes needed (already uses API wrappers)

5. **Component/View Layer**: No changes needed (already uses stores/API wrappers)

## Component Architecture

### Vue 3 Composition API

- **MUST** use `<script setup>` syntax for all components
- **NEVER** use Options API (`export default { ... }`)
- **ALWAYS** use Composition API patterns (`ref`, `computed`, `watch`, `onMounted`, etc.)

### State Management

- **ALWAYS** use Pinia stores for shared state
- **NEVER** use prop drilling for deep component trees
- **NEVER** use `provide/inject` for state (use Pinia stores instead)

### Component Granularity

- Keep components focused and small
- Extract reusable logic into composables
- Shared components go in `src/components/shared/`
- Entity-specific components go in `src/components/{entity}/`

## Code Quality

### No Direct Mock Data Imports

- **NEVER** import from `@/api/mockData` in:
  - Components (`src/components/**/*.vue`)
  - Views (`src/views/**/*.vue`)
  - Stores (`src/stores/**/*.js`)
  - Composables (`src/composables/**/*.js`)
  - API wrappers (`src/api/*.js` except `mockData.js`)

- **ONLY** repositories (`src/repositories/**/*.js`) can import `mockData.js`

### Motork Component Library First (CRITICAL)

- **ALWAYS check `@motork/component-library` (and `@motork/component-library/future/primitives`) before creating new UI components.**
  - Prefer using existing Motork components/primitives over building custom wrappers.
  - If a needed component exists in the library, **use it** instead of forking/re-implementing.
  - Only create new components when there is a clear gap in the library, and the new component is app-specific.

- **Modals/Dialogs**
  - Use Motork dialog primitives directly:
    - `import { Dialog, DialogContent, DialogHeader, DialogFooter, DialogOverlay, DialogPortal, DialogTitle, DialogDescription } from '@motork/component-library/future/primitives'`
  - **Do not introduce custom modal wrapper components** (e.g., a `ModalShell`-style wrapper). Keep modal markup in the modal component itself, using the primitives.

### Styling (Tailwind CSS) - CRITICAL RULES - MANDATORY ENFORCEMENT

**⚠️ THIS SECTION IS MANDATORY - ALL CODE MUST FOLLOW THESE RULES ⚠️**

**Before writing ANY Tailwind classes, check this section. Violations will be rejected.**

**Pre-Code Checklist (MUST verify before writing classes):**
- [ ] Checked `tailwind.config.js` for semantic classes
- [ ] Checked `src/styles/theme.css` for CSS variables
- [ ] No arbitrary values (`[350px]`, `[14px]`, etc.) unless explicitly justified
- [ ] No hardcoded hex colors (`#F80032`, `#1a1a1a`, etc.)
- [ ] No inline styles for static values
- [ ] Using semantic typography classes (`text-h1-hero`, `text-body-text`, etc.)
- [ ] Using semantic color tokens (`bg-brand-red`, `text-heading`, etc.)

#### NO Arbitrary Values - STRICTLY FORBIDDEN

- **MUST NOT use arbitrary values** like `w-[350px]`, `text-[14px]`, `max-w-[120px]`, `z-[80]`, `bg-[#1a1a1a]`, `text-[6px]`
- **MUST use standard Tailwind utilities** or semantic classes from `tailwind.config.js`
- **MUST check `tailwind.config.js`** for available semantic classes before using arbitrary values

**Exceptions (REQUIRE EXPLICIT JUSTIFICATION):**
- **ONLY** when standard Tailwind AND semantic tokens don't have the value AND it's truly necessary
- **ONLY** for viewport-based widths: `max-w-[85vw]` (no standard Tailwind equivalent)
- **ONLY** for icon sizes when exact pixel matching is required: `w-[18px] h-[18px]` (but prefer `w-4 h-4` or `w-5 h-5`)
- **MUST** prefer rem units over px for arbitrary values: `left-[2.4375rem]` instead of `left-[39px]`
- **MUST** add a comment explaining why arbitrary value is necessary

**Common Violations Found in Codebase (DO NOT REPEAT):**
- ❌ `text-[6px]` → Use `text-xs` or add to `tailwind.config.js` if truly needed
- ❌ `max-w-[120px]` → Use `max-w-30` or `max-w-7.5rem` or standard Tailwind class
- ❌ `max-w-[150px]` → Use `max-w-36` or `max-w-9.5rem`
- ❌ `max-w-[80px]` → Use `max-w-20` or `max-w-5rem`
- ❌ `min-w-[20px]` → Use `min-w-5` or `min-w-1.25rem`

**✅ CORRECT:**
```vue
<div class="min-w-40 max-w-7.5rem z-50 bg-brand-darkDarker">
<!-- For very small text, use text-xs or add custom class to tailwind.config.js -->
<div class="text-xs">Small text</div>
```

**❌ WRONG:**
```vue
<div class="min-w-[160px] max-w-[120px] z-[80] bg-[#1a1a1a]">
<div class="text-[6px]">Tiny text</div>
```

#### NO Hardcoded Colors - STRICTLY FORBIDDEN

- **MUST NOT use hardcoded hex colors** like `#F80032`, `#1a1a1a`, `#0056B3`, `#10b981`, `#6B7280`, `#282828`, `#E5E7EB`, `#D1D5DB`, `#FFFFFF`
- **MUST use theme tokens** from `tailwind.config.js` or CSS variables from `src/styles/theme.css`
- **MUST check available tokens** before using any color
- **For Tailwind classes**: Use `bg-brand-red`, `text-brand-dark`, `border-brand-slate`
- **For inline styles/SVG**: Use `var(--brand-red)`, `var(--brand-blue)`, `var(--color-success)`

**Available Theme Tokens (CHECK THESE FIRST):**
- **Brand colors**: `bg-brand-red`, `bg-brand-redDark`, `bg-brand-dark`, `bg-brand-darkDarker`, `bg-brand-gray`, `bg-brand-slate`, `bg-brand-blue`, `bg-brand-blueLight`, `bg-brand-white`, `bg-brand-textBody`, `bg-brand-black` (alias for dark)
- **Semantic text colors**: `text-heading`, `text-body`, `text-eyebrow`, `text-primary`, `text-secondary`, `text-sub`
- **Semantic background colors**: `bg-surface`, `bg-surfaceSecondary`, `bg-surfaceTertiary`
- **Border colors**: `border-E5E7EB` (Gray-200), `border-D1D5DB` (Gray-300 for inputs), `border` (uses var(--color-border))
- **CSS variables**: `var(--brand-red)`, `var(--brand-blue)`, `var(--color-text-heading)`, `var(--color-text-body)`, `var(--color-border)`, etc.
- **Standard Tailwind grays**: `text-gray-500`, `text-gray-600`, `text-gray-900` (only when semantic tokens don't fit)

**CRITICAL RULE**: Hex values exist ONLY in `theme.css` as CSS variable definitions. All components MUST use CSS variables or Tailwind tokens, NEVER hardcoded hex values.

**✅ CORRECT:**
```vue
<div class="bg-brand-red text-white">
<svg>
  <stop offset="0%" style="stop-color:var(--brand-blue);stop-opacity:0.2" />
</svg>
```

**❌ WRONG:**
```vue
<div class="bg-[#F80032]" style="background-color: #1a1a1a;">
<svg>
  <stop offset="0%" style="stop-color:#0056B3;stop-opacity:0.2" />
</svg>
```

#### NO Inline Styles (Except Dynamic Values) - STRICTLY FORBIDDEN

- **MUST NOT use inline `style` attributes** for static values like `style="background-color: #F80032;"`, `style="width: 18px; height: 18px;"`, `style="line-height: 1.3;"`
- **MUST convert to Tailwind classes**: `bg-brand-red`, `w-4 h-4` (or `w-[18px] h-[18px]` if exact size needed), `leading-tight`
- **MUST check Tailwind utilities** before using inline styles

**Exceptions (REQUIRE EXPLICIT JUSTIFICATION):**
- **ONLY** for dynamic calculated values: `:style="{ width: \`${percentage}%\` }"` (progress bars, chart heights)
- **ONLY** for CSS properties with no Tailwind equivalent: `style="scrollbar-width: thin;"` (Firefox-specific, MUST add comment explaining)
- **ONLY** for complex dynamic styles: `clipPath`, dynamic transforms, etc.
- **MUST** add comment explaining why inline style is necessary

**✅ CORRECT:**
```vue
<!-- Static values as Tailwind classes -->
<div class="bg-brand-red w-4 h-4 leading-tight z-50">
<!-- OR if exact 18px needed: -->
<div class="bg-brand-red w-[18px] h-[18px] leading-tight z-50">
<!-- Add comment: Exact 18px required for icon alignment -->

<!-- Dynamic values as inline styles (acceptable) -->
<div :style="{ width: \`${progress}%\` }" class="h-2 bg-brand-blue">
```

**❌ WRONG:**
```vue
<div style="background-color: #F80032; width: 18px; height: 18px; line-height: 1.3;">
<div class="bg-[#F80032] w-[18px] h-[18px]">
```

#### Use Semantic Classes - MANDATORY

- **MUST use semantic classes** from `tailwind.config.js` and `src/style.css`
- **MUST check available semantic classes** before creating custom styles
- **Typography**: MUST use `text-h1-hero`, `text-h2-section`, `text-h3-card`, `text-body-text`, `text-button-text`, `text-eyebrow`, `.eyebrow-header` (NOT `text-[40px]`, `text-[16px]`, etc.)
- **Spacing**: MUST use standard Tailwind spacing scale (`p-6`, `p-8` for cards, `gap-3`, `mt-2`) or theme tokens (`var(--spacing-md)`)
- **Colors**: MUST use brand tokens (`bg-brand-red`, `text-brand-dark`, `text-heading`, `text-body`) or semantic classes
- **Border Radius**: MUST use `rounded-btn` (8px), `rounded-card` (12px or 16px), or standard Tailwind classes (NOT `rounded-[12px]`)

**✅ CORRECT:**
```vue
<h1 class="text-h1-hero text-heading">Hero Title</h1>
<h2 class="text-h2-section text-heading">Section Title</h2>
<h3 class="text-h3-card text-heading mb-4">Card Title</h3>
<p class="text-body-text text-body">Body text</p>
<div class="bg-white border border-E5E7EB rounded-card p-6 shadow-sm">
```

**❌ WRONG:**
```vue
<h2 class="text-[40px] font-bold text-[#282828]">Title</h2>
<p class="text-[16px] text-[#374151]">Body text</p>
<div class="bg-[#FFFFFF] border border-[#E5E7EB] rounded-[12px] p-[24px]">
```

**When Refactoring Existing Code:**
- **MUST** replace all arbitrary values with semantic classes
- **MUST** replace all hardcoded hex colors with theme tokens
- **MUST** check `tailwind.config.js` to see if missing classes should be added there instead
- **Example**: If you find `text-[6px]`, check if `text-xs` works, or add a custom class to `tailwind.config.js` if truly needed

#### Mobile-First Responsive Design
- **ALWAYS use mobile-first breakpoints**: `flex flex-col md:flex-row` (not `max-md:flex-col`)
- **Standard breakpoints**: `sm:` (640px), `md:` (768px), `lg:` (1024px), `xl:` (1280px)
- **Test on mobile viewports** - ensure layouts don't break

**✅ CORRECT:**
```vue
<div class="flex flex-col md:flex-row gap-3">
```

**❌ WRONG:**
```vue
<div class="flex-row max-md:flex-col">
```

#### Z-Index Guidelines - MANDATORY

- **MUST use standard Tailwind z-index values**: `z-0`, `z-10`, `z-20`, `z-30`, `z-40`, `z-50`
- **MUST NOT use arbitrary z-index** (`z-[80]`, `z-[999]`) unless absolutely necessary
- **ONLY use arbitrary z-index** (`z-[9999]`) for dropdowns/modals that need to be above everything
- **MUST document high z-index values** with comments explaining why

#### SVG and Chart Colors - MANDATORY

- **MUST use CSS variables** for SVG gradients and chart colors
- **MUST replace hardcoded hex in SVG**: `style="stop-color:var(--brand-blue);"` instead of `style="stop-color:#0056B3;"`
- **MUST update color mapping functions** to return CSS variables: `return 'var(--brand-red)'` instead of `return '#F80032'`
- **MUST NOT use hex colors** in JavaScript/TypeScript color functions

**✅ CORRECT:**
```javascript
const getColor = (type) => {
  const colors = {
    red: 'var(--brand-red)',
    blue: 'var(--brand-blue)',
    success: 'var(--color-success)'
  }
  return colors[type] || 'var(--brand-slate)'
}
```

**❌ WRONG:**
```javascript
const getColor = (type) => {
  const colors = {
    red: '#F80032',
    blue: '#0056B3',
    success: '#10b981'
  }
  return colors[type] || '#6B7280'
}
```

### Component Architecture (MotorK Design System)

#### Buttons
- **Primary Button**: `bg-brand-red`, `text-white`, `rounded-btn` (8px), hover: `brightness-90` + `-translate-y-px`
- **Secondary Button**: `bg-white`, `border border-D1D5DB`, `text-brand-dark`, `rounded-btn` (8px)

#### Cards & Containers
- **Background**: `bg-white` (#FFFFFF)
- **Border**: `border border-E5E7EB` (1px solid #E5E7EB)
- **Border Radius**: `rounded-card` (12px) or `rounded-xl` (16px)
- **Padding**: `p-6` or `p-8` (generous spacing is critical)
- **Shadow**: `shadow-sm` or `shadow-none` (rely on border for definition)
- **Card Title (H3)**: `text-h3-card` (24px), SemiBold 600, `text-heading`, `mb-4` or `mb-6`

#### Borders & Depth Strategy
- **Flat Design**: Use `1px solid #E5E7EB` borders for separation
- **Shadows**: ONLY for floating elements (dropdowns, modals)
- **No heavy drop shadows** on cards - use borders instead

#### Forms & Inputs
- **Default**: `bg-white`, `border border-D1D5DB`, `text-heading`
- **Focus**: `focus:border-brand-red` + `focus:ring-3 focus:ring-brand-red/15`
- **Labels**: Medium weight (500), `text-body` color

#### Iconography
- **Library**: Lucide React or Heroicons Outline
- **Stroke width**: `1.5px` or `2px`
- **Default color**: `text-gray-500` (#6B7280)
- **Active/Selected**: `text-brand-red` (#F80032)

#### Data Visualization (KPIs)
- **Value**: ExtraBold Inter, `text-heading` or `text-brand-red`
- **Label**: Small, Uppercase, Medium weight, `text-sub` (#6B7280)

#### Layout Structure
- **Sidebar**: `bg-brand-dark` (#282828), white text, active link: `border-l-2 border-brand-red` or `text-brand-red`
- **Top Bar**: `bg-white` (#FFFFFF), `border-b border-E5E7EB`
- **Content Area**: `bg-brand-gray` (#F7F5F6) background
- **Grid**: Use CSS Grid for dashboard layouts (Bento style)

### TypeScript / JSDoc

- Use JSDoc for function/parameter documentation
- Use TypeScript for type definitions where applicable (`.ts` files)
- Document complex data structures with interfaces

### Accessibility

- Use semantic HTML elements
- Add `aria-label` attributes where needed
- Ensure keyboard navigation works
- Test with screen readers

## File Organization

### Directory Structure

```
src/
├── api/              # API wrappers (thin layer, uses services/repositories)
├── repositories/     # Data access layer (abstracts data source)
├── services/         # Business logic layer
│   └── stateMachine/ # State machine service and config
├── stores/           # Pinia stores (state management)
├── components/       # Vue components
│   ├── shared/       # Reusable components
│   ├── leads/        # Lead-specific components
│   ├── opportunities/ # Opportunity-specific components
│   └── ...
├── composables/      # Reusable composition functions
├── views/            # Page-level components (routes)
├── router/           # Vue Router configuration
└── utils/            # Utility functions
```

### Naming Conventions

- **Components**: `PascalCase.vue` (e.g., `LeadManagementWidget.vue`)
- **Composables**: `useSomething.js` (e.g., `useLeadUrgency.ts`)
- **Stores**: `useXStore.js` (e.g., `useLeadsStore.js`)
- **Services**: `xService.js` (e.g., `leadService.js`)
- **Repositories**: `XRepository.js` (e.g., `LeadRepository.js`)

## Testing & Mobile Responsiveness

- **ALWAYS** test on mobile viewports
- **CRITICAL**: Ensure mobile view doesn't break
- Use responsive Tailwind classes (`flex-col md:flex-row`)
- Test table layouts on mobile (columns should stack or hide, not scroll horizontally)

## Build & Deploy

- Run `npm run build` before pushing
- Never commit `dist/` folder
- Netlify builds from source via `netlify.toml`

## Code Cleanup (Before Push)

**CRITICAL**: Before pushing code, check for and delete obsolete files:

1. **Duplicate Files**: Check for duplicate components/modals/widgets in multiple locations
   - If files exist in both root directories and subdirectories, verify which one is actually imported
   - Delete unused duplicates (files that are never imported anywhere)
   - Common patterns:
     - Duplicate widgets in `components/tasks/` root vs `components/tasks/opportunity/` or `components/tasks/lead/`
     - Duplicate modals in `components/modals/` vs `components/calendar/`
     - Duplicate utilities in root vs subdirectories

2. **Re-export Files**: Check for re-export wrapper files that are redundant
   - Files that only `export * from './subdirectory/index.js'` can be deleted if module resolution handles it automatically
   - Example: `src/api/mockData.js` re-exporting from `src/api/mockData/index.js` is obsolete (imports resolve to index.js automatically)
   - Example: `src/utils/stageMapper.js` re-exporting from `src/utils/stageMapper/index.js` is obsolete

3. **Unused Files**: Search for files that are never imported
   - Use grep to check if files are imported: `grep -r "from.*filename" src/`
   - Delete files with zero imports (unless they're entry points like `main.js`, `router/index.js`)

4. **Verification Steps**:
   - Before deleting, verify the file is NOT imported anywhere: `grep -r "from.*filename" src/`
   - Check if there are duplicates in subdirectories that are actually being used
   - Ensure module resolution will still work after deletion (check import paths use extensions or directory resolution)

5. **Common Obsolete Patterns**:
   - Old refactored views that were replaced (e.g., `Leads.vue` → `Tasks.vue`)
   - Duplicate components moved during refactoring
   - Temporary files or backups (`*.old`, `*.bak`, `*.tmp`)
   - Deprecated re-export wrappers marked with `@deprecated` comments

