import{I as k,r as D,l as S,d as p,m as i,e,w as C,A as o,C as n,F as V,i as F,X as r,q as d,o as g,n as U,t as A}from"./index-Baowk8yV.js";import{Q as b}from"./index-C1tcDFBl.js";import{_ as O}from"./PageHeader-K4h7Nky0.js";import"./index-Ct-3v9pQ-DjTMGHGd.js";const T={class:"page-container"},M={class:"p-4 md:p-6 lg:p-8"},N={class:"bg-white border border-gray-200 rounded-xl shadow-sm p-6"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},E={class:"grid grid-cols-2 gap-3"},W={class:"bg-white border border-gray-200 rounded-xl shadow-sm p-6"},R={class:"space-y-6"},z={class:"grid grid-cols-2 md:grid-cols-3 gap-3"},L=["value"],c={class:"text-sm text-gray-700"},q={class:"bg-white border border-gray-200 rounded-xl shadow-sm p-6"},I={class:"space-y-6"},Q={class:"flex items-center gap-3"},j={class:"bg-white border border-gray-200 rounded-xl shadow-sm p-6"},X={class:"flex items-center gap-3"},$={class:"flex justify-between items-center pt-4 border-t border-gray-200"},G={class:"flex gap-3"},h={__name:"Settings",setup(H){const a=k(),x=["Qualified","Awaiting Appointment","To be Called Back","In Negotiation","Offer Sent","Awaiting Response"],s=D({abandonedEligibleStages:[]});S(()=>{u()});function u(){s.value={...a.settings,abandonedEligibleStages:[...a.settings.abandonedEligibleStages]}}function f(){a.updateSettings(s.value),alert("Settings saved successfully!")}function y(){confirm("Are you sure you want to reset all settings to defaults? This cannot be undone.")&&(a.resetToDefaults(),u(),alert("Settings reset to defaults."))}function v(){u()}return(J,t)=>(g(),p("div",T,[i(O,{title:"Settings",subtitle:"Configure business rules and thresholds"}),e("div",M,[e("form",{onSubmit:C(f,["prevent"]),class:"max-w-4xl space-y-8"},[e("div",N,[t[28]||(t[28]=e("h2",{class:"text-lg font-bold text-slate-800 mb-4"},"Opportunity Task Widget Thresholds",-1)),t[29]||(t[29]=e("p",{class:"text-sm text-gray-600 mb-6"},"Configure the number of days before task widgets are triggered for opportunities.",-1)),e("div",B,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"OOFB (Overdue Offer Follow-up)",-1)),e("div",E,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Min Days",-1)),o(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=l=>s.value.oofbMinDays=l),min:"1",class:"input w-full"},null,512),[[n,s.value.oofbMinDays,void 0,{number:!0}]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Max Days",-1)),o(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=l=>s.value.oofbMaxDays=l),min:"1",class:"input w-full"},null,512),[[n,s.value.oofbMaxDays,void 0,{number:!0}]])])])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"UFB (Urgent Follow-up)",-1)),t[17]||(t[17]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Days Threshold",-1)),o(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=l=>s.value.ufbDays=l),min:"1",class:"input w-full"},null,512),[[n,s.value.ufbDays,void 0,{number:!0}]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"OFB (Offer Follow-up)",-1)),t[19]||(t[19]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Days Threshold",-1)),o(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=l=>s.value.ofbDays=l),min:"1",class:"input w-full"},null,512),[[n,s.value.ofbDays,void 0,{number:!0}]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"NFU (No Future Updates)",-1)),t[21]||(t[21]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Days Threshold",-1)),o(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=l=>s.value.nfuDays=l),min:"1",class:"input w-full"},null,512),[[n,s.value.nfuDays,void 0,{number:!0}]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"CFB (Contract Follow-up)",-1)),t[23]||(t[23]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Days Threshold",-1)),o(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=l=>s.value.cfbDays=l),min:"1",class:"input w-full"},null,512),[[n,s.value.cfbDays,void 0,{number:!0}]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"DFB (Delivery Follow-up)",-1)),t[25]||(t[25]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Days Threshold",-1)),o(e("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=l=>s.value.dfbDays=l),min:"1",class:"input w-full"},null,512),[[n,s.value.dfbDays,void 0,{number:!0}]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Offer Sent â†’ Awaiting Response",-1)),t[27]||(t[27]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Auto-transition Days",-1)),o(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=l=>s.value.offerSentToAwaitingResponseDays=l),min:"1",class:"input w-full"},null,512),[[n,s.value.offerSentToAwaitingResponseDays,void 0,{number:!0}]])])])]),e("div",W,[t[34]||(t[34]=e("h2",{class:"text-lg font-bold text-slate-800 mb-4"},"Opportunity Abandonment",-1)),t[35]||(t[35]=e("p",{class:"text-sm text-gray-600 mb-6"},"Configure when opportunities are marked as abandoned.",-1)),e("div",R,[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Abandoned Threshold (Days)",-1)),t[31]||(t[31]=e("p",{class:"text-xs text-gray-500 mb-2"},"Number of days with no activity before marking as abandoned",-1)),o(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=l=>s.value.abandonedOpportunityDays=l),min:"1",class:"input w-full max-w-xs"},null,512),[[n,s.value.abandonedOpportunityDays,void 0,{number:!0}]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Eligible Stages",-1)),t[33]||(t[33]=e("p",{class:"text-xs text-gray-500 mb-3"},"Select which stages can be marked as abandoned",-1)),e("div",z,[(g(),p(V,null,F(x,l=>{var m;return e("label",{key:l,class:U(["flex items-center gap-2 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",{"bg-blue-50 border-blue-300":(m=s.value.abandonedEligibleStages)==null?void 0:m.includes(l)}])},[o(e("input",{type:"checkbox",value:l,"onUpdate:modelValue":t[9]||(t[9]=w=>s.value.abandonedEligibleStages=w),class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,8,L),[[r,s.value.abandonedEligibleStages]]),e("span",c,A(l),1)],2)}),64))])])])]),e("div",q,[t[39]||(t[39]=e("h2",{class:"text-lg font-bold text-slate-800 mb-4"},"Lead Management",-1)),t[40]||(t[40]=e("p",{class:"text-sm text-gray-600 mb-6"},"Configure lead qualification and conversion settings.",-1)),e("div",I,[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Max Contact Attempts",-1)),t[37]||(t[37]=e("p",{class:"text-xs text-gray-500 mb-2"},"Maximum number of contact attempts before auto-disqualification",-1)),o(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=l=>s.value.maxContactAttempts=l),min:"1",max:"20",class:"input w-full max-w-xs"},null,512),[[n,s.value.maxContactAttempts,void 0,{number:!0}]])]),e("div",Q,[o(e("input",{type:"checkbox",id:"excludeNotValid","onUpdate:modelValue":t[11]||(t[11]=l=>s.value.excludeNotValidFromConversion=l),class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[r,s.value.excludeNotValidFromConversion]]),t[38]||(t[38]=e("label",{for:"excludeNotValid",class:"text-sm font-medium text-gray-700 cursor-pointer"},' Exclude "NOT VALID" leads from conversion rate calculations ',-1))])])]),e("div",j,[t[42]||(t[42]=e("h2",{class:"text-lg font-bold text-slate-800 mb-4"},"Task Widgets",-1)),t[43]||(t[43]=e("p",{class:"text-sm text-gray-600 mb-6"},"Configure task widget behavior.",-1)),e("div",X,[o(e("input",{type:"checkbox",id:"autoCloseWidgets","onUpdate:modelValue":t[12]||(t[12]=l=>s.value.autoCloseWidgetsOnClose=l),class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[r,s.value.autoCloseWidgetsOnClose]]),t[41]||(t[41]=e("label",{for:"autoCloseWidgets",class:"text-sm font-medium text-gray-700 cursor-pointer"}," Auto-close NFU/OFB widgets when opportunity is closed (Won/Lost) ",-1))])]),e("div",$,[i(d(b),{label:"Reset to Defaults",variant:"outline",size:"medium",onClick:y}),e("div",G,[i(d(b),{label:"Cancel",variant:"outline",size:"medium",onClick:v}),i(d(b),{label:"Save Settings",variant:"primary",size:"medium",type:"submit"})])])],32)])]))}};export{h as default};
