import{d as l,o as r,e as s,g as v,n as O,t as c,G as W,w as re,k as q,h as z,x as B,D as A,F as L,i as I,_ as oe,r as w,s as x,c as C,y as T,C as ne,W as le,m as ie,l as de,X as ce,Y as ue}from"./index-CadXi4tZ.js";import{u as pe}from"./opportunities-wZyuO2as.js";import{u as me,f as fe,a as ye,b as ge,c as be}from"./customers-BP9h1cmn.js";import{g as ve,f as he,_ as xe}from"./ComingSoonModal-ByrIkT4r.js";import{Q as H}from"./index-Dm9i4Ymj.js";import{z as we,F as ke,L as _e,H as Ce,j as $e,K as Te,C as Ae,W as Se}from"./toggle-group-item.vue_vue_type_script_setup_true_lang-Csij51_o-DsnSKQBg.js";import{_ as Oe}from"./UnifiedAddForm-CcTWcuQA.js";import"./settings-BWd-PFvk.js";import"./ReassignUserModal-D1gdk1zU.js";import"./users-BFrVnYDO.js";import"./CreateEventModal-y9wAHxpI.js";import"./index-Ct-3v9pQ-BaCU_Qk3.js";const Fe={class:"bg-white border border-gray-200 rounded-xl shadow-sm mb-6"},Be={class:"p-4 border-b border-gray-100 bg-gray-50/50 flex justify-between items-center"},Le={class:"flex items-center gap-2"},Ie={class:"font-bold text-gray-900 text-sm"},Ne={class:"flex items-center gap-2"},De={key:0,class:"p-6 text-center text-gray-400"},qe={class:"text-sm"},je={key:1,class:"p-4"},K={__name:"SectionCard",props:{title:{type:String,required:!0},icon:{type:String,default:""},count:{type:Number,default:void 0},countColorClass:{type:String,default:""},showAddButton:{type:Boolean,default:!1},addButtonLabel:{type:String,default:"Add"},addButtonColorClass:{type:String,default:""},emptyStateMessage:{type:String,default:""},hasEmptyState:{type:Boolean,default:!1}},emits:["add"],setup(i){return(y,u)=>(r(),l("div",Fe,[s("div",Be,[s("div",Le,[i.icon?(r(),l("i",{key:0,class:O([i.icon,"text-gray-400 text-xs"])},null,2)):v("",!0),s("h3",Ie,c(i.title),1),i.count!==void 0&&i.count>0?(r(),l("span",{key:1,class:O(["text-xs font-bold px-2 py-0.5 rounded",i.countColorClass||"bg-gray-100 text-gray-700"])},c(i.count),3)):v("",!0)]),s("div",Ne,[W(y.$slots,"header-actions"),i.showAddButton?(r(),l("button",{key:0,onClick:u[0]||(u[0]=re(p=>y.$emit("add"),["stop"])),class:O(["text-xs font-bold flex items-center gap-1 transition-colors",i.addButtonColorClass||"text-blue-600 hover:text-blue-700"])},[u[1]||(u[1]=s("i",{class:"fa-solid fa-plus-circle"},null,-1)),q(" "+c(i.addButtonLabel||"Add"),1)],2)):v("",!0)])]),i.hasEmptyState?(r(),l("div",De,[W(y.$slots,"empty-state",{},()=>[u[2]||(u[2]=s("i",{class:"fa-solid fa-inbox text-2xl mb-2"},null,-1)),s("p",qe,c(i.emptyStateMessage||"No items found"),1)])])):(r(),l("div",je,[W(y.$slots,"content")]))]))}},Me={class:"space-y-3"},Ee=["onClick"],Re={class:"flex items-center justify-between mb-2"},Ue={class:"flex-1 min-w-0"},Ve={class:"flex items-center gap-2 mb-1"},We={class:"font-semibold text-gray-900 text-sm"},ze={class:"flex items-center gap-3 text-xs text-gray-500"},Qe={key:0},Pe={key:1},He={key:0,class:"mt-2 space-y-2 border-t border-gray-200 pt-2"},Ke={class:"flex items-center gap-2"},Ge={class:"text-xs text-gray-700 font-medium"},Xe={__name:"CustomerLeadsWidget",props:{leads:{type:Array,default:()=>[]},allTasks:{type:Array,default:()=>[]}},emits:["add-lead"],setup(i,{emit:y}){const u=i,p=z(),n=t=>{if(!t)return 0;const e=new Date(t),d=Math.abs(new Date-e);return Math.ceil(d/(1e3*60*60*24))},f=t=>{const e=[];return u.allTasks&&u.allTasks.length>0&&u.allTasks.filter(d=>d.leadId===t.id).forEach(d=>{e.push({id:d.id,type:d.title||"Task",description:d.description||d.title})}),t.stage==="Open Lead"&&n(t.createdAt)>=0&&e.push({id:`lead-${t.id}-lq`,type:"LQ",description:"Call to Verify Contact Details"}),e},h=t=>({LQ:"bg-orange-100 text-orange-700 border border-orange-200"})[t]||"bg-gray-100 text-gray-700 border border-gray-200",k=t=>({"Open Lead":"bg-orange-100 text-orange-700 border border-orange-200",Validated:"bg-blue-100 text-blue-700 border border-blue-200",Contacted:"bg-blue-100 text-blue-700 border border-blue-200"})[t]||"bg-gray-100 text-gray-700 border border-gray-200",g=t=>{const e=p.resolve({path:`/tasks/${t.id}`,query:{type:"lead"}});window.open(e.href,"_blank")};return(t,e)=>(r(),B(K,{title:"Leads",icon:"fa-solid fa-user-circle",count:i.leads.length,"count-color-class":"bg-blue-100 text-blue-700","show-add-button":"","add-button-label":"Add Lead","add-button-color-class":"text-blue-600 hover:text-blue-700","has-empty-state":i.leads.length===0,"empty-state-message":"No leads associated with this customer",onAdd:e[0]||(e[0]=a=>t.$emit("add-lead"))},{content:A(()=>[s("div",Me,[(r(!0),l(L,null,I(i.leads,a=>(r(),l("div",{key:a.id,class:"flex flex-col p-3 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg cursor-pointer transition-colors",onClick:d=>g(a)},[s("div",Re,[s("div",Ue,[s("div",Ve,[s("span",We,"Lead #"+c(a.id),1),s("span",{class:O(["text-xs px-2 py-0.5 rounded-full font-medium",k(a.stage)])},c(a.stage),3)]),s("div",ze,[a.assignee?(r(),l("span",Qe,c(a.assignee),1)):v("",!0),a.requestedCar?(r(),l("span",Pe,c(a.requestedCar.brand)+" "+c(a.requestedCar.model),1)):v("",!0)])]),e[1]||(e[1]=s("i",{class:"fa-solid fa-external-link text-gray-400 text-xs ml-2"},null,-1))]),f(a).length>0?(r(),l("div",He,[(r(!0),l(L,null,I(f(a),d=>(r(),l("div",{key:d.id,class:"flex items-center justify-between p-2 bg-white border border-gray-100 rounded-md shadow-sm"},[s("div",Ke,[s("span",{class:O(["text-xs px-1.5 py-0.5 rounded-full font-bold uppercase tracking-wider",h(d.type)])},c(d.type),3),s("span",Ge,c(d.description),1)]),e[2]||(e[2]=s("i",{class:"fa-solid fa-chevron-right text-xs text-gray-300"},null,-1))]))),128))])):v("",!0)],8,Ee))),128))])]),_:1},8,["count","has-empty-state"]))}},Ye={class:"space-y-3"},Je=["onClick"],Ze={class:"flex items-center justify-between mb-2"},et={class:"flex-1 min-w-0"},tt={class:"flex items-center gap-2 mb-1"},st={class:"font-semibold text-gray-900 text-sm"},at={class:"flex items-center gap-3 text-xs text-gray-500"},rt={key:0},ot={key:1},nt={key:2},lt={key:0,class:"mt-2 space-y-2 border-t border-gray-200 pt-2"},it={class:"flex items-center gap-2"},dt={class:"text-xs text-gray-700 font-medium"},ct={__name:"CustomerOpportunitiesWidget",props:{opportunities:{type:Array,default:()=>[]},allTasks:{type:Array,default:()=>[]},activities:{type:Array,default:()=>[]}},emits:["add-opportunity"],setup(i,{emit:y}){const u=i,p=z(),n=t=>{const e=[];u.allTasks&&u.allTasks.length>0&&u.allTasks.filter(S=>S.opportunityId===t.id).forEach(S=>{e.push({id:S.id,type:S.title||"Task",description:S.description||S.title})});const a=u.activities.filter(b=>b.opportunityId===t.id),d={opportunity:t,scheduledAppointment:t.scheduledAppointment||null,activities:a,hasOffers:a.some(b=>b.type==="offer")||!1,stage:t.displayStage||t.stage,deliverySubstatus:t.deliverySubstatus||null},$=ve(d.stage,d);if($){const b={OOFB:"Open Opportunity Feedback",UFB:"Unsold Feedback",NFU:"No Follow-Up",OFB:"Offer Feedback",CFB:"Contract Feedback",DFB:"Delivery Feedback",NS:"No-Show Follow-up"};e.push({id:`opp-${t.id}-${$}`,type:$,description:b[$]||$})}return e},f=t=>({OOFB:"bg-blue-100 text-blue-700 border border-blue-200",UFB:"bg-purple-100 text-purple-700 border border-purple-200",NFU:"bg-red-100 text-red-700 border border-red-200",OFB:"bg-yellow-100 text-yellow-700 border border-yellow-200",CFB:"bg-green-100 text-green-700 border border-green-200",DFB:"bg-teal-100 text-teal-700 border border-teal-200",NS:"bg-pink-100 text-pink-700 border border-pink-200"})[t]||"bg-gray-100 text-gray-700 border border-gray-200",h=t=>new Intl.NumberFormat("en-US").format(t),k=t=>({Qualified:"bg-purple-100 text-purple-700 border border-purple-200","In Negotiation":"bg-blue-100 text-blue-700 border border-blue-200","Closed Won":"bg-green-100 text-green-700 border border-green-200","Closed Lost":"bg-red-100 text-red-700 border border-red-200"})[t]||"bg-gray-100 text-gray-700 border border-gray-200",g=t=>{const e=p.resolve({path:`/tasks/${t.id}`,query:{type:"opportunity"}});window.open(e.href,"_blank")};return(t,e)=>(r(),B(K,{title:"Opportunities",icon:"fa-solid fa-briefcase",count:i.opportunities.length,"count-color-class":"bg-purple-100 text-purple-700","show-add-button":"","add-button-label":"Add Opportunity","add-button-color-class":"text-purple-600 hover:text-purple-700","has-empty-state":i.opportunities.length===0,"empty-state-message":"No opportunities associated with this customer",onAdd:e[0]||(e[0]=a=>t.$emit("add-opportunity"))},{content:A(()=>[s("div",Ye,[(r(!0),l(L,null,I(i.opportunities,a=>(r(),l("div",{key:a.id,class:"flex flex-col p-3 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg cursor-pointer transition-colors",onClick:d=>g(a)},[s("div",Ze,[s("div",et,[s("div",tt,[s("span",st,"Opportunity #"+c(a.id),1),s("span",{class:O(["text-xs px-2 py-0.5 rounded-full font-medium",k(a.stage)])},c(a.displayStage||a.stage),3)]),s("div",at,[a.assignee?(r(),l("span",rt,c(a.assignee),1)):v("",!0),a.value?(r(),l("span",ot,"€ "+c(h(a.value)),1)):v("",!0),a.vehicle?(r(),l("span",nt,c(a.vehicle.brand)+" "+c(a.vehicle.model),1)):v("",!0)])]),e[1]||(e[1]=s("i",{class:"fa-solid fa-external-link text-gray-400 text-xs ml-2"},null,-1))]),n(a).length>0?(r(),l("div",lt,[(r(!0),l(L,null,I(n(a),d=>(r(),l("div",{key:d.id,class:"flex items-center justify-between p-2 bg-white border border-gray-100 rounded-md shadow-sm"},[s("div",it,[s("span",{class:O(["text-xs px-1.5 py-0.5 rounded-full font-bold uppercase tracking-wider",f(d.type)])},c(d.type),3),s("span",dt,c(d.description),1)]),e[2]||(e[2]=s("i",{class:"fa-solid fa-chevron-right text-xs text-gray-300"},null,-1))]))),128))])):v("",!0)],8,Je))),128))])]),_:1},8,["count","has-empty-state"]))}},ut={key:0,class:"mb-8"},pt={class:"relative"},mt={class:"flex overflow-x-auto space-x-4 pb-4 scrollbar-hide scroll-smooth snap-x snap-mandatory",style:{"scrollbar-width":"thin"}},ft=["onClick"],yt={class:"w-full h-36 bg-gray-200 flex items-center justify-center overflow-hidden"},gt=["src"],bt={key:1,class:"fa-solid fa-car text-4xl text-gray-400"},vt={class:"p-4"},ht={class:"font-bold text-gray-800 text-sm mb-1"},xt={key:0,class:"text-xs text-gray-500 mb-2"},wt={key:1,class:"inline-flex items-center gap-1.5 px-2 py-0.5 bg-green-50 border border-green-100 text-green-700 text-xs font-semibold rounded-md mb-2"},kt={__name:"VehiclesCarousel",props:{cars:{type:Array,default:()=>[]}},emits:["car-click"],setup(i,{emit:y}){const u=y,p=w(!1),n=g=>new Intl.NumberFormat("en-US").format(g),f=g=>({requested:"Requested",offered:"Offered",drove:"Drove",purchased:"Purchased"})[g]||"Car",h=g=>({requested:"bg-blue-600",offered:"bg-purple-600",drove:"bg-green-600",purchased:"bg-teal-600"})[g]||"bg-gray-600",k=g=>{u("car-click",g),p.value=!0};return(g,t)=>i.cars.length>0?(r(),l("div",ut,[t[2]||(t[2]=s("div",{class:"flex items-center gap-2 mb-4"},[s("i",{class:"fa-solid fa-thumbtack text-gray-400 text-xs"}),s("h3",{class:"font-bold text-gray-800 text-sm"},"Cars")],-1)),s("div",pt,[s("div",mt,[(r(!0),l(L,null,I(i.cars,(e,a)=>(r(),l("div",{key:e.id,class:"flex-none w-64 snap-start bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow cursor-pointer relative",onClick:d=>k(e)},[s("div",{class:O(["absolute top-2 right-2 z-10 text-white text-xs font-bold px-2 py-1 rounded-md shadow-sm",h(e.type)])},c(f(e.type)),3),s("div",yt,[e.image?(r(),l("img",{key:0,src:e.image,alt:"Car",class:"w-full h-full object-cover"},null,8,gt)):(r(),l("i",bt))]),s("div",vt,[s("h4",ht,c(e.brand)+" "+c(e.model)+" ("+c(e.year)+")",1),e.price?(r(),l("p",xt,"€ "+c(n(e.price)),1)):v("",!0),e.stockDays!==null&&e.stockDays!==void 0?(r(),l("div",wt,[t[1]||(t[1]=s("div",{class:"w-1 h-1 bg-green-500 rounded-full"},null,-1)),q(" In stock ("+c(e.stockDays)+" days) ",1)])):v("",!0)])],8,ft))),128))])]),x(he,{show:p.value,title:"Car Details",onClose:t[0]||(t[0]=e=>p.value=!1)},null,8,["show"])])):v("",!0)}},_t=oe(kt,[["__scopeId","data-v-8adad16c"]]),Ct={__name:"AddLeadOpportunityModal",props:{show:{type:Boolean,default:!1},type:{type:String,required:!0},contact:{type:Object,required:!0}},emits:["close","save"],setup(i,{emit:y}){const u=i,p=y,n=w(null),f=C(()=>u.type==="lead"?"Add New Lead":"Add New Opportunity"),h=C(()=>`Create a ${u.type} for ${u.contact.name}`),k=t=>{t||p("close")},g=t=>{p("save",t)};return(t,e)=>(r(),B(T(Se),{open:i.show,"onUpdate:open":k},{default:A(()=>[x(T(we),null,{default:A(()=>[x(T(ke),{class:"fixed inset-0 z-50 bg-black/50"}),x(T(_e),{class:"w-full sm:max-w-lg"},{default:A(()=>[x(T(Ce),null,{default:A(()=>[x(T($e),null,{default:A(()=>[q(c(f.value),1)]),_:1}),x(T(Te),null,{default:A(()=>[q(c(h.value),1)]),_:1})]),_:1}),x(Oe,{ref_key:"formRef",ref:n,"initial-contact":i.contact,"hide-contact-selection":!0,"force-type":i.type,onSubmit:g},null,8,["initial-contact","force-type"]),x(T(Ae),{class:"flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-3"},{default:A(()=>{var a,d,$,b;return[x(T(H),{label:"Cancel",variant:"outline",size:"small",class:"rounded-sm w-full sm:w-auto",onClick:e[0]||(e[0]=S=>t.$emit("close"))}),x(T(H),{label:(a=n.value)!=null&&a.isSubmitting?"Saving...":"Save",variant:"primary",size:"small",class:"rounded-sm w-full sm:w-auto",disabled:((d=n.value)==null?void 0:d.isSubmitting)||!(($=n.value)!=null&&$.canSubmit),onClick:(b=n.value)==null?void 0:b.submit},null,8,["label","disabled","onClick"])]}),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}},$t={class:"bg-white border border-gray-200 p-6 mb-6"},Tt={class:"flex items-start gap-3 mb-4"},At={class:"flex-1"},St={key:0,class:"text-sm text-gray-700 leading-relaxed whitespace-pre-line"},Ot={key:1,class:"text-sm text-gray-500 italic"},Ft={key:0,class:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-gray-100"},Bt={__name:"CustomerSummaryWidget",props:{summary:{type:String,default:null},preferences:{type:Array,default:()=>[]},customerData:{type:Object,default:null}},setup(i){const y=i,u=C(()=>{if(y.preferences&&y.preferences.length>0)return y.preferences;const p=[],n=y.customerData;if(!n)return p;if(n.preferredVehicleType&&p.push({icon:"fa-solid fa-car",label:`Prefers ${n.preferredVehicleType}s`}),n.preferredChannel){const f={whatsapp:"fa-brands fa-whatsapp",phone:"fa-solid fa-phone",email:"fa-solid fa-envelope",sms:"fa-solid fa-message"};p.push({icon:f[n.preferredChannel.toLowerCase()]||"fa-solid fa-comment",label:`Prefers ${n.preferredChannel}`})}return n.preferredContactTime&&p.push({icon:"fa-solid fa-clock",label:n.preferredContactTime}),n.budgetRange&&p.push({icon:"fa-solid fa-dollar-sign",label:n.budgetRange}),p});return(p,n)=>(r(),l("div",$t,[s("div",Tt,[n[1]||(n[1]=s("div",{class:"flex-shrink-0 mt-1"},[s("i",{class:"fa-solid fa-lightbulb text-2xl text-amber-500"})],-1)),s("div",At,[n[0]||(n[0]=s("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Customer Insights",-1)),i.summary?(r(),l("p",St,c(i.summary),1)):(r(),l("p",Ot," No customer insights available yet. Insights will appear as we learn more about this customer's preferences and behavior. "))])]),u.value&&u.value.length>0?(r(),l("div",Ft,[(r(!0),l(L,null,I(u.value,(f,h)=>(r(),l("span",{key:h,class:"inline-flex items-center gap-1.5 px-3 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded-full"},[s("i",{class:O([f.icon,"text-xs"])},null,2),q(" "+c(f.label),1)]))),128))])):v("",!0)]))}},Lt={class:"h-full flex flex-col overflow-hidden bg-white"},It={key:0,class:"flex-1 flex items-center justify-center"},Nt={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},Ht={__name:"Customer",setup(i){const y=le(),u=z();ne(),pe();const p=me(),n=w(!1),f=w(null),h=w(null),k=w([]),g=w([]),t=w([]),e=w([]),a=w([]),d=C(()=>parseInt(y.params.id)),$=C(()=>"contact"),b=C(()=>{const o=h.value||p.currentCustomer;return o?{...o,id:o.id,type:"contact",customer:{id:o.id,name:o.name,email:o.email,phone:o.phone,address:o.address||"",initials:o.initials},source:o.source||"Direct",tags:o.tags||[],stage:"Contact",assignee:null,assigneeId:null}:null}),S=C(()=>null),G=C(()=>({currentActivities:C(()=>[]),addActivity:async()=>{},updateActivity:async()=>{},deleteActivity:async()=>{}})),X=C(()=>({overviewActions:[],tabActions:["note","email","sms","whatsapp","attachment"]})),Q=async(o=null)=>{const m=o||d.value;if(m)try{const _=y.query.type==="account"?"account":"contact",[M,E,U,se,ae]=await Promise.all([p.fetchCustomerById(m,_),fe(m),ye(m),ge(m),be(m)]);h.value=M||p.currentCustomer,k.value=E.data||[],g.value=U.data||[],t.value=se.data||[],e.value=ae.data||[];const V=[];for(const D of k.value)try{const F=await ce(D.id);V.push(...F)}catch(F){console.error(`Failed to load activities for lead ${D.id}:`,F)}for(const D of g.value)try{const F=await ue(D.id);V.push(...F)}catch(F){console.error(`Failed to load activities for opportunity ${D.id}:`,F)}a.value=V}catch(_){console.error("Error loading customer data:",_)}},R=async()=>{if(!d.value){f.value="No task ID provided";return}n.value=!0,f.value=null;try{await Q()}catch(o){f.value=o.message||"Failed to load task",console.error("Error loading task:",o)}finally{n.value=!1}},Y=async o=>{var m;try{const _=((m=b.value)==null?void 0:m.type)==="contact"?"contact":"account";await p.addRequestedCar(d.value,o),await R()}catch(_){console.error("Error adding car to customer:",_),f.value=_.message||"Failed to add car"}},J=async()=>{try{n.value=!0;const o=await p.convertToLead(d.value);u.push({path:`/tasks/${o.id}`,query:{type:"lead"}})}catch(o){console.error("Error converting to lead:",o),f.value=o.message||"Failed to convert to lead",n.value=!1}},Z=async()=>{try{n.value=!0;const o=await p.convertToOpportunity(d.value);u.push({path:`/tasks/${o.id}`,query:{type:"opportunity"}})}catch(o){console.error("Error converting to opportunity:",o),f.value=o.message||"Failed to convert to opportunity",n.value=!1}},j=w(!1),N=w("lead"),ee=C(()=>{if(!b.value)return{id:null,name:"Unknown",email:"",phone:"",initials:"?"};const o=b.value;return{id:o.id,name:o.name||"Unknown",email:o.email||"",phone:o.phone||"",initials:o.initials||"?"}}),P=o=>{N.value=o,j.value=!0},te=async o=>{try{n.value=!0,j.value=!1;const m=d.value;if(!m)throw new Error("Customer ID not found");N.value==="lead"?await p.convertToLead(m):await p.convertToOpportunity(m),await Q(m),n.value=!1}catch(m){console.error(`Error adding ${N.value}:`,m),f.value=m.message||`Failed to add ${N.value}`,n.value=!1}};return ie(async()=>{await R()}),de(()=>y.params.id,o=>{o&&R()}),(o,m)=>(r(),l("div",Lt,[n.value||!b.value||b.value&&b.value.id!==d.value?(r(),l("div",It,[...m[3]||(m[3]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):(r(),B(xe,{key:1,task:b.value,type:$.value,"management-widget":S.value,"store-adapter":G.value,"add-new-config":X.value,onCarAdded:Y,onConvertToLead:J,onConvertToOpportunity:Z},{"pinned-extra":A(({task:_})=>{var M,E;return[x(Bt,{summary:_.summary||((M=h.value)==null?void 0:M.summary),preferences:_.preferences||((E=h.value)==null?void 0:E.preferences),"customer-data":h.value},null,8,["summary","preferences","customer-data"]),e.value.length>0?(r(),B(_t,{key:0,cars:e.value},null,8,["cars"])):v("",!0),s("div",Nt,[x(Xe,{leads:k.value,"all-tasks":t.value,onAddLead:m[0]||(m[0]=U=>P("lead"))},null,8,["leads","all-tasks"]),x(ct,{opportunities:g.value,"all-tasks":t.value,activities:a.value,onAddOpportunity:m[1]||(m[1]=U=>P("opportunity"))},null,8,["opportunities","all-tasks","activities"])])]}),_:1},8,["task","type","management-widget","store-adapter","add-new-config"])),b.value?(r(),B(Ct,{key:2,show:j.value,type:N.value,contact:ee.value,onClose:m[2]||(m[2]=_=>j.value=!1),onSave:te},null,8,["show","type","contact"])):v("",!0)]))}};export{Ht as default};
