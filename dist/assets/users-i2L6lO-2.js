import{az as s,D as y,r as d,c as u,aA as h,aB as b}from"./index-BSxt259F.js";const r=(e=300)=>new Promise(a=>setTimeout(a,e)),g=async()=>(await r(),[...s]),w=async e=>{await r();const a={id:s.length+1,assigneeId:e.assigneeId||null,assigneeType:e.assigneeType||"user",teamId:e.teamId||null,team:e.team||null,...e};return s.push(a),a},D=async(e,a)=>{await r();const t=s.findIndex(n=>n.id===e);return t!==-1?(s[t]={...s[t],...a},s[t]):null},T=async e=>{await r();const a=s.findIndex(t=>t.id===e);return a!==-1?(s.splice(a,1),!0):!1},I=async()=>{await r();const e=new Date;e.setHours(0,0,0,0);const a=new Date(e);return a.setDate(a.getDate()+1),s.filter(t=>{const n=new Date(t.start);return n.setHours(0,0,0,0),n>=e&&n<a})},E=async(e=7)=>{await r();const a=new Date;a.setHours(0,0,0,0);const t=new Date(a);return t.setDate(t.getDate()+e),s.filter(n=>{const c=new Date(n.start);return c>=a&&c<t})},S=["appointment","test-drive","meeting","call","delivery","offsite","workshop"],A=async e=>(await r(),s.filter(a=>a.customerId===parseInt(e)&&S.includes(a.type)).sort((a,t)=>new Date(t.start)-new Date(a.start))),C=async()=>(await r(),{eventTypes:[{value:"test-drive",label:"Test Drive"},{value:"appointment",label:"Dealership Visit"},{value:"offsite",label:"Offsite Visit"},{value:"workshop",label:"Workshop"},{value:"call",label:"Call"},{value:"delivery",label:"Delivery"},{value:"meeting",label:"Meeting"},{value:"training",label:"Training"},{value:"marketing",label:"Marketing Event"},{value:"leave",label:"Leave"},{value:"memo",label:"Memo"},{value:"recall",label:"Recall"},{value:"absence",label:"Absence"},{value:"other",label:"Other"}],dealerships:["Main Dealership","Downtown Branch","Westside Location"],teams:["Sales Team A","Sales Team B","Service Team"],users:[{id:1,name:"John Doe"},{id:2,name:"Jane Smith"},{id:3,name:"Mike Johnson"}]}),M=Object.freeze(Object.defineProperty({__proto__:null,createCalendarEvent:w,deleteCalendarEvent:T,fetchAppointmentsByCustomerId:A,fetchCalendarEvents:g,fetchCalendarFilterOptions:C,fetchTodayAppointments:I,fetchUpcomingAppointments:E,updateCalendarEvent:D},Symbol.toStringTag,{value:"Module"})),U=y("users",()=>{const e=d([]),a=d(!1),t=u(()=>h);(async()=>{a.value=!0;try{e.value=await b()}catch(l){console.error("Failed to fetch users:",l),e.value=[]}finally{a.value=!1}})();const c=l=>e.value.find(o=>o.id===l),m=l=>t.value.find(o=>o.id===l),v=u(()=>e.value),p=u(()=>t.value),f=u(()=>{const l=t.value.map(i=>({...i,type:"team",icon:"fa-users",label:i.name})),o=e.value.map(i=>({...i,type:"user",icon:"fa-user",label:i.name}));return[...l,...o]});return{users:e,teams:t,getUserById:c,getTeamById:m,assignableUsers:v,assignableTeams:p,mixedAssignees:f}});export{E as a,C as b,w as c,A as d,g as e,I as f,T as g,D as h,M as i,U as u};
