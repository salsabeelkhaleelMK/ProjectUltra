import{r as N,c as w,l as R,x as V,o,E as d,s as n,y as r,e as a,k as L,d as i,g,F as h,i as C,n as x,t as f,Q as z}from"./index-DqXOZZRa.js";import{u as A}from"./users-BeZFi7uU.js";import{z as E,F as H,L as Q,H as W,j as q,C as D,W as M}from"./toggle-group-item.vue_vue_type_script_setup_true_lang-Csij51_o-CzLkKHlp.js";const O={class:"space-y-2 max-h-96 overflow-y-auto mb-4"},G={key:0,class:"mb-3"},I=["onClick"],J={class:"flex-1"},K={class:"font-medium text-gray-900"},P={key:0,class:"fa-solid fa-check text-primary-600"},X=["onClick"],Y={class:"flex-1"},Z={class:"font-medium text-gray-900"},ee={class:"text-xs text-gray-500 capitalize"},se={key:0,class:"fa-solid fa-check text-primary-600"},re={__name:"ReassignUserModal",props:{show:{type:Boolean,required:!0}},emits:["close","confirm"],setup(y,{emit:U}){const $=y,b=U,v=A(),t=N(null),j=w(()=>v.assignableUsers),_=w(()=>v.assignableTeams),B=l=>({manager:"bg-blue-100 text-blue-700",salesman:"bg-purple-100 text-purple-700",operator:"bg-orange-100 text-orange-700"})[l]||"bg-gray-100 text-gray-700",S=l=>{l||b("close")};R(()=>$.show,l=>{l||(t.value=null)});const k=l=>{t.value=l},T=()=>{t.value&&(b("confirm",t.value),t.value=null)};return(l,s)=>(o(),V(r(M),{open:y.show,"onUpdate:open":S},{default:d(()=>[n(r(E),null,{default:d(()=>[n(r(H),{class:"fixed inset-0 z-50 bg-black/50"}),n(r(Q),{class:"w-full sm:max-w-md"},{default:d(()=>[n(r(W),null,{default:d(()=>[n(r(q),null,{default:d(()=>[...s[1]||(s[1]=[L("Reassign",-1)])]),_:1})]),_:1}),s[6]||(s[6]=a("p",{class:"text-sm text-gray-600 mb-4"}," Select a user or team to reassign: ",-1)),a("div",O,[_.value.length?(o(),i("div",G,[s[4]||(s[4]=a("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-1"},"Teams",-1)),(o(!0),i(h,null,C(_.value,e=>{var m,u,c,p;return o(),i("button",{key:`team-${e.id}`,onClick:F=>k({type:"team",id:e.id,name:e.name}),class:x(["w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 hover:border-primary-300 transition-colors text-left",{"bg-primary-50 border-primary-400":((m=t.value)==null?void 0:m.type)==="team"&&((u=t.value)==null?void 0:u.id)===e.id}])},[s[3]||(s[3]=a("div",{class:"w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm bg-green-100 text-green-700"},[a("i",{class:"fa-solid fa-users text-sm"})],-1)),a("div",J,[a("p",K,f(e.name),1),s[2]||(s[2]=a("p",{class:"text-xs text-gray-500"},"Team",-1))]),((c=t.value)==null?void 0:c.type)==="team"&&((p=t.value)==null?void 0:p.id)===e.id?(o(),i("i",P)):g("",!0)],10,I)}),128))])):g("",!0),a("div",null,[s[5]||(s[5]=a("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-1"},"Users",-1)),(o(!0),i(h,null,C(j.value,e=>{var m,u,c,p;return o(),i("button",{key:`user-${e.id}`,onClick:F=>k({type:"user",id:e.id,name:e.name}),class:x(["w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 hover:border-primary-300 transition-colors text-left",{"bg-primary-50 border-primary-400":((m=t.value)==null?void 0:m.type)==="user"&&((u=t.value)==null?void 0:u.id)===e.id}])},[a("div",{class:x(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm",B(e.role)])},f(e.initials),3),a("div",Y,[a("p",Z,f(e.name),1),a("p",ee,f(e.role)+" â€¢ "+f(e.email),1)]),((c=t.value)==null?void 0:c.type)==="user"&&((p=t.value)==null?void 0:p.id)===e.id?(o(),i("i",se)):g("",!0)],10,X)}),128))])]),n(r(D),{class:"flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-3"},{default:d(()=>[n(r(z),{label:"Cancel",variant:"outline",size:"small",class:"rounded-sm w-full sm:w-auto",onClick:s[0]||(s[0]=e=>l.$emit("close"))}),n(r(z),{label:"Reassign",variant:"primary",size:"small",class:"rounded-sm w-full sm:w-auto",disabled:!t.value,onClick:T},null,8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}};export{re as _};
