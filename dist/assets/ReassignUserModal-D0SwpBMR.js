import{u as R}from"./users-CzjLCIoh.js";import{_ as T}from"./ModalShell-CHgAd1m8.js";import{r as j,c as f,A,p as z,o,y as v,e as t,d as l,g as u,F as h,i as _,n as p,t as c}from"./index-DhXdPUMX.js";const F={class:"space-y-2 max-h-96 overflow-y-auto mb-4"},N={key:0,class:"mb-3"},V=["onClick"],q={class:"flex-1"},D={class:"font-medium text-slate-800"},E={key:0,class:"fa-solid fa-check text-primary-600"},L=["onClick"],M={class:"flex-1"},G={class:"font-medium text-slate-800"},H={class:"text-xs text-gray-500 capitalize"},I={key:0,class:"fa-solid fa-check text-primary-600"},J={class:"p-4 bg-gray-50 flex justify-end gap-3 border-t border-gray-100"},K=["disabled"],W={__name:"ReassignUserModal",props:{show:{type:Boolean,required:!0}},emits:["close","confirm"],setup(g,{emit:k}){const w=g,C=k,b=R(),r=j(null),$=f(()=>b.assignableUsers),y=f(()=>b.assignableTeams),B=a=>({manager:"bg-blue-100 text-blue-700",salesman:"bg-purple-100 text-purple-700",operator:"bg-orange-100 text-orange-700"})[a]||"bg-gray-100 text-gray-700";A(()=>w.show,a=>{a||(r.value=null)});const x=a=>{r.value=a},S=()=>{r.value&&(C("confirm",r.value),r.value=null)};return(a,s)=>(o(),z(T,{show:g.show,onClose:s[1]||(s[1]=e=>a.$emit("close")),title:"Reassign"},{footer:v(()=>[t("div",J,[t("button",{onClick:s[0]||(s[0]=e=>a.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"}," Cancel "),t("button",{onClick:S,disabled:!r.value,class:"px-4 py-2 text-sm font-medium text-primary-700 bg-primary-50 hover:bg-primary-100 border border-primary-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," Reassign ",8,K)])]),default:v(()=>[s[6]||(s[6]=t("p",{class:"text-sm text-gray-600 mb-4"}," Select a user or team to reassign: ",-1)),t("div",F,[y.value.length?(o(),l("div",N,[s[4]||(s[4]=t("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-1"},"Teams",-1)),(o(!0),l(h,null,_(y.value,e=>{var i,n,d,m;return o(),l("button",{key:`team-${e.id}`,onClick:U=>x({type:"team",id:e.id,name:e.name}),class:p(["w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 hover:border-primary-300 transition-colors text-left",{"bg-primary-50 border-primary-400":((i=r.value)==null?void 0:i.type)==="team"&&((n=r.value)==null?void 0:n.id)===e.id}])},[s[3]||(s[3]=t("div",{class:"w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm bg-green-100 text-green-700"},[t("i",{class:"fa-solid fa-users text-sm"})],-1)),t("div",q,[t("p",D,c(e.name),1),s[2]||(s[2]=t("p",{class:"text-xs text-gray-500"},"Team",-1))]),((d=r.value)==null?void 0:d.type)==="team"&&((m=r.value)==null?void 0:m.id)===e.id?(o(),l("i",E)):u("",!0)],10,V)}),128))])):u("",!0),t("div",null,[s[5]||(s[5]=t("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-1"},"Users",-1)),(o(!0),l(h,null,_($.value,e=>{var i,n,d,m;return o(),l("button",{key:`user-${e.id}`,onClick:U=>x({type:"user",id:e.id,name:e.name}),class:p(["w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 hover:border-primary-300 transition-colors text-left",{"bg-primary-50 border-primary-400":((i=r.value)==null?void 0:i.type)==="user"&&((n=r.value)==null?void 0:n.id)===e.id}])},[t("div",{class:p(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm",B(e.role)])},c(e.initials),3),t("div",M,[t("p",G,c(e.name),1),t("p",H,c(e.role)+" â€¢ "+c(e.email),1)]),((d=r.value)==null?void 0:d.type)==="user"&&((m=r.value)==null?void 0:m.id)===e.id?(o(),l("i",I)):u("",!0)],10,L)}),128))])])]),_:1},8,["show"]))}};export{W as _};
