import{ab as B,ac as le,r as A,c as L,ad as H,l as G,m as ae,J as se,p as b,d as y,o as g,e as t,g as U,a3 as J,K as V,F as oe,i as ne,t as h,k as P,y as R,j as Y,v as I,n as N,s as X,ae as Z,w as re}from"./index-H5Cqf6fX.js";import{fetchContacts as ie,fetchContactById as _,createContact as ue,updateContact as de,deleteContact as ce,addRequestedCarToContact as pe,convertContactToLead as me,convertContactToOpportunity as ve}from"./contacts-Dm10rkvw.js";const F=(o=300)=>new Promise(n=>setTimeout(n,o)),Q=()=>B.filter(o=>o.company&&o.company!==""),be=async(o={})=>{await F();let n=Q();if(o.search){const i=o.search.toLowerCase();n=n.filter(r=>{var x;return r.name.toLowerCase().includes(i)||r.email.toLowerCase().includes(i)||((x=r.company)==null?void 0:x.toLowerCase().includes(i))})}return{data:n,total:n.length}},ee=async o=>{await F();const i=Q().find(r=>r.id===parseInt(o));if(!i)throw new Error("Account not found");return i},fe=async o=>{await F();const n={id:B.length+1,...o,createdAt:new Date().toISOString(),lastContact:new Date().toISOString()};return B.push(n),n},ye=async(o,n)=>{if(await F(),Q().findIndex(E=>E.id===parseInt(o))===-1)throw new Error("Account not found");const x=B.findIndex(E=>E.id===parseInt(o));return x!==-1&&(B[x]={...B[x],...n}),B[x]},ge=async o=>{await F();const n=B.findIndex(i=>i.id===parseInt(o));if(n===-1)throw new Error("Account not found");return B.splice(n,1),{success:!0}},xe=le("customers",()=>{const o=A([]),n=A(null),i=A(!1),r=A(null),x=A(""),E=L(()=>o.value.filter(a=>a.type==="contact")),w=L(()=>o.value.filter(a=>a.type==="account")),C=L(()=>o.value.length),v=L(()=>E.value.length),m=L(()=>w.value.length),f=async(a={})=>{i.value=!0,r.value=null;try{const[u,d]=await Promise.all([ie(a),be(a)]),p=[...u.data.map(k=>({...k,type:"contact"})),...d.data.map(k=>({...k,type:"account"}))];return o.value=p,{data:p,total:p.length}}catch(u){throw r.value=u.message,u}finally{i.value=!1}},s=async(a,u=null)=>{i.value=!0,r.value=null;try{if(u==="contact")n.value={...await _(a),type:"contact"};else if(u==="account")n.value={...await ee(a),type:"account"};else try{const d=await _(a);n.value={...d,type:"contact"}}catch{const d=await ee(a);n.value={...d,type:"account"}}return n.value}catch(d){throw r.value=d.message,d}finally{i.value=!1}},T=async a=>{i.value=!0,r.value=null;try{const u=a.company&&a.company!=="",p={...await(u?fe(a):ue(a)),type:u?"account":"contact"};return o.value.unshift(p),p}catch(u){throw r.value=u.message,u}finally{i.value=!1}},S=async(a,u,d)=>{var p;i.value=!0,r.value=null;try{const k=await(d==="account"?ye(a,u):de(a,u)),W=o.value.findIndex(c=>c.id===a);return W!==-1&&(o.value[W]={...k,type:d}),((p=n.value)==null?void 0:p.id)===a&&(n.value={...k,type:d}),{...k,type:d}}catch(k){throw r.value=k.message,k}finally{i.value=!1}},D=async(a,u)=>{var d;i.value=!0,r.value=null;try{await(u==="account"?ge(a):ce(a)),o.value=o.value.filter(p=>p.id!==a),((d=n.value)==null?void 0:d.id)===a&&(n.value=null)}catch(p){throw r.value=p.message,p}finally{i.value=!1}};function q(a){x.value=a,f({search:a})}return{customers:o,contacts:E,accounts:w,currentCustomer:n,loading:i,error:r,searchQuery:x,totalCustomers:C,totalContacts:v,totalAccounts:m,fetchCustomers:f,fetchCustomerById:s,addCustomer:T,updateCustomer:S,removeCustomer:D,setSearchQuery:q,addContact:async a=>await T({...a,company:null}),modifyContact:async(a,u)=>await S(a,u,"contact"),removeContact:async a=>await D(a,"contact"),addRequestedCar:async(a,u)=>{const d=o.value.find(p=>p.id===a);if(!d)throw new Error("Customer not found");if(d.type==="contact")return await pe(a,u);throw new Error("Requested cars not supported for accounts")},convertToLead:async a=>{var d;const u=o.value.find(p=>p.id===a);if(!u)throw new Error("Customer not found");if(u.type==="contact"){const p=await me(a);return o.value=o.value.filter(k=>k.id!==a),((d=n.value)==null?void 0:d.id)===a&&(n.value=null),p}throw new Error("Only contacts can be converted to leads")},convertToOpportunity:async a=>{var d;const u=o.value.find(p=>p.id===a);if(!u)throw new Error("Customer not found");if(u.type==="contact"){const p=await ve(a);return o.value=o.value.filter(k=>k.id!==a),((d=n.value)==null?void 0:d.id)===a&&(n.value=null),p}throw new Error("Only contacts can be converted to opportunities")}}});function we({contactMode:o,selectedContact:n,contactFormData:i}){const r=H({name:"",email:""}),x=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v),E=L(()=>o.value==="existing"?!!n.value:!!(i.name&&i.email));return{errors:r,canSubmit:E,validateEmail:x,validateContactForm:()=>{if(r.name="",r.email="",o.value==="new"){let v=!0;return i.name.trim()||(r.name="Contact name is required",v=!1),i.email.trim()?x(i.email)||(r.email="Please enter a valid email address",v=!1):(r.email="Email is required",v=!1),v}else return!!n.value},clearErrors:()=>{r.name="",r.email=""}}}function Ce({contactMode:o,selectedContact:n,contactFormData:i,vehicleFormData:r,markAsLead:x,markAsOpportunity:E,validateContactForm:w,onSubmit:C}){const v=A(!1),m=S=>Object.entries(S).reduce((D,[q,O])=>{if(O!==null&&O!==""&&O!==void 0){if(q==="year"&&O===new Date().getFullYear())return D;D[q]=O}return D},{}),f=()=>o.value==="new"?{name:i.name.trim(),email:i.email.trim(),phone:i.phone.trim(),company:i.company.trim()}:null,s=()=>{if(!w())return;v.value=!0;const S=m(r),D=f(),q={contactMode:o.value,selectedContact:n.value,contactData:D,vehicleData:Object.keys(S).length>0?S:null,markAsLead:x.value,markAsOpportunity:E.value};C&&C(q)},T=()=>{v.value=!1};return{isSubmitting:L(()=>v.value),handleSubmit:s,resetSubmitting:T}}const ke={class:"bg-surface border border-E5E7EB rounded-lg p-6 mb-6"},he={key:0},Ee={class:"flex gap-6 mb-6"},Se={class:"flex items-center gap-2 cursor-pointer"},Ve={class:"flex items-center gap-2 cursor-pointer"},Te={key:0,class:"space-y-4"},Ae={class:"relative"},De={class:"relative"},qe={key:0,class:"absolute z-50 w-full mt-2 bg-surface border border-E5E7EB rounded-lg shadow-lg max-h-80 overflow-y-auto"},Ue=["onClick"],Me={class:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm font-bold shrink-0"},Le={class:"flex-1 min-w-0"},Be={class:"font-semibold text-gray-800 truncate"},Oe={class:"text-meta truncate"},Re={key:0,class:"text-xs text-gray-400 truncate"},Pe={key:1,class:"absolute z-50 w-full mt-2 bg-surface border border-E5E7EB rounded-lg shadow-lg p-4"},Ie={class:"text-center text-gray-500"},Fe={class:"text-sm"},je={key:0,class:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4"},Ne={class:"flex items-center justify-between"},We={class:"flex items-center gap-3"},Ye={class:"w-12 h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm font-bold"},He={class:"font-bold text-gray-800"},Qe={class:"text-content text-gray-600"},ze={key:0,class:"text-xs text-gray-500"},$e={key:1,class:"space-y-4"},Ke=["required"],Ge={key:0,class:"text-red-500 text-xs mt-1"},Je=["required"],Xe={key:0,class:"text-red-500 text-xs mt-1"},Ze={key:1,class:"bg-surfaceSecondary border border-E5E7EB rounded-lg p-4"},_e={class:"flex items-center gap-3"},et={class:"w-12 h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm font-bold"},tt={class:"font-bold text-gray-800"},lt={class:"text-sm text-gray-600"},at={key:0,class:"text-xs text-gray-500"},st={class:"bg-surface border border-E5E7EB rounded-lg p-6 mb-6"},ot={class:"mb-6"},nt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},rt=["max"],it={class:"md:col-span-2"},ut={class:"mb-6"},dt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ct={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pt={class:"bg-surfaceSecondary border border-E5E7EB rounded-lg p-6 mb-6"},mt={key:0,class:"space-y-3"},vt={key:1,class:"p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-3"},bt={class:"text-sm font-medium text-blue-900"},ft={key:2,class:"mt-3 flex items-start gap-2 text-xs text-orange-600 bg-orange-50 border border-orange-200 rounded-lg p-3"},yt={key:3,class:"text-xs text-gray-500 mt-3 italic"},Ct={__name:"UnifiedAddForm",props:{initialContact:{type:Object,default:null},hideContactSelection:{type:Boolean,default:!1},forceType:{type:String,default:""}},emits:["submit"],setup(o,{expose:n,emit:i}){const r=o,x=i,E=xe(),w=A(r.initialContact?"existing":"new"),C=A(""),v=A(!1),m=A(r.initialContact||null),f=H({name:"",email:"",phone:"",company:""}),s=H({brand:"",model:"",year:new Date().getFullYear(),price:null,requestMessage:"",requestType:"",source:"",dealership:"",channel:"Email",fuelType:"",gearType:"",kilometers:null,stockDays:null}),T=A(r.forceType==="lead"),S=A(r.forceType==="opportunity");G(()=>r.forceType,c=>{c==="lead"?(T.value=!0,S.value=!1):c==="opportunity"&&(T.value=!1,S.value=!0)}),G(()=>r.initialContact,c=>{c&&(m.value=c,C.value=c.name,w.value="existing")},{immediate:!0});let D=null;const{errors:q,canSubmit:O,validateContactForm:z,clearErrors:$}=we({contactMode:w,selectedContact:m,contactFormData:f});ae(()=>{E.customers.length===0&&E.fetchCustomers()});const j=L(()=>{if(!C.value.trim())return E.customers.slice(0,10);const c=C.value.toLowerCase();return E.customers.filter(e=>e.name.toLowerCase().includes(c)||e.email.toLowerCase().includes(c)||e.company&&e.company.toLowerCase().includes(c)).slice(0,10)}),M=L(()=>!!(s.brand||s.model||s.year!==new Date().getFullYear()||s.price||s.requestMessage||s.requestType||s.source||s.dealership||s.fuelType||s.gearType||s.kilometers||s.stockDays)),{isSubmitting:K,handleSubmit:a,resetSubmitting:u}=Ce({contactMode:w,selectedContact:m,contactFormData:f,vehicleFormData:s,markAsLead:T,markAsOpportunity:S,validateContactForm:z,onSubmit:c=>{x("submit",c)}}),d=()=>{clearTimeout(D),D=setTimeout(()=>{v.value=!0},300)},p=c=>{m.value=c,C.value=c.name,v.value=!1},k=()=>{m.value=null,C.value="",v.value=!1};return n({resetSubmitting:u,submit:a,clear:()=>{w.value="new",m.value=null,C.value="",v.value=!1,f.name="",f.email="",f.phone="",f.company="",Object.keys(s).forEach(c=>{c==="year"?s[c]=new Date().getFullYear():c==="channel"?s[c]="Email":typeof s[c]=="number"?s[c]=null:s[c]=""}),T.value=!1,S.value=!1,$()},canSubmit:O,isSubmitting:K}),(c,e)=>{const te=se("click-outside");return b((g(),y("form",{onSubmit:e[23]||(e[23]=re((...l)=>c.handleSubmit&&c.handleSubmit(...l),["prevent"])),class:"max-w-4xl mx-auto"},[t("div",ke,[e[36]||(e[36]=t("h3",{class:"font-bold text-gray-800 mb-4"},"Contact Information",-1)),o.hideContactSelection?m.value?(g(),y("div",Ze,[t("div",_e,[t("div",et,h(m.value.initials),1),t("div",null,[t("div",tt,h(m.value.name),1),t("div",lt,h(m.value.email),1),m.value.company?(g(),y("div",at,h(m.value.company),1)):U("",!0)])])])):U("",!0):(g(),y("div",he,[t("div",Ee,[t("label",Se,[b(t("input",{type:"radio","onUpdate:modelValue":e[0]||(e[0]=l=>w.value=l),value:"new",class:"w-4 h-4 text-blue-600"},null,512),[[J,w.value]]),e[24]||(e[24]=t("span",{class:"text-sm font-medium text-body"},"New Contact",-1))]),t("label",Ve,[b(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=l=>w.value=l),value:"existing",class:"w-4 h-4 text-blue-600"},null,512),[[J,w.value]]),e[25]||(e[25]=t("span",{class:"text-sm font-medium text-body"},"Existing Contact",-1))])]),w.value==="existing"?(g(),y("div",Te,[t("div",Ae,[e[29]||(e[29]=t("label",{class:"block label-upper mb-2"},"Search Contact",-1)),t("div",De,[e[26]||(e[26]=t("i",{class:"fa-solid fa-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1)),b(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>C.value=l),onInput:d,onFocus:e[3]||(e[3]=l=>v.value=!0),type:"text",placeholder:"Search by name, email, or company...",class:"input pl-10"},null,544),[[V,C.value]])]),v.value&&j.value.length>0?(g(),y("div",qe,[(g(!0),y(oe,null,ne(j.value,l=>(g(),y("div",{key:l.id,onClick:gt=>p(l),class:"flex items-center gap-3 p-4 hover:bg-surfaceSecondary cursor-pointer transition-colors border-b border last:border-b-0"},[t("div",Me,h(l.initials),1),t("div",Le,[t("div",Be,h(l.name),1),t("div",Oe,h(l.email),1),l.company?(g(),y("div",Re,h(l.company),1)):U("",!0)]),e[27]||(e[27]=t("i",{class:"fa-solid fa-chevron-right text-gray-400 text-sm"},null,-1))],8,Ue))),128))])):U("",!0),v.value&&C.value&&j.value.length===0?(g(),y("div",Pe,[t("div",Ie,[e[28]||(e[28]=t("i",{class:"fa-solid fa-search text-2xl mb-2"},null,-1)),t("p",Fe,'No contacts found matching "'+h(C.value)+'"',1)])])):U("",!0)]),m.value?(g(),y("div",je,[t("div",Ne,[t("div",We,[t("div",Ye,h(m.value.initials),1),t("div",null,[t("div",He,h(m.value.name),1),t("div",Qe,h(m.value.email),1),m.value.company?(g(),y("div",ze,h(m.value.company),1)):U("",!0)])]),t("button",{type:"button",onClick:k,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...e[30]||(e[30]=[t("i",{class:"fa-solid fa-xmark text-xl"},null,-1)])])])])):U("",!0)])):(g(),y("div",$e,[t("div",null,[e[31]||(e[31]=t("label",{class:"block label-upper mb-2"},[P(" Contact Name "),t("span",{class:"text-red-500"},"*")],-1)),b(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>f.name=l),type:"text",placeholder:"Enter contact name...",class:"input",required:w.value==="new"},null,8,Ke),[[V,f.name]]),R(q).name?(g(),y("p",Ge,h(R(q).name),1)):U("",!0)]),t("div",null,[e[32]||(e[32]=t("label",{class:"block label-upper mb-2"},[P(" Email "),t("span",{class:"text-red-500"},"*")],-1)),b(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>f.email=l),type:"email",placeholder:"contact@example.com",class:"input",required:w.value==="new"},null,8,Je),[[V,f.email]]),R(q).email?(g(),y("p",Xe,h(R(q).email),1)):U("",!0)]),t("div",null,[e[33]||(e[33]=t("label",{class:"block label-upper mb-2"},"Phone",-1)),b(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>f.phone=l),type:"tel",placeholder:"+49...",class:"input"},null,512),[[V,f.phone]])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block label-upper mb-2"},"Company (optional)",-1)),b(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>f.company=l),type:"text",placeholder:"Company name...",class:"input"},null,512),[[V,f.company]]),e[35]||(e[35]=t("p",{class:"text-xs text-gray-500 mt-1"},"Leave empty for individual contacts",-1))])]))]))]),t("div",st,[e[59]||(e[59]=t("h3",{class:"font-bold text-gray-800 mb-4"},[P(" Vehicle Details "),t("span",{class:"text-meta font-normal"},"(Optional)")],-1)),t("div",ot,[e[42]||(e[42]=t("h4",{class:"text-xs font-bold uppercase text-gray-500 tracking-wider mb-4"},"Basic Information",-1)),t("div",nt,[t("div",null,[e[37]||(e[37]=t("label",{class:"block label-upper mb-2"},"Brand",-1)),b(t("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>s.brand=l),type:"text",placeholder:"e.g., Volkswagen",class:"input"},null,512),[[V,s.brand]])]),t("div",null,[e[38]||(e[38]=t("label",{class:"block label-upper mb-2"},"Model",-1)),b(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>s.model=l),type:"text",placeholder:"e.g., ID.4",class:"input"},null,512),[[V,s.model]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"block label-upper mb-2"},"Year",-1)),b(t("input",{"onUpdate:modelValue":e[10]||(e[10]=l=>s.year=l),type:"number",min:"1900",max:new Date().getFullYear()+1,placeholder:"e.g., 2024",class:"input"},null,8,rt),[[V,s.year]])]),t("div",null,[e[40]||(e[40]=t("label",{class:"block label-upper mb-2"},"Price",-1)),b(t("input",{"onUpdate:modelValue":e[11]||(e[11]=l=>s.price=l),type:"number",min:"0",placeholder:"e.g., 45000",class:"input"},null,512),[[V,s.price]])]),t("div",it,[e[41]||(e[41]=t("label",{class:"block label-upper mb-2"},"Request Message",-1)),b(t("textarea",{"onUpdate:modelValue":e[12]||(e[12]=l=>s.requestMessage=l),rows:"3",placeholder:"Customer's message or notes...",class:"input resize-none"},null,512),[[V,s.requestMessage]])])])]),t("div",ut,[e[50]||(e[50]=t("h4",{class:"text-xs font-bold uppercase text-gray-500 tracking-wider mb-4"},"Request Details",-1)),t("div",dt,[t("div",null,[e[44]||(e[44]=t("label",{class:"block label-upper mb-2"},"Request Type",-1)),b(t("select",{"onUpdate:modelValue":e[13]||(e[13]=l=>s.requestType=l),class:"input"},[...e[43]||(e[43]=[Y('<option value="">Select type</option><option value="Quotation">Quotation</option><option value="Test Drive">Test Drive</option><option value="Information">Information</option><option value="Purchase">Purchase</option>',5)])],512),[[I,s.requestType]])]),t("div",null,[e[46]||(e[46]=t("label",{class:"block label-upper mb-2"},"Source",-1)),b(t("select",{"onUpdate:modelValue":e[14]||(e[14]=l=>s.source=l),class:"input"},[...e[45]||(e[45]=[Y('<option value="">Select source</option><option value="Marketing">Marketing</option><option value="Website">Website</option><option value="Phone">Phone</option><option value="Walk-in">Walk-in</option><option value="Referral">Referral</option>',6)])],512),[[I,s.source]])]),t("div",null,[e[47]||(e[47]=t("label",{class:"block label-upper mb-2"},"Dealership",-1)),b(t("input",{"onUpdate:modelValue":e[15]||(e[15]=l=>s.dealership=l),type:"text",placeholder:"e.g., Berlin Mitte",class:"input"},null,512),[[V,s.dealership]])]),t("div",null,[e[49]||(e[49]=t("label",{class:"block label-upper mb-2"},"Channel",-1)),b(t("select",{"onUpdate:modelValue":e[16]||(e[16]=l=>s.channel=l),class:"input"},[...e[48]||(e[48]=[t("option",{value:"Email"},"Email",-1),t("option",{value:"Phone"},"Phone",-1),t("option",{value:"WhatsApp"},"WhatsApp",-1),t("option",{value:"SMS"},"SMS",-1)])],512),[[I,s.channel]])])])]),t("div",null,[e[58]||(e[58]=t("h4",{class:"text-xs font-bold uppercase text-gray-500 tracking-wider mb-4"},"Vehicle Details",-1)),t("div",ct,[t("div",null,[e[52]||(e[52]=t("label",{class:"block label-upper mb-2"},"Fuel Type",-1)),b(t("select",{"onUpdate:modelValue":e[17]||(e[17]=l=>s.fuelType=l),class:"input"},[...e[51]||(e[51]=[Y('<option value="">Select fuel type</option><option value="Petrol">Petrol</option><option value="Diesel">Diesel</option><option value="Electric">Electric</option><option value="Hybrid">Hybrid</option><option value="Plug-in Hybrid">Plug-in Hybrid</option>',6)])],512),[[I,s.fuelType]])]),t("div",null,[e[54]||(e[54]=t("label",{class:"block label-upper mb-2"},"Gear Type",-1)),b(t("select",{"onUpdate:modelValue":e[18]||(e[18]=l=>s.gearType=l),class:"input"},[...e[53]||(e[53]=[t("option",{value:""},"Select gear type",-1),t("option",{value:"Manual"},"Manual",-1),t("option",{value:"Automatic"},"Automatic",-1),t("option",{value:"Semi-Automatic"},"Semi-Automatic",-1)])],512),[[I,s.gearType]])]),t("div",null,[e[55]||(e[55]=t("label",{class:"block label-upper mb-2"},"Kilometers",-1)),b(t("input",{"onUpdate:modelValue":e[19]||(e[19]=l=>s.kilometers=l),type:"number",min:"0",placeholder:"e.g., 50000",class:"input"},null,512),[[V,s.kilometers]])]),t("div",null,[e[56]||(e[56]=t("label",{class:"block label-upper mb-2"},"Stock Days",-1)),b(t("input",{"onUpdate:modelValue":e[20]||(e[20]=l=>s.stockDays=l),type:"number",min:"0",placeholder:"Days in stock",class:"input"},null,512),[[V,s.stockDays]]),e[57]||(e[57]=t("p",{class:"text-xs text-gray-500 mt-1"},"Leave empty if out of stock",-1))])])])]),t("div",pt,[e[66]||(e[66]=t("h3",{class:"font-bold text-gray-800 mb-4"},"Create Task (Optional)",-1)),e[67]||(e[67]=t("p",{class:"text-meta mb-4"},[P(" Convert this contact to a lead or opportunity. "),t("span",{class:"font-semibold"},"Requires vehicle details to be filled.")],-1)),o.forceType?(g(),y("div",vt,[e[63]||(e[63]=t("i",{class:"fa-solid fa-info-circle text-blue-600"},null,-1)),t("div",null,[t("p",bt," Converting to "+h(o.forceType==="lead"?"Lead":"Opportunity"),1),e[62]||(e[62]=t("p",{class:"text-xs text-blue-700"},"Vehicle details are required for this action.",-1))])])):(g(),y("div",mt,[t("div",{class:N(["flex items-center gap-3 p-3 bg-surface border border-E5E7EB rounded-lg transition-all",M.value?"cursor-pointer hover:bg-blue-50 hover:border-blue-300":"cursor-not-allowed opacity-60"])},[X(R(Z),{modelValue:T.value,"onUpdate:modelValue":e[21]||(e[21]=l=>T.value=l),disabled:!M.value,label:""},null,8,["modelValue","disabled"]),t("div",null,[t("span",{class:N(["font-medium",M.value?"text-gray-800":"text-gray-400"])}," Mark as Lead ",2),e[60]||(e[60]=t("p",{class:"text-xs text-gray-500"},"Create a new lead task with vehicle details",-1))])],2),t("div",{class:N(["flex items-center gap-3 p-3 bg-surface border border-E5E7EB rounded-lg transition-all",M.value?"cursor-pointer hover:bg-purple-50 hover:border-purple-300":"cursor-not-allowed opacity-60"])},[X(R(Z),{modelValue:S.value,"onUpdate:modelValue":e[22]||(e[22]=l=>S.value=l),disabled:!M.value,label:""},null,8,["modelValue","disabled"]),t("div",null,[t("span",{class:N(["font-medium",M.value?"text-gray-800":"text-gray-400"])}," Mark as Opportunity ",2),e[61]||(e[61]=t("p",{class:"text-xs text-gray-500"},"Create a new opportunity task with vehicle details",-1))])],2)])),M.value?U("",!0):(g(),y("div",ft,[...e[64]||(e[64]=[t("i",{class:"fa-solid fa-exclamation-triangle mt-0.5"},null,-1),t("span",null,"Fill in vehicle details above to enable lead/opportunity creation",-1)])])),!T.value&&!S.value&&M.value?(g(),y("p",yt,[...e[65]||(e[65]=[t("i",{class:"fa-solid fa-info-circle mr-1"},null,-1),P(" If neither is selected, only the contact and vehicle information will be saved ",-1)])])):U("",!0)])],32)),[[te,()=>v.value=!1]])}}};export{Ct as _,xe as u};
