import{c as G,d as Q,e as W,g as Z,h as Y}from"./dashboard-CA6Wz0pB.js";import{_ as J}from"./PageHeader-Cko7UDaD.js";import{z as F,n as R,R as H,s as X}from"./toggle-group-item.vue_vue_type_script_setup_true_lang-Csij51_o-Oem9_7mP.js";import{H as q,d as a,o as s,F as g,i as v,e,j as N,t as m,s as h,B as z,x as V,y as f,r as x,k as D,Z as O,q as K,g as j,n as B,I as ee,c as te,N as w,ak as se,p as ne,K as ae,m as oe}from"./index-BcuDIK-O.js";import{y as le}from"./components-BwvyhyyO.js";import{S as E}from"./sparkles-DCtJyGxr.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=q("ArrowDownIcon",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=q("ArrowUpIcon",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=q("CheckSquareIcon",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=q("SendIcon",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=q("TrendingUpIcon",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=q("TrophyIcon",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),ge={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 shrink-0"},me={class:"flex flex-col gap-2"},he={class:"text-sm font-medium text-muted-foreground leading-5 whitespace-nowrap"},fe={class:"flex flex-col gap-1"},xe={class:"flex items-baseline gap-2"},ve={class:"text-xl font-semibold text-foreground leading-none"},ye={class:"absolute top-1/2 -translate-y-1/2 right-3"},be={width:"60",height:"24",viewBox:"0 0 60 24",preserveAspectRatio:"none",class:"overflow-visible"},_e=["id"],we=["stop-color"],$e=["stop-color"],ke=["points","fill"],Te=["points","stroke"],Ce={__name:"DashboardKPIs",props:{kpis:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(u){const y=o=>{const $=Math.max(...o),c=Math.min(...o),r=$-c||1;return o.map((C,P)=>{const T=3+P/(o.length-1||1)*54,S=21-(C-c)/r*(24-3*2);return`${T},${S}`}).join(" ")},i=o=>{var S,I;const $=Math.max(...o),c=Math.min(...o),r=$-c||1,n=o.map((A,M)=>{const p=3+M/(o.length-1||1)*54,_=21-(A-c)/r*(24-3*2);return`${p},${_}`});if(n.length===0)return"";const C=((S=n[0])==null?void 0:S.split(",")[0])||"0",P=((I=n[n.length-1])==null?void 0:I.split(",")[0])||"0",T=21;return`${n.join(" ")}, ${P},${T}, ${C},${T}`},d=o=>o.changeType==="increase"&&o.id===1?"var(--color-success)":o.changeType==="increase"&&o.id===2?"var(--brand-blue)":o.changeType==="decrease"?"var(--brand-red)":o.changeType==="increase"&&o.id===4?"#f97316":"var(--brand-slate)";return(o,l)=>(s(),a("div",ge,[u.loading?(s(),a(g,{key:0},v(4,t=>e("div",{key:`skeleton-${t}`,class:"bg-white rounded-lg shadow-nsc-card overflow-hidden p-4 relative"},[...l[0]||(l[0]=[N('<div class="flex flex-col gap-2"><div class="h-3 bg-gray-200 rounded w-20 mb-2 animate-pulse"></div><div class="flex items-baseline gap-1.5 mb-1"><div class="h-6 bg-gray-200 rounded w-16 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-10 animate-pulse"></div></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div></div><div class="h-8 mt-2 bg-gray-100 rounded animate-pulse"></div>',2)])])),64)):(s(!0),a(g,{key:1},v(u.kpis,t=>(s(),a("div",{key:t.id,class:"bg-white rounded-lg shadow-nsc-card overflow-hidden p-4 relative"},[e("div",me,[e("h4",he,m(t.title),1),e("div",fe,[e("div",xe,[e("h2",ve,m(t.value),1),h(f(F),{variant:t.changeType==="increase"?"success":"error",size:"sm",class:"inline-flex items-center gap-1"},{default:z(()=>[t.changeType==="increase"?(s(),V(f(ie),{key:0,size:12})):(s(),V(f(re),{key:1,size:12})),e("span",null,m(t.changeType==="increase"?"+":"-")+m(Math.abs(t.change))+"%",1)]),_:2},1032,["variant"])]),l[1]||(l[1]=e("p",{class:"text-sm text-muted-foreground"},"vs last month",-1))])]),e("div",ye,[(s(),a("svg",be,[e("defs",null,[e("linearGradient",{id:`gradient-${t.id}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%","stop-color":d(t),"stop-opacity":"0.4"},null,8,we),e("stop",{offset:"100%","stop-color":d(t),"stop-opacity":"0"},null,8,$e)],8,_e)]),e("polygon",{points:i(t.trend),fill:`url(#gradient-${t.id})`},null,8,ke),e("polyline",{points:y(t.trend),fill:"none",stroke:d(t),"stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Te)]))])]))),128))]))}},Se={class:"bg-muted rounded-xl p-1 flex flex-col shrink-0"},Ie={class:"bg-white rounded-lg shadow-nsc-card flex flex-col"},ze={class:"px-4 pb-4 border-b border"},Me={class:"flex flex-wrap items-center gap-x-6 gap-y-2"},Pe={class:"px-4 pb-4 flex flex-wrap gap-4"},Ae={class:"px-4 pb-4 flex flex-wrap items-center gap-6 pt-4 border-t border"},qe={class:"px-4 py-4 flex items-center justify-between shrink-0"},je={class:"flex items-center gap-2"},Be={class:"flex items-center gap-2"},De={class:"flex flex-col gap-6 px-4 pb-4"},Ve={class:"flex items-center justify-between shrink-0"},Ne={class:"text-sm font-medium text-muted-foreground mb-1"},Le={key:0,class:"text-xl font-semibold text-foreground leading-none"},Ue={class:"relative shrink-0 bg-muted rounded-lg overflow-hidden",style:{height:"320px"}},Ke={class:"w-full h-full",viewBox:"0 0 800 300",preserveAspectRatio:"none"},Ee=["id"],Fe=["d","fill"],Re={class:"flex flex-wrap gap-4"},He={class:"text-xs text-muted-foreground"},Xe={class:"flex flex-wrap items-center gap-6 pt-4 border-t border-border"},Oe={class:"text-sm font-bold text-foreground"},Ge={__name:"SalesPipelineChart",props:{pipeline:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(u){const y=x("This month"),i=["This month","Last month","This quarter"],d=()=>{const c=i.indexOf(y.value);y.value=i[(c+1)%i.length]||"This month"},o=u,l=c=>c.toLowerCase().replace(".","").replace(" ","-"),t=c=>({red:"var(--brand-red)",orange:"#f97316",blue:"var(--brand-blue)",gray:"var(--brand-slate)"})[c]||"var(--brand-slate)",b=c=>({"Coches.net":"12h",Autoscout24:"12h",OLX:"7d 9h","Cars.com":"12h"})[c]||"12h",$=(c,r)=>{const P=Math.max(...o.pipeline.leadSources[0].data),T=c.length,S=800/(T-1);let I=Array(T).fill(300);for(let p=0;p<r;p++){const _=o.pipeline.leadSources[p].data;for(let k=0;k<T;k++)I[k]-=_[k]/P*300}const A=c.map((p,_)=>I[_]-p/P*300);let M=`M 0,${A[0]}`;for(let p=0;p<T-1;p++){const _=p*S,k=(p+1)*S,L=_+(k-_)/2,U=_+(k-_)/2;M+=` C ${L},${A[p]} ${U},${A[p+1]} ${k},${A[p+1]}`}M+=` L 800,${I[T-1]}`;for(let p=T-1;p>0;p--){const _=p*S,k=(p-1)*S,L=_-(_-k)/2,U=_-(_-k)/2;M+=` C ${L},${I[p]} ${U},${I[p-1]} ${k},${I[p-1]}`}return M+=" Z",M};return(c,r)=>(s(),a("div",Se,[e("div",Ie,[u.loading?(s(),a(g,{key:0},[r[3]||(r[3]=e("div",{class:"px-4 py-4 flex items-center justify-between shrink-0"},[e("div",{class:"h-5 bg-gray-200 rounded w-32 animate-pulse"}),e("div",{class:"h-8 bg-gray-200 rounded w-32 animate-pulse"})],-1)),e("div",ze,[e("div",Me,[(s(),a(g,null,v(4,n=>e("div",{key:`stage-${n}`,class:"flex items-center gap-2"},[...r[0]||(r[0]=[e("div",{class:"h-4 bg-gray-200 rounded w-20 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-8 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-12 animate-pulse"},null,-1)])])),64))])]),r[4]||(r[4]=e("div",{class:"px-4 pb-4"},[e("div",{class:"h-40 md:h-48 lg:h-56 bg-gray-100 rounded animate-pulse"})],-1)),e("div",Pe,[(s(),a(g,null,v(4,n=>e("div",{key:`legend-${n}`,class:"flex items-center gap-2"},[...r[1]||(r[1]=[e("div",{class:"w-3 h-3 bg-gray-200 rounded-full animate-pulse"},null,-1),e("div",{class:"h-3 bg-gray-200 rounded w-16 animate-pulse"},null,-1)])])),64))]),e("div",Ae,[(s(),a(g,null,v(4,n=>e("div",{key:`time-${n}`,class:"flex items-center gap-2"},[...r[2]||(r[2]=[e("div",{class:"h-4 bg-gray-200 rounded w-4 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-8 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-16 animate-pulse"},null,-1)])])),64))])],64)):(s(),a(g,{key:1},[e("div",qe,[e("div",je,[h(f(ue),{size:16,class:"text-foreground"}),r[5]||(r[5]=e("h3",{class:"text-lg font-medium text-foreground leading-5"},"Sales Pipeline",-1))]),e("div",Be,[h(f(R),{variant:"ghost",size:"sm",class:"relative",onClick:d},{default:z(()=>[D(m(y.value)+" ",1),h(f(O),{size:16,class:"ml-1"})]),_:1})])]),e("div",De,[e("div",Ve,[(s(!0),a(g,null,v(u.pipeline.stages,n=>(s(),a("div",{key:`${n.name}-header`,class:"flex flex-col items-center text-center",style:K({width:`${100/u.pipeline.stages.length}%`})},[e("p",Ne,m(n.name),1),n.percentage?(s(),a("p",Le,m(n.percentage)+"% ",1)):j("",!0)],4))),128))]),e("div",Ue,[(s(),a("svg",Ke,[e("defs",null,[(s(!0),a(g,null,v(u.pipeline.leadSources,n=>(s(),a("linearGradient",{key:`gradient-${n.name}`,id:`gradient-${l(n.name)}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:K(`stop-color:${t(n.color)};stop-opacity:0.8`)},null,4),e("stop",{offset:"100%",style:K(`stop-color:${t(n.color)};stop-opacity:0.1`)},null,4)],8,Ee))),128))]),(s(!0),a(g,null,v(u.pipeline.leadSources,(n,C)=>(s(),a("path",{key:n.name,d:$(n.data,C),fill:`url(#gradient-${l(n.name)})`,opacity:"0.7"},null,8,Fe))),128))]))]),e("div",Re,[(s(!0),a(g,null,v(u.pipeline.leadSources,n=>(s(),a("div",{key:n.name,class:"flex items-center gap-2"},[e("div",{class:B(["w-3 h-3 rounded-full",{"bg-red-500":n.color==="red","bg-orange-500":n.color==="orange","bg-blue-500":n.color==="blue","bg-gray-500":n.color==="gray"}])},null,2),e("span",He,m(n.name),1)]))),128))]),e("div",Xe,[(s(!0),a(g,null,v(u.pipeline.leadSources,n=>(s(),a("div",{key:n.name,class:"flex items-center gap-2"},[r[6]||(r[6]=e("i",{class:"fa-regular fa-clock text-xs text-muted-foreground"},null,-1)),e("span",Oe,m(b(n.name)),1),r[7]||(r[7]=e("span",{class:"text-xs text-muted-foreground"},"on avg.",-1))]))),128))])])],64))])]))}},Qe={key:0,class:"p-4"},We={class:"space-y-3"},Ze={class:"flex items-center gap-2"},Ye={class:"flex items-center gap-2"},Je={__name:"TeamPerformanceTable",props:{teamMembers:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(u){const y=x({pageIndex:0,pageSize:10}),i=x([]),d=l=>{if(!l)return"U";const t=l.split(" ");return t.length>=2?(t[0][0]+t[t.length-1][0]).toUpperCase():t[0][0].toUpperCase()},o=te(()=>[{accessorKey:"name",header:()=>"Name",meta:{title:"Name"},cell:({row:l})=>{const t=l.original;return w("div",{class:"flex items-center gap-3"},[w(H,{class:"h-8 w-8"},{default:()=>w(X,{class:"bg-greys-300 text-foreground text-sm"},()=>d(t.name))}),w("span",{class:"text-sm font-medium text-foreground"},t.name)])}},{accessorKey:"leads",header:()=>"Leads",meta:{title:"Leads"},cell:({row:l})=>w("div",{class:"text-sm text-foreground"},l.original.leads)},{accessorKey:"qualifiedLeads",header:()=>"Qualified",meta:{title:"Qualified"},cell:({row:l})=>{const t=l.original;return w("div",{class:"text-sm text-foreground"},[w("span",t.qualifiedLeads),w("span",{class:"text-muted-foreground text-xs ml-1"},`(${t.qualifiedPercentage}%)`)])}},{accessorKey:"opportunities",header:()=>"Opportunities",meta:{title:"Opportunities"},cell:({row:l})=>w("div",{class:"text-sm text-foreground"},l.original.opportunities)},{accessorKey:"inNegotiation",header:()=>"In Negotiation",meta:{title:"In Negotiation"},cell:({row:l})=>{const t=l.original;return w("div",{class:"text-sm text-foreground"},[w("span",t.inNegotiation),w("span",{class:"text-muted-foreground text-xs ml-1"},`(${t.inNegotiationPercentage}%)`)])}},{accessorKey:"won",header:()=>"Won",meta:{title:"Won"},cell:({row:l})=>{const t=l.original;return w("div",{class:"text-sm text-foreground"},[w("span",t.won),w("span",{class:"text-muted-foreground text-xs ml-1"},`(${t.wonPercentage}%)`)])}}]);return(l,t)=>u.loading?(s(),a("div",Qe,[e("div",We,[(s(),a(g,null,v(5,b=>e("div",{key:`row-${b}`,class:"flex items-center gap-4"},[...t[2]||(t[2]=[N('<div class="h-4 bg-gray-200 rounded w-24 animate-pulse" data-v-0446a1cc></div><div class="h-4 bg-gray-200 rounded w-12 animate-pulse" data-v-0446a1cc></div><div class="h-4 bg-gray-200 rounded w-16 animate-pulse" data-v-0446a1cc></div><div class="h-4 bg-gray-200 rounded w-20 animate-pulse" data-v-0446a1cc></div><div class="h-4 bg-gray-200 rounded w-24 animate-pulse" data-v-0446a1cc></div><div class="h-4 bg-gray-200 rounded w-16 animate-pulse" data-v-0446a1cc></div>',6)])])),64))])])):(s(),V(f(le),{key:1,data:u.teamMembers,columns:o.value,pagination:y.value,sorting:i.value,"pagination-options":{rowCount:u.teamMembers.length,pageSizeOptions:[10,20,50]},"onUpdate:pagination":t[0]||(t[0]=b=>y.value=b),"onUpdate:sorting":t[1]||(t[1]=b=>i.value=b),class:"h-full"},{toolbar:z(()=>[e("div",Ze,[h(f(pe),{size:16,class:"text-foreground"}),t[3]||(t[3]=e("h3",{class:"text-lg font-medium text-foreground leading-5"},"Best performers",-1))]),e("div",Ye,[h(f(R),{variant:"ghost",size:"sm"},{default:z(()=>[t[4]||(t[4]=D(" This month ",-1)),h(f(O),{size:16,class:"ml-1"})]),_:1})])]),_:1},8,["data","columns","pagination","sorting","pagination-options"]))}},et=ee(Je,[["__scopeId","data-v-0446a1cc"]]),tt={class:"bg-muted rounded-xl p-1 flex flex-col shrink-0"},st={class:"bg-white rounded-lg shadow-nsc-card flex flex-col"},nt={class:"px-4 pb-4 space-y-3"},at={class:"px-4 py-4 flex items-center gap-2 shrink-0"},ot={class:"px-4 pb-4 space-y-3"},lt={class:"flex items-start gap-3"},rt={class:"w-10 h-10 rounded-lg bg-muted border border-border flex flex-col items-center justify-center shrink-0 leading-none"},it={class:"text-xs font-medium text-muted-foreground uppercase"},dt={class:"text-xs font-semibold text-foreground mt-0.5"},ct={class:"flex-1 min-w-0"},ut={class:"flex items-center justify-between"},pt={class:"text-xs font-medium text-foreground truncate"},gt={class:"text-xs text-muted-foreground"},mt={class:"text-xs text-muted-foreground mt-0.5 truncate"},ht={class:"text-xs text-muted-foreground mt-0.5 truncate flex items-center gap-1"},ft={__name:"TodaysEventsSidebar",props:{events:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(u){return(y,i)=>(s(),a("div",tt,[e("div",st,[u.loading?(s(),a(g,{key:0},[i[1]||(i[1]=e("div",{class:"px-4 py-4 shrink-0"},[e("div",{class:"h-5 bg-gray-200 rounded w-32 animate-pulse"})],-1)),e("div",nt,[(s(),a(g,null,v(5,d=>e("div",{key:`skeleton-${d}`,class:"pb-3 border-b border-gray-50 last:border-0 last:pb-0"},[...i[0]||(i[0]=[N('<div class="flex items-start gap-3"><div class="w-10 h-10 bg-gray-200 rounded-lg animate-pulse"></div><div class="flex-1 min-w-0 space-y-2"><div class="h-3 bg-gray-200 rounded w-32 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-40 animate-pulse"></div></div></div>',1)])])),64))])],64)):(s(),a(g,{key:1},[e("div",at,[h(f(se),{size:16,class:"text-foreground"}),i[2]||(i[2]=e("h3",{class:"text-lg font-medium text-foreground leading-5"},"Today's events",-1))]),e("div",ot,[(s(!0),a(g,null,v(u.events,d=>(s(),a("div",{key:d.id,class:"pb-3 border-b border-border last:border-0 last:pb-0"},[e("div",lt,[e("div",rt,[e("span",it,m(d.time.split(":")[0]),1),e("span",dt,m(d.time.split(":")[1].split(" ")[0]),1)]),e("div",ct,[e("div",ut,[e("div",pt,m(d.type),1),e("div",gt,m(d.time),1)]),e("div",mt,m(d.customer),1),e("div",ht,[i[3]||(i[3]=e("i",{class:"fa-solid fa-location-dot text-xs"},null,-1)),D(" "+m(d.location),1)])])])]))),128))])],64))])]))}},xt={class:"rounded-lg p-px flex flex-col",style:{background:"linear-gradient(to right, #40B3E9, #8873FF, #FF8B42)",height:"480px"}},vt={class:"bg-muted rounded-lg flex flex-col h-full overflow-hidden"},yt={class:"px-4 py-4 flex items-center gap-2 shrink-0"},bt={class:"bg-white rounded-lg p-4 shadow-nsc-card flex flex-col flex-1 min-h-0 overflow-hidden"},_t={key:0,class:"w-8 h-8 rounded-full flex items-center justify-center shrink-0",style:{background:"linear-gradient(to bottom right, #40B3E9, #8873FF, #FF8B42)"}},wt={class:"text-sm leading-relaxed whitespace-pre-wrap text-foreground"},$t={key:1,class:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center shrink-0"},kt={class:"border-t border-border shrink-0 pt-4"},Tt={key:0,class:"mb-3 flex flex-wrap gap-2"},Ct=["onClick"],St={class:"relative"},It=["disabled"],zt={__name:"AIInsightsSidebar",setup(u){const y=x(["Who's performing best?","How many deals were closed?","What's the conversion rate?"]),i=x(""),d=x([]),o=x(null),l=$=>{i.value=$,b()},t=$=>{$.key==="Enter"&&b()},b=()=>{i.value.trim()&&(d.value.push({id:Date.now(),role:"user",content:i.value}),setTimeout(()=>{d.value.push({id:Date.now()+1,role:"assistant",content:"This is a placeholder response. AI functionality will be implemented later."}),o.value&&(o.value.scrollTop=o.value.scrollHeight)},500),i.value="")};return($,c)=>(s(),a("div",xt,[e("div",vt,[e("div",yt,[h(f(E),{size:16,class:"text-foreground"}),c[1]||(c[1]=e("h3",{class:"text-lg font-medium text-foreground leading-5"},"AI Assistant",-1))]),e("div",bt,[e("div",{ref_key:"chatContainer",ref:o,class:"flex-1 overflow-y-auto space-y-4 min-h-0 pr-2"},[(s(!0),a(g,null,v(d.value,r=>(s(),a("div",{key:r.id,class:B(["flex gap-3",r.role==="user"?"justify-end":"justify-start"])},[r.role==="assistant"?(s(),a("div",_t,[h(f(E),{size:14,class:"text-white"})])):j("",!0),e("div",{class:B(["rounded-lg px-4 py-2.5 max-w-xs md:max-w-sm",r.role==="user"?"bg-purple-600 text-white":"bg-muted text-foreground border border-border"])},[e("p",wt,m(r.content),1)],2),r.role==="user"?(s(),a("div",$t,[...c[2]||(c[2]=[e("span",{class:"text-xs font-medium text-purple-700"},"You",-1)])])):j("",!0)],2))),128))],512),e("div",kt,[d.value.length===0?(s(),a("div",Tt,[(s(!0),a(g,null,v(y.value,r=>(s(),a("button",{key:r,onClick:n=>l(r),class:"px-3 py-1.5 text-sm bg-muted hover:bg-muted border border-border rounded-lg text-foreground transition-colors cursor-pointer"},m(r),9,Ct))),128))])):j("",!0),e("div",St,[ne(e("input",{"onUpdate:modelValue":c[0]||(c[0]=r=>i.value=r),type:"text",placeholder:"Ask anything...",class:"w-full pr-12 text-sm input",onKeypress:t},null,544),[[ae,i.value]]),e("button",{disabled:!i.value.trim(),onClick:b,class:B(["absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-md transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed hover:bg-muted active:bg-muted",i.value.trim()?"text-purple-600":"text-muted-foreground"])},[h(f(ce),{size:18})],10,It)])])])])]))}},Mt={class:"bg-muted rounded-xl p-1 flex flex-col"},Pt={class:"bg-white rounded-lg shadow-nsc-card flex flex-col"},At={class:"flex flex-col"},qt={class:"px-4 py-4 flex items-center gap-2 shrink-0"},jt={class:"flex flex-col"},Bt={class:"flex flex-col gap-1 min-w-0 flex-1"},Dt={class:"flex items-center gap-2"},Vt={class:"text-sm font-semibold text-foreground"},Nt={class:"text-sm text-foreground"},Lt={class:"text-sm text-muted-foreground"},Ut={class:"shrink-0 text-right"},Kt={class:"text-sm font-medium text-foreground"},Et={class:"text-xs text-muted-foreground"},Ft={__name:"TasksDueSidebar",props:{tasks:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(u){const y=d=>d?d.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2):"U",i=d=>{const o=new Date(d),l=o.getDate(),t=o.toLocaleString("en-US",{month:"short"}).toUpperCase();return`${l} ${t}`};return(d,o)=>(s(),a("div",Mt,[e("div",Pt,[u.loading?(s(),a(g,{key:0},[o[1]||(o[1]=e("div",{class:"px-4 py-4 pb-4"},[e("div",{class:"h-5 bg-gray-200 rounded w-24 animate-pulse"})],-1)),e("div",At,[(s(),a(g,null,v(5,l=>e("div",{key:`skeleton-${l}`,class:"flex items-start gap-4 px-4 py-3 border-b border-border last:border-0"},[...o[0]||(o[0]=[N('<div class="w-8 h-8 bg-gray-200 rounded-full animate-pulse shrink-0"></div><div class="flex-1 min-w-0 space-y-2"><div class="h-3 bg-gray-200 rounded w-32 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-28 animate-pulse"></div></div><div class="shrink-0 space-y-1"><div class="h-3 bg-gray-200 rounded w-12 animate-pulse"></div><div class="h-2 bg-gray-200 rounded w-16 animate-pulse"></div></div>',3)])])),64))])],64)):(s(),a(g,{key:1},[e("div",qt,[h(f(de),{size:16,class:"text-foreground"}),o[2]||(o[2]=e("h3",{class:"text-lg font-medium text-foreground leading-5"},"Tasks due",-1))]),e("div",jt,[(s(!0),a(g,null,v(u.tasks,(l,t)=>(s(),a("div",{key:l.id,class:B(["flex items-start gap-4 px-4 py-3",t<u.tasks.length-1?"border-b border-border":""])},[h(f(H),{class:"h-8 w-8 shrink-0"},{default:z(()=>[h(f(X),{class:"bg-greys-300 text-foreground text-sm"},{default:z(()=>[D(m(y(l.dealershipName)),1)]),_:2},1024)]),_:2},1024),e("div",Bt,[e("div",Dt,[e("p",Vt,m(l.customerName),1),l.isExpired?(s(),V(f(F),{key:0,variant:"error",size:"sm"},{default:z(()=>[...o[3]||(o[3]=[D("Expired",-1)])]),_:1})):j("",!0)]),e("p",Nt,m(l.car),1),e("p",Lt,m(l.dealershipName),1)]),e("div",Ut,[e("div",Kt,m(l.dueTime),1),e("div",Et,m(i(l.dueDate)),1)])],2))),128))])],64))])]))}},Rt={class:"page-container"},Ht={class:"flex-1 overflow-y-auto p-4 md:p-8 min-h-0"},Xt={class:"flex flex-col lg:flex-row gap-4 sm:gap-5 md:gap-6 max-w-screen-2xl mx-auto w-full"},Ot={class:"flex-1 flex flex-col gap-6 min-w-0"},Gt={class:"w-full lg:w-80 xl:w-88 flex flex-col gap-6 shrink-0"},ts={__name:"Reports",setup(u){const y=x([]),i=x({stages:[],leadSources:[]}),d=x([]),o=x([]),l=x([]),t=x(!0),b=x(!0),$=x(!0),c=x(!0),r=x(!0);return oe(async()=>{Promise.all([G().then(n=>{y.value=n,t.value=!1}),Q().then(n=>{i.value=n,b.value=!1}),W().then(n=>{d.value=n,$.value=!1}),Z().then(n=>{o.value=n,c.value=!1}),Y().then(n=>{l.value=n,r.value=!1})])}),(n,C)=>(s(),a("div",Rt,[h(J,{title:"Reports"},{actions:z(()=>[...C[0]||(C[0]=[e("select",{class:"px-3 py-1.5 rounded-lg border border-border bg-white text-sm font-medium text-muted-foreground shadow-sm hover:bg-muted transition-all cursor-pointer"},[e("option",null,"This month"),e("option",null,"Last month"),e("option",null,"This quarter"),e("option",null,"This year")],-1)])]),_:1}),e("div",Ht,[e("div",Xt,[e("div",Ot,[h(Ce,{kpis:y.value,loading:t.value},null,8,["kpis","loading"]),h(Ge,{pipeline:i.value,loading:b.value},null,8,["pipeline","loading"]),h(et,{"team-members":d.value,loading:$.value},null,8,["team-members","loading"])]),e("div",Gt,[h(zt),h(ft,{events:o.value,loading:c.value},null,8,["events","loading"]),h(Ft,{tasks:l.value,loading:r.value},null,8,["tasks","loading"])])])])]))}};export{ts as default};
