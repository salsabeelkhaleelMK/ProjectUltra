import{ab as j,ac as B,ad as I,ae as q,af as X,ag as D,e as r,o as i,F as $,i as P,h as t,t as l,n as C,j as S,ah as k,r as T,z as O,B as N,ai as E,c as G,D as K,k as H,l as V,H as R}from"./index-Be589Dcd.js";import{_ as z}from"./PageHeader-DBtxXtqo.js";const A=(u=300)=>new Promise(h=>setTimeout(h,u)),Q=async()=>(await A(),j),W=async()=>(await A(),B),Z=async()=>(await A(),I),F=async()=>(await A(),q),U=async()=>(await A(),X),J=async()=>(await A(),D),Y={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4"},tt={class:"flex items-start justify-between mb-2"},et={class:"flex-1"},st={class:"label-upper mb-0.5"},nt={class:"flex items-baseline gap-1.5"},at={class:"text-content-bold text-xl md:text-2xl font-bold leading-tight"},ot={class:"h-8 mt-2 relative"},rt={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},it=["id"],lt=["id"],ct=["d","fill"],dt=["d","stroke","filter"],pt=["cx","cy","fill"],ut={__name:"DashboardKPIs",props:{kpis:{type:Array,required:!0}},setup(u){const h=e=>{if(!e||e.length===0)return"";const o=Math.max(...e),s=Math.min(...e),a=o-s||1,g=100,_=40,y=4,x=e.map((m,b)=>({x:b/(e.length-1)*(g-y*2)+y,y:_-y-(m-s)/a*(_-y*2)}));if(x.length<2)return"";let f=`M ${x[0].x},${x[0].y}`;for(let m=0;m<x.length-1;m++){const b=x[m],c=x[m+1],v=b.x+(c.x-b.x)/2,w=b.x+(c.x-b.x)/2;f+=` C ${v},${b.y} ${w},${c.y} ${c.x},${c.y}`}return f},d=e=>{const o=h(e);if(!o)return"";const s=100,a=40,g=4,_=g,y=s-g;return`${o} L ${y},${a} L ${_},${a} Z`},n=e=>{if(!e||e.length===0)return{x:0,y:0};const o=Math.max(...e),s=Math.min(...e),a=o-s||1,g=4;return{x:100-g,y:40-g-(e[e.length-1]-s)/a*(40-g*2)}},p=e=>e.changeType==="increase"&&e.id===1?"#10b981":e.changeType==="increase"&&e.id===2?"#3b82f6":e.changeType==="decrease"?"#ef4444":e.changeType==="increase"&&e.id===4?"#f97316":"#6b7280";return(e,o)=>(i(),r("div",Y,[(i(!0),r($,null,P(u.kpis,s=>(i(),r("div",{key:s.id,class:"bg-white rounded-xl border border-gray-100 shadow-sm p-3 md:p-4 hover:shadow-md transition-shadow group"},[t("div",tt,[t("div",et,[t("h3",st,l(s.title),1),t("div",nt,[t("span",at,l(s.value),1),t("span",{class:C(["text-xs font-bold flex items-center gap-0.5",s.changeType==="increase"?"text-green-600":"text-red-600"])},[t("i",{class:C([s.changeType==="increase"?"fa-solid fa-arrow-up":"fa-solid fa-arrow-down","text-[10px]"])},null,2),S(" "+l(Math.abs(s.change))+"% ",1)],2)]),o[0]||(o[0]=t("p",{class:"text-xs text-gray-400 mt-0.5"},"vs Last month",-1))])]),t("div",ot,[(i(),r("svg",rt,[t("defs",null,[t("linearGradient",{id:`gradient-${s.id}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[t("stop",{offset:"0%",style:k(`stop-color:${p(s)};stop-opacity:0.2`)},null,4),t("stop",{offset:"100%",style:k(`stop-color:${p(s)};stop-opacity:0`)},null,4)],8,it),t("filter",{id:`glow-${s.id}`,x:"-20%",y:"-20%",width:"140%",height:"140%"},[...o[1]||(o[1]=[t("feGaussianBlur",{stdDeviation:"1",result:"blur"},null,-1),t("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"},null,-1)])],8,lt)]),t("path",{d:d(s.trend),fill:`url(#gradient-${s.id})`,class:"transition-all duration-700"},null,8,ct),t("path",{d:h(s.trend),stroke:p(s),"stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",filter:`url(#glow-${s.id})`,class:"transition-all duration-700"},null,8,dt),t("circle",{cx:n(s.trend).x,cy:n(s.trend).y,r:"2",fill:p(s),class:"group-hover:scale-150 transition-transform duration-300"},null,8,pt)]))])]))),128))]))}},gt={class:"bg-white rounded-xl border border-gray-100 shadow-sm p-4 md:p-5"},ht={class:"mb-4 pb-4 border-b border-gray-200"},xt={class:"flex flex-wrap items-center gap-x-6 gap-y-2"},ft={class:"text-sm text-gray-600"},mt={class:"text-base font-bold text-gray-900"},yt={class:"text-xs text-gray-400"},_t={class:"mb-4"},bt={class:"relative h-40 md:h-48 lg:h-56"},vt={class:"w-full h-full",viewBox:"0 0 800 300",preserveAspectRatio:"none"},wt=["id"],$t=["d","fill"],Pt={class:"flex flex-wrap gap-4 mt-4"},Tt={class:"text-xs text-gray-600"},Vt={class:"flex flex-wrap items-center gap-6 pt-4 border-t border-gray-200"},kt={class:"text-sm font-bold text-gray-700"},St={__name:"SalesPipelineChart",props:{pipeline:{type:Object,required:!0}},setup(u){const h=u,d=o=>o.toLowerCase().replace(".","").replace(" ","-"),n=o=>({red:"#ef4444",orange:"#f97316",blue:"#3b82f6",gray:"#6b7280"})[o]||"#6b7280",p=o=>({"Coches.net":"12h",Autoscout24:"12h",OLX:"7d 9h","Cars.com":"12h"})[o]||"12h",e=(o,s)=>{const _=Math.max(...h.pipeline.leadSources[0].data),y=o.length,x=800/(y-1);let f=Array(y).fill(300);for(let c=0;c<s;c++){const v=h.pipeline.leadSources[c].data;for(let w=0;w<y;w++)f[w]-=v[w]/_*300}const m=o.map((c,v)=>f[v]-c/_*300);let b=`M 0,${m[0]}`;for(let c=0;c<y-1;c++){const v=c*x,w=(c+1)*x,L=v+(w-v)/2,M=v+(w-v)/2;b+=` C ${L},${m[c]} ${M},${m[c+1]} ${w},${m[c+1]}`}b+=` L 800,${f[y-1]}`;for(let c=y-1;c>0;c--){const v=c*x,w=(c-1)*x,L=v-(v-w)/2,M=v-(v-w)/2;b+=` C ${L},${f[c]} ${M},${f[c-1]} ${w},${f[c-1]}`}return b+=" Z",b};return(o,s)=>(i(),r("div",gt,[s[2]||(s[2]=t("div",{class:"flex items-center justify-between mb-4"},[t("h2",{class:"section-title !mb-0"},"Sales Pipeline"),t("select",{class:"input !py-1.5 !px-3 text-sm w-auto"},[t("option",null,"This month"),t("option",null,"Last month"),t("option",null,"This quarter")])],-1)),t("div",ht,[t("div",xt,[(i(!0),r($,null,P(u.pipeline.stages,a=>(i(),r("div",{key:a.name,class:"flex items-center gap-2"},[t("span",ft,l(a.name),1),t("span",mt,l(a.percentage)+"%",1),t("span",yt,"("+l(a.count)+")",1)]))),128))])]),t("div",_t,[t("div",bt,[(i(),r("svg",vt,[t("defs",null,[(i(!0),r($,null,P(u.pipeline.leadSources,a=>(i(),r("linearGradient",{key:`gradient-${a.name}`,id:`gradient-${d(a.name)}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[t("stop",{offset:"0%",style:k(`stop-color:${n(a.color)};stop-opacity:0.8`)},null,4),t("stop",{offset:"100%",style:k(`stop-color:${n(a.color)};stop-opacity:0.1`)},null,4)],8,wt))),128))]),(i(!0),r($,null,P(u.pipeline.leadSources,(a,g)=>(i(),r("path",{key:a.name,d:e(a.data,g),fill:`url(#gradient-${d(a.name)})`,opacity:"0.7"},null,8,$t))),128))]))]),t("div",Pt,[(i(!0),r($,null,P(u.pipeline.leadSources,a=>(i(),r("div",{key:a.name,class:"flex items-center gap-2"},[t("div",{class:C(["w-3 h-3 rounded-full",{"bg-red-500":a.color==="red","bg-orange-500":a.color==="orange","bg-blue-500":a.color==="blue","bg-gray-500":a.color==="gray"}])},null,2),t("span",Tt,l(a.name),1)]))),128))])]),t("div",Vt,[(i(!0),r($,null,P(u.pipeline.leadSources,a=>(i(),r("div",{key:a.name,class:"flex items-center gap-2"},[s[0]||(s[0]=t("i",{class:"fa-regular fa-clock text-xs text-gray-400"},null,-1)),t("span",kt,l(p(a.name)),1),s[1]||(s[1]=t("span",{class:"text-xs text-gray-500"},"on avg.",-1))]))),128))])]))}},Ct={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},At={class:"overflow-x-auto"},Lt={class:"w-full"},Mt={class:"divide-y divide-gray-100"},jt={class:"px-4 py-3 whitespace-nowrap"},Bt={class:"text-sm font-bold text-gray-900"},It={class:"px-4 py-3 whitespace-nowrap"},qt={class:"text-sm text-gray-700"},Xt={class:"px-4 py-3 whitespace-nowrap"},Dt={class:"text-sm text-gray-700"},Ot={class:"text-gray-500 text-xs"},Nt={class:"px-4 py-3 whitespace-nowrap"},Et={class:"text-sm text-gray-700"},Gt={class:"px-4 py-3 whitespace-nowrap"},Kt={class:"text-sm text-gray-700"},Ht={class:"text-gray-500 text-xs"},Rt={class:"px-4 py-3 whitespace-nowrap"},zt={class:"text-sm text-gray-700"},Qt={class:"text-gray-500 text-xs"},Wt={__name:"TeamPerformanceTable",props:{teamMembers:{type:Array,required:!0}},setup(u){return(h,d)=>(i(),r("div",Ct,[d[1]||(d[1]=t("div",{class:"p-4 md:p-5 border-b border-gray-200"},[t("h2",{class:"heading-main"},"Team Performance")],-1)),t("div",At,[t("table",Lt,[d[0]||(d[0]=t("thead",{class:"bg-gray-50 border-b border-gray-200"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left label-upper whitespace-nowrap"},"Name"),t("th",{class:"px-4 py-3 text-left label-upper whitespace-nowrap"},"Leads"),t("th",{class:"px-4 py-3 text-left label-upper whitespace-nowrap"},"Qualified"),t("th",{class:"px-4 py-3 text-left label-upper whitespace-nowrap"},"Opportunities"),t("th",{class:"px-4 py-3 text-left label-upper whitespace-nowrap"},"In Negotiation"),t("th",{class:"px-4 py-3 text-left label-upper whitespace-nowrap"},"Won")])],-1)),t("tbody",Mt,[(i(!0),r($,null,P(u.teamMembers,n=>(i(),r("tr",{key:n.name,class:"hover:bg-gray-50 transition-colors"},[t("td",jt,[t("div",Bt,l(n.name),1)]),t("td",It,[t("div",qt,l(n.leads),1)]),t("td",Xt,[t("div",Dt,[S(l(n.qualifiedLeads)+" ",1),t("span",Ot,"("+l(n.qualifiedPercentage)+"%)",1)])]),t("td",Nt,[t("div",Et,l(n.opportunities),1)]),t("td",Gt,[t("div",Kt,[S(l(n.inNegotiation)+" ",1),t("span",Ht,"("+l(n.inNegotiationPercentage)+"%)",1)])]),t("td",Rt,[t("div",zt,[S(l(n.won)+" ",1),t("span",Qt,"("+l(n.wonPercentage)+"%)",1)])])]))),128))])])])]))}},Zt={class:"bg-white rounded-xl border border-gray-100 shadow-sm p-4 md:p-5"},Ft={class:"space-y-3"},Ut={class:"flex items-start gap-3"},Jt={class:"w-10 h-10 rounded-lg bg-gray-50 border border-gray-100 flex flex-col items-center justify-center shrink-0 leading-none"},Yt={class:"text-[10px] font-bold text-gray-400 uppercase"},te={class:"text-xs font-bold text-gray-900 mt-0.5"},ee={class:"flex-1 min-w-0"},se={class:"flex items-center justify-between"},ne={class:"text-[11px] font-bold text-gray-900 truncate"},ae={class:"text-[10px] text-gray-400"},oe={class:"text-[10px] text-gray-500 mt-0.5 truncate"},re={class:"text-[10px] text-gray-400 mt-0.5 truncate flex items-center gap-1"},ie={__name:"TodaysEventsSidebar",props:{events:{type:Array,required:!0}},setup(u){return(h,d)=>(i(),r("div",Zt,[d[1]||(d[1]=t("h2",{class:"label-upper !text-[10px] mb-4"},"Today's Events",-1)),t("div",Ft,[(i(!0),r($,null,P(u.events,n=>(i(),r("div",{key:n.id,class:"pb-3 border-b border-gray-50 last:border-0 last:pb-0"},[t("div",Ut,[t("div",Jt,[t("span",Yt,l(n.time.split(":")[0]),1),t("span",te,l(n.time.split(":")[1].split(" ")[0]),1)]),t("div",ee,[t("div",se,[t("div",ne,l(n.type),1),t("div",ae,l(n.time),1)]),t("div",oe,l(n.customer),1),t("div",re,[d[0]||(d[0]=t("i",{class:"fa-solid fa-location-dot text-[8px]"},null,-1)),S(" "+l(n.location),1)])])])]))),128))])]))}},le={class:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden flex flex-col h-full"},ce={class:"bg-white flex-1 overflow-y-auto"},de={class:"p-4 space-y-2"},pe=["onClick"],ue={class:"px-4 pb-4"},ge={class:"p-4 bg-white border-t border-gray-200"},he={class:"flex gap-2 items-center"},xe={class:"flex-1 relative"},fe={__name:"AIInsightsSidebar",setup(u){const h=T(["Who are my top 3 best performing sales people?","What's our current pipeline conversion rate?","How many leads did we get today?","How many leads are in negotiation?"]),d=T(""),n=T(!1),p=o=>{d.value=o,e()},e=()=>{d.value.trim()&&(d.value="")};return(o,s)=>(i(),r("div",le,[s[5]||(s[5]=t("div",{class:"bg-gray-900 px-4 py-3 flex items-center justify-between"},[t("div",{class:"flex items-center gap-2"},[t("span",{class:"text-white font-bold text-sm"},"Insights"),t("span",{class:"text-gray-300 text-sm"},"powered by AI")])],-1)),t("div",ce,[t("div",de,[(i(!0),r($,null,P(h.value,(a,g)=>(i(),r("button",{key:g,onClick:_=>p(a),class:"w-full text-left px-4 py-3 bg-white hover:bg-gray-50 border border-gray-200 rounded-lg transition-colors text-sm text-gray-700"},l(a),9,pe))),128))]),t("div",ue,[t("button",{onClick:s[0]||(s[0]=a=>n.value=!n.value),class:"w-full text-left text-sm text-gray-600 hover:text-gray-900 flex items-center gap-2 transition-colors"},[s[2]||(s[2]=t("span",null,"Show more ideas",-1)),t("i",{class:C(["fa-solid fa-chevron-down text-xs transition-transform duration-300",{"rotate-180":n.value}])},null,2)])])]),t("div",ge,[t("div",he,[s[4]||(s[4]=t("div",{class:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center shrink-0"},[t("i",{class:"fa-solid fa-sparkles text-white text-xs"})],-1)),t("div",xe,[O(t("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>d.value=a),onKeyup:E(e,["enter"]),type:"text",placeholder:"Ask me anything",class:"w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500 focus:bg-white transition-all"},null,544),[[N,d.value]])]),t("button",{onClick:e,class:"w-10 h-10 rounded-full bg-gray-800 hover:bg-gray-700 text-white flex items-center justify-center transition-all shrink-0"},[...s[3]||(s[3]=[t("i",{class:"fa-solid fa-arrow-right text-sm"},null,-1)])])])])]))}},me={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 md:p-5"},ye={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},_e={class:"mb-2"},be={class:"text-xs font-bold text-gray-900 truncate mb-0.5"},ve={class:"flex items-baseline gap-1.5"},we={class:"text-base font-bold text-gray-900 leading-tight"},$e={class:"flex items-center gap-2 mb-2"},Pe={class:"text-xs text-gray-500"},Te={class:"h-8 relative"},Ve={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},ke=["id"],Se=["d","fill"],Ce=["d","stroke"],Ae={__name:"PageViewsByVehicle",props:{vehicles:{type:Array,required:!0}},setup(u){const h=n=>{if(!n||n.length===0)return"";const p=Math.max(...n),e=Math.min(...n),o=p-e||1,s=100,a=40,g=2,_=n.map((x,f)=>({x:f/(n.length-1)*(s-g*2)+g,y:a-g-(x-e)/o*(a-g*2)}));if(_.length<2)return"";let y=`M ${_[0].x},${_[0].y}`;for(let x=0;x<_.length-1;x++){const f=_[x],m=_[x+1],b=f.x+(m.x-f.x)/2,c=f.x+(m.x-f.x)/2;y+=` C ${b},${f.y} ${c},${m.y} ${m.x},${m.y}`}return y},d=n=>{const p=h(n);if(!p)return"";const e=100,o=40,s=2,a=s,g=e-s;return`${p} L ${g},${o} L ${a},${o} Z`};return(n,p)=>(i(),r("div",me,[p[1]||(p[1]=t("div",{class:"flex items-center justify-between mb-4"},[t("h2",{class:"heading-main"},"Page Views by Vehicle"),t("select",{class:"input !py-1.5 !px-3 text-sm w-auto"},[t("option",null,"This month"),t("option",null,"Last month")])],-1)),t("div",ye,[(i(!0),r($,null,P(u.vehicles,e=>(i(),r("div",{key:e.id,class:"bg-gray-50 rounded-lg border border-gray-200 p-3"},[t("div",_e,[t("h3",be,l(e.brand)+" "+l(e.model),1),t("div",ve,[t("span",we,l(e.views),1),p[0]||(p[0]=t("span",{class:"text-xs text-gray-500"},"views",-1))])]),t("div",$e,[t("span",{class:C(["text-xs font-bold flex items-center gap-0.5",e.changeType==="increase"?"text-green-600":"text-red-600"])},[t("i",{class:C([e.changeType==="increase"?"fa-solid fa-arrow-up":"fa-solid fa-arrow-down","text-[10px]"])},null,2),S(" "+l(Math.abs(e.change))+"% ",1)],2),t("span",Pe,l(e.avgPerDay)+" avg/day",1)]),t("div",Te,[(i(),r("svg",Ve,[t("defs",null,[t("linearGradient",{id:`gradient-v-${e.id}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[t("stop",{offset:"0%",style:k(`stop-color:${e.changeType==="increase"?"#10b981":"#ef4444"};stop-opacity:0.2`)},null,4),t("stop",{offset:"100%",style:k(`stop-color:${e.changeType==="increase"?"#10b981":"#ef4444"};stop-opacity:0`)},null,4)],8,ke)]),t("path",{d:d(e.trend),fill:`url(#gradient-v-${e.id})`,class:"transition-all duration-700"},null,8,Se),t("path",{d:h(e.trend),stroke:e.changeType==="increase"?"#10b981":"#ef4444","stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"transition-all duration-700"},null,8,Ce)]))])]))),128))])]))}},Le={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 md:p-5"},Me={class:"space-y-4"},je={class:"flex items-end gap-1 h-64 overflow-x-auto pb-2"},Be={class:"w-full flex items-end justify-center h-full gap-0.5"},Ie=["title"],qe=["title"],Xe={class:"text-[9px] text-gray-500 mt-1"},De={__name:"PageViewsChart",props:{data:{type:Array,required:!0}},setup(u){const h=u,d=G(()=>Math.max(...h.data.map(n=>n.organic+n.paid)));return(n,p)=>(i(),r("div",Le,[p[1]||(p[1]=t("div",{class:"flex items-center justify-between mb-4"},[t("h2",{class:"heading-main"},"Page Views: Organic vs. Paid"),t("select",{class:"input text-sm w-auto"},[t("option",null,"This month"),t("option",null,"Last month"),t("option",null,"This quarter")])],-1)),t("div",Me,[t("div",je,[(i(!0),r($,null,P(u.data,(e,o)=>(i(),r("div",{key:o,class:"flex flex-col items-center gap-1 min-w-[20px]"},[t("div",Be,[t("div",{class:"bg-blue-600 rounded-t w-2",style:k({height:`${e.organic/d.value*100}%`,minHeight:"2px"}),title:`Organic: ${e.organic}`},null,12,Ie),t("div",{class:"bg-orange-500 rounded-t w-2",style:k({height:`${e.paid/d.value*100}%`,minHeight:"2px"}),title:`Paid: ${e.paid}`},null,12,qe)]),t("span",Xe,l(o+1),1)]))),128))]),p[0]||(p[0]=K('<div class="flex items-center justify-center gap-6 pt-4 border-t border-gray-200"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-blue-600 rounded"></div><span class="text-meta text-gray-600">Organic</span></div><div class="flex items-center gap-2"><div class="w-4 h-4 bg-orange-500 rounded"></div><span class="text-meta text-gray-600">Paid</span></div></div>',1))])]))}},Oe={class:"page-container"},Ne={class:"p-4 md:p-6 lg:p-8"},Ee={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 items-start"},Ge={class:"lg:col-span-2 space-y-4 md:space-y-6"},Ke={class:"space-y-4 md:space-y-6"},ze={__name:"Reports",setup(u){const h=T([]),d=T({stages:[],leadSources:[]}),n=T([]),p=T([]),e=T([]),o=T([]);return H(async()=>{h.value=await Q(),d.value=await W(),n.value=await Z(),p.value=await F(),e.value=await U(),o.value=await J()}),(s,a)=>(i(),r("div",Oe,[V(z,{title:"Reports",subtitle:"Performance tracking and insights"},{actions:R(()=>[...a[0]||(a[0]=[t("select",{class:"input text-sm w-auto"},[t("option",null,"This month"),t("option",null,"Last month"),t("option",null,"This quarter"),t("option",null,"This year")],-1)])]),_:1}),t("div",Ne,[t("div",Ee,[t("div",Ge,[V(ut,{kpis:h.value},null,8,["kpis"]),V(St,{pipeline:d.value},null,8,["pipeline"]),V(Wt,{"team-members":n.value},null,8,["team-members"]),V(Ae,{vehicles:e.value},null,8,["vehicles"])]),t("div",Ke,[V(ie,{events:p.value},null,8,["events"]),V(fe),V(De,{data:o.value},null,8,["data"])])])])]))}};export{ze as default};
