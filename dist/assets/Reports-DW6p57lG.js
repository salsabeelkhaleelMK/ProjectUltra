import{al as q,am as O,an as K,ao as N,ap as X,aq as D,d as l,o as i,F as p,i as $,e,j,t as x,n as C,k as M,ar as S,r as w,c as I,G as T,m as V,q as E,A as F,C as G,as as R,l as z,z as H}from"./index-Baowk8yV.js";import{y as Q}from"./components-j1JUk8PC.js";import{_ as U}from"./PageHeader-K4h7Nky0.js";import"./toggle-group-item.vue_vue_type_script_setup_true_lang-Csij51_o-N-LQGDgb.js";import"./index-Ct-3v9pQ-DjTMGHGd.js";const L=(g=300)=>new Promise(y=>setTimeout(y,g)),W=async()=>(await L(),q),Z=async()=>(await L(),O),J=async()=>(await L(),K),Y=async()=>(await L(),N),ee=async()=>(await L(),X),te=async()=>(await L(),D),se={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4"},ae={class:"flex items-start justify-between mb-2"},ne={class:"flex-1"},le={class:"label-upper mb-0.5"},ie={class:"flex items-baseline gap-1.5"},oe={class:"text-content-bold text-xl md:text-2xl font-bold leading-tight"},re={class:"h-8 mt-2 relative"},de={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},ce=["id"],ue=["id"],ge=["d","fill"],pe=["d","stroke","filter"],me=["cx","cy","fill"],ye={__name:"DashboardKPIs",props:{kpis:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(g){const y=s=>{if(!s||s.length===0)return"";const a=Math.max(...s),t=Math.min(...s),n=a-t||1,m=100,b=40,f=4,v=s.map((h,_)=>({x:_/(s.length-1)*(m-f*2)+f,y:b-f-(h-t)/n*(b-f*2)}));if(v.length<2)return"";let c=`M ${v[0].x},${v[0].y}`;for(let h=0;h<v.length-1;h++){const _=v[h],u=v[h+1],P=_.x+(u.x-_.x)/2,k=_.x+(u.x-_.x)/2;c+=` C ${P},${_.y} ${k},${u.y} ${u.x},${u.y}`}return c},d=s=>{const a=y(s);if(!a)return"";const t=100,n=40,m=4,b=m,f=t-m;return`${a} L ${f},${n} L ${b},${n} Z`},o=s=>{if(!s||s.length===0)return{x:0,y:0};const a=Math.max(...s),t=Math.min(...s),n=a-t||1,m=4;return{x:100-m,y:40-m-(s[s.length-1]-t)/n*(40-m*2)}},r=s=>s.changeType==="increase"&&s.id===1?"#10b981":s.changeType==="increase"&&s.id===2?"#3b82f6":s.changeType==="decrease"?"#ef4444":s.changeType==="increase"&&s.id===4?"#f97316":"#6b7280";return(s,a)=>(i(),l("div",se,[g.loading?(i(),l(p,{key:0},$(4,t=>e("div",{key:`skeleton-${t}`,class:"bg-white rounded-xl border border-gray-100 shadow-sm p-3 md:p-4"},[...a[0]||(a[0]=[j('<div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="h-3 bg-gray-200 rounded w-20 mb-2 animate-pulse"></div><div class="flex items-baseline gap-1.5 mb-1"><div class="h-6 bg-gray-200 rounded w-16 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-10 animate-pulse"></div></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div></div></div><div class="h-8 mt-2 bg-gray-100 rounded animate-pulse"></div>',2)])])),64)):(i(!0),l(p,{key:1},$(g.kpis,t=>(i(),l("div",{key:t.id,class:"bg-white rounded-xl border border-gray-100 shadow-sm p-3 md:p-4 hover:shadow-md transition-shadow group"},[e("div",ae,[e("div",ne,[e("h3",le,x(t.title),1),e("div",ie,[e("span",oe,x(t.value),1),e("span",{class:C(["text-xs font-bold flex items-center gap-0.5",t.changeType==="increase"?"text-green-600":"text-red-600"])},[e("i",{class:C([t.changeType==="increase"?"fa-solid fa-arrow-up":"fa-solid fa-arrow-down","text-[10px]"])},null,2),M(" "+x(Math.abs(t.change))+"% ",1)],2)]),a[1]||(a[1]=e("p",{class:"text-xs text-gray-400 mt-0.5"},"vs Last month",-1))])]),e("div",re,[(i(),l("svg",de,[e("defs",null,[e("linearGradient",{id:`gradient-${t.id}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:S(`stop-color:${r(t)};stop-opacity:0.2`)},null,4),e("stop",{offset:"100%",style:S(`stop-color:${r(t)};stop-opacity:0`)},null,4)],8,ce),e("filter",{id:`glow-${t.id}`,x:"-20%",y:"-20%",width:"140%",height:"140%"},[...a[2]||(a[2]=[e("feGaussianBlur",{stdDeviation:"1",result:"blur"},null,-1),e("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"},null,-1)])],8,ue)]),e("path",{d:d(t.trend),fill:`url(#gradient-${t.id})`,class:"transition-all duration-700"},null,8,ge),e("path",{d:y(t.trend),stroke:r(t),"stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",filter:`url(#glow-${t.id})`,class:"transition-all duration-700"},null,8,pe),e("circle",{cx:o(t.trend).x,cy:o(t.trend).y,r:"2",fill:r(t),class:"group-hover:scale-150 transition-transform duration-300"},null,8,me)]))])]))),128))]))}},ve={class:"bg-white rounded-xl border border-gray-100 shadow-sm p-4 md:p-5"},xe={class:"mb-4 pb-4 border-b border-gray-200"},he={class:"flex flex-wrap items-center gap-x-6 gap-y-2"},fe={class:"flex flex-wrap gap-4 mt-4"},be={class:"flex flex-wrap items-center gap-6 pt-4 border-t border-gray-200"},we={class:"mb-4 pb-4 border-b border-gray-200"},$e={class:"flex flex-wrap items-center gap-x-6 gap-y-2"},_e={class:"text-sm text-gray-600"},Pe={class:"text-base font-bold text-gray-900"},ke={class:"text-xs text-gray-400"},Te={class:"mb-4"},Ve={class:"relative h-40 md:h-48 lg:h-56"},Se={class:"w-full h-full",viewBox:"0 0 800 300",preserveAspectRatio:"none"},je=["id"],Ce=["d","fill"],Le={class:"flex flex-wrap gap-4 mt-4"},Ae={class:"text-xs text-gray-600"},Be={class:"flex flex-wrap items-center gap-6 pt-4 border-t border-gray-200"},Me={class:"text-sm font-bold text-gray-700"},Ie={__name:"SalesPipelineChart",props:{pipeline:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(g){const y=g,d=a=>a.toLowerCase().replace(".","").replace(" ","-"),o=a=>({red:"#ef4444",orange:"#f97316",blue:"#3b82f6",gray:"#6b7280"})[a]||"#6b7280",r=a=>({"Coches.net":"12h",Autoscout24:"12h",OLX:"7d 9h","Cars.com":"12h"})[a]||"12h",s=(a,t)=>{const b=Math.max(...y.pipeline.leadSources[0].data),f=a.length,v=800/(f-1);let c=Array(f).fill(300);for(let u=0;u<t;u++){const P=y.pipeline.leadSources[u].data;for(let k=0;k<f;k++)c[k]-=P[k]/b*300}const h=a.map((u,P)=>c[P]-u/b*300);let _=`M 0,${h[0]}`;for(let u=0;u<f-1;u++){const P=u*v,k=(u+1)*v,A=P+(k-P)/2,B=P+(k-P)/2;_+=` C ${A},${h[u]} ${B},${h[u+1]} ${k},${h[u+1]}`}_+=` L 800,${c[f-1]}`;for(let u=f-1;u>0;u--){const P=u*v,k=(u-1)*v,A=P-(P-k)/2,B=P-(P-k)/2;_+=` C ${A},${c[u]} ${B},${c[u-1]} ${k},${c[u-1]}`}return _+=" Z",_};return(a,t)=>(i(),l("div",ve,[g.loading?(i(),l(p,{key:0},[t[3]||(t[3]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"h-5 bg-gray-200 rounded w-32 animate-pulse"}),e("div",{class:"h-8 bg-gray-200 rounded w-32 animate-pulse"})],-1)),e("div",xe,[e("div",he,[(i(),l(p,null,$(4,n=>e("div",{key:`stage-${n}`,class:"flex items-center gap-2"},[...t[0]||(t[0]=[e("div",{class:"h-4 bg-gray-200 rounded w-20 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-8 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-12 animate-pulse"},null,-1)])])),64))])]),t[4]||(t[4]=e("div",{class:"mb-4"},[e("div",{class:"h-40 md:h-48 lg:h-56 bg-gray-100 rounded animate-pulse"})],-1)),e("div",fe,[(i(),l(p,null,$(4,n=>e("div",{key:`legend-${n}`,class:"flex items-center gap-2"},[...t[1]||(t[1]=[e("div",{class:"w-3 h-3 bg-gray-200 rounded-full animate-pulse"},null,-1),e("div",{class:"h-3 bg-gray-200 rounded w-16 animate-pulse"},null,-1)])])),64))]),e("div",be,[(i(),l(p,null,$(4,n=>e("div",{key:`time-${n}`,class:"flex items-center gap-2"},[...t[2]||(t[2]=[e("div",{class:"h-4 bg-gray-200 rounded w-4 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-8 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-16 animate-pulse"},null,-1)])])),64))])],64)):(i(),l(p,{key:1},[t[7]||(t[7]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"section-title !mb-0"},"Sales Pipeline"),e("select",{class:"input !py-1.5 !px-3 text-sm w-auto"},[e("option",null,"This month"),e("option",null,"Last month"),e("option",null,"This quarter")])],-1)),e("div",we,[e("div",$e,[(i(!0),l(p,null,$(g.pipeline.stages,n=>(i(),l("div",{key:n.name,class:"flex items-center gap-2"},[e("span",_e,x(n.name),1),e("span",Pe,x(n.percentage)+"%",1),e("span",ke,"("+x(n.count)+")",1)]))),128))])]),e("div",Te,[e("div",Ve,[(i(),l("svg",Se,[e("defs",null,[(i(!0),l(p,null,$(g.pipeline.leadSources,n=>(i(),l("linearGradient",{key:`gradient-${n.name}`,id:`gradient-${d(n.name)}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:S(`stop-color:${o(n.color)};stop-opacity:0.8`)},null,4),e("stop",{offset:"100%",style:S(`stop-color:${o(n.color)};stop-opacity:0.1`)},null,4)],8,je))),128))]),(i(!0),l(p,null,$(g.pipeline.leadSources,(n,m)=>(i(),l("path",{key:n.name,d:s(n.data,m),fill:`url(#gradient-${d(n.name)})`,opacity:"0.7"},null,8,Ce))),128))]))]),e("div",Le,[(i(!0),l(p,null,$(g.pipeline.leadSources,n=>(i(),l("div",{key:n.name,class:"flex items-center gap-2"},[e("div",{class:C(["w-3 h-3 rounded-full",{"bg-red-500":n.color==="red","bg-orange-500":n.color==="orange","bg-blue-500":n.color==="blue","bg-gray-500":n.color==="gray"}])},null,2),e("span",Ae,x(n.name),1)]))),128))])]),e("div",Be,[(i(!0),l(p,null,$(g.pipeline.leadSources,n=>(i(),l("div",{key:n.name,class:"flex items-center gap-2"},[t[5]||(t[5]=e("i",{class:"fa-regular fa-clock text-xs text-gray-400"},null,-1)),e("span",Me,x(r(n.name)),1),t[6]||(t[6]=e("span",{class:"text-xs text-gray-500"},"on avg.",-1))]))),128))])],64))]))}},qe={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},Oe={class:"p-4 md:p-5"},Ke={class:"space-y-3"},Ne={class:"table-wrapper w-full"},Xe={__name:"TeamPerformanceTable",props:{teamMembers:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(g){const y=w({pageIndex:0,pageSize:10}),d=w(""),o=w([]),r=I(()=>[{accessorKey:"name",header:"Name",meta:{title:"Name"},cell:({row:s})=>T("div",{class:"text-sm font-bold text-gray-900"},s.original.name)},{accessorKey:"leads",header:"Leads",meta:{title:"Leads"},cell:({row:s})=>T("div",{class:"text-sm text-gray-700"},s.original.leads)},{accessorKey:"qualifiedLeads",header:"Qualified",meta:{title:"Qualified"},cell:({row:s})=>{const a=s.original;return T("div",{class:"text-sm text-gray-700"},[T("span",a.qualifiedLeads),T("span",{class:"text-gray-500 text-xs ml-1"},`(${a.qualifiedPercentage}%)`)])}},{accessorKey:"opportunities",header:"Opportunities",meta:{title:"Opportunities"},cell:({row:s})=>T("div",{class:"text-sm text-gray-700"},s.original.opportunities)},{accessorKey:"inNegotiation",header:"In Negotiation",meta:{title:"In Negotiation"},cell:({row:s})=>{const a=s.original;return T("div",{class:"text-sm text-gray-700"},[T("span",a.inNegotiation),T("span",{class:"text-gray-500 text-xs ml-1"},`(${a.inNegotiationPercentage}%)`)])}},{accessorKey:"won",header:"Won",meta:{title:"Won"},cell:({row:s})=>{const a=s.original;return T("div",{class:"text-sm text-gray-700"},[T("span",a.won),T("span",{class:"text-gray-500 text-xs ml-1"},`(${a.wonPercentage}%)`)])}}]);return(s,a)=>(i(),l("div",qe,[g.loading?(i(),l(p,{key:0},[a[4]||(a[4]=e("div",{class:"p-4 md:p-5 border-b border-gray-200"},[e("div",{class:"h-6 bg-gray-200 rounded w-40 animate-pulse"})],-1)),e("div",Oe,[e("div",Ke,[(i(),l(p,null,$(5,t=>e("div",{key:`row-${t}`,class:"flex items-center gap-4"},[...a[3]||(a[3]=[j('<div class="h-4 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-12 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-16 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-20 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-16 animate-pulse"></div>',6)])])),64))])])],64)):(i(),l(p,{key:1},[a[5]||(a[5]=e("div",{class:"p-4 md:p-5 border-b border-gray-200"},[e("h2",{class:"heading-main"},"Team Performance")],-1)),e("div",Ne,[V(E(Q),{data:g.teamMembers,columns:r.value,pagination:y.value,"onUpdate:pagination":a[0]||(a[0]=t=>y.value=t),globalFilter:d.value,"onUpdate:globalFilter":a[1]||(a[1]=t=>d.value=t),sorting:o.value,"onUpdate:sorting":a[2]||(a[2]=t=>o.value=t),paginationOptions:{rowCount:g.teamMembers.length},globalFilterOptions:{debounce:300}},null,8,["data","columns","pagination","globalFilter","sorting","paginationOptions"])])],64))]))}},De={class:"bg-white rounded-xl border border-gray-100 shadow-sm p-4 md:p-5"},Ee={class:"space-y-3"},Fe={class:"space-y-3"},Ge={class:"flex items-start gap-3"},Re={class:"w-10 h-10 rounded-lg bg-gray-50 border border-gray-100 flex flex-col items-center justify-center shrink-0 leading-none"},ze={class:"text-[10px] font-bold text-gray-400 uppercase"},He={class:"text-xs font-bold text-gray-900 mt-0.5"},Qe={class:"flex-1 min-w-0"},Ue={class:"flex items-center justify-between"},We={class:"text-[11px] font-bold text-gray-900 truncate"},Ze={class:"text-[10px] text-gray-400"},Je={class:"text-[10px] text-gray-500 mt-0.5 truncate"},Ye={class:"text-[10px] text-gray-400 mt-0.5 truncate flex items-center gap-1"},et={__name:"TodaysEventsSidebar",props:{events:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(g){return(y,d)=>(i(),l("div",De,[g.loading?(i(),l(p,{key:0},[d[1]||(d[1]=e("div",{class:"h-3 bg-gray-200 rounded w-24 mb-4 animate-pulse"},null,-1)),e("div",Ee,[(i(),l(p,null,$(5,o=>e("div",{key:`skeleton-${o}`,class:"pb-3 border-b border-gray-50 last:border-0 last:pb-0"},[...d[0]||(d[0]=[j('<div class="flex items-start gap-3"><div class="w-10 h-10 bg-gray-200 rounded-lg animate-pulse"></div><div class="flex-1 min-w-0 space-y-2"><div class="h-3 bg-gray-200 rounded w-32 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-40 animate-pulse"></div></div></div>',1)])])),64))])],64)):(i(),l(p,{key:1},[d[3]||(d[3]=e("h2",{class:"label-upper !text-[10px] mb-4"},"Today's Events",-1)),e("div",Fe,[(i(!0),l(p,null,$(g.events,o=>(i(),l("div",{key:o.id,class:"pb-3 border-b border-gray-50 last:border-0 last:pb-0"},[e("div",Ge,[e("div",Re,[e("span",ze,x(o.time.split(":")[0]),1),e("span",He,x(o.time.split(":")[1].split(" ")[0]),1)]),e("div",Qe,[e("div",Ue,[e("div",We,x(o.type),1),e("div",Ze,x(o.time),1)]),e("div",Je,x(o.customer),1),e("div",Ye,[d[2]||(d[2]=e("i",{class:"fa-solid fa-location-dot text-[8px]"},null,-1)),M(" "+x(o.location),1)])])])]))),128))])],64))]))}},tt={class:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden flex flex-col h-full"},st={class:"bg-white flex-1 overflow-y-auto"},at={class:"p-4 space-y-2"},nt=["onClick"],lt={class:"px-4 pb-4"},it={class:"p-4 bg-white border-t border-gray-200"},ot={class:"flex gap-2 items-center"},rt={class:"flex-1 relative"},dt={__name:"AIInsightsSidebar",setup(g){const y=w(["Who are my top 3 best performing sales people?","What's our current pipeline conversion rate?","How many leads did we get today?","How many leads are in negotiation?"]),d=w(""),o=w(!1),r=a=>{d.value=a,s()},s=()=>{d.value.trim()&&(d.value="")};return(a,t)=>(i(),l("div",tt,[t[5]||(t[5]=e("div",{class:"bg-gray-900 px-4 py-3 flex items-center justify-between"},[e("div",{class:"flex items-center gap-2"},[e("span",{class:"text-white font-bold text-sm"},"Insights"),e("span",{class:"text-gray-300 text-sm"},"powered by AI")])],-1)),e("div",st,[e("div",at,[(i(!0),l(p,null,$(y.value,(n,m)=>(i(),l("button",{key:m,onClick:b=>r(n),class:"w-full text-left px-4 py-3 bg-white hover:bg-gray-50 border border-gray-200 rounded-lg transition-colors text-sm text-gray-700"},x(n),9,nt))),128))]),e("div",lt,[e("button",{onClick:t[0]||(t[0]=n=>o.value=!o.value),class:"w-full text-left text-sm text-gray-600 hover:text-gray-900 flex items-center gap-2 transition-colors"},[t[2]||(t[2]=e("span",null,"Show more ideas",-1)),e("i",{class:C(["fa-solid fa-chevron-down text-xs transition-transform duration-300",{"rotate-180":o.value}])},null,2)])])]),e("div",it,[e("div",ot,[t[4]||(t[4]=e("div",{class:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center shrink-0"},[e("i",{class:"fa-solid fa-sparkles text-white text-xs"})],-1)),e("div",rt,[F(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>d.value=n),onKeyup:R(s,["enter"]),type:"text",placeholder:"Ask me anything",class:"input"},null,544),[[G,d.value]])]),e("button",{onClick:s,class:"w-10 h-10 rounded-full bg-gray-800 hover:bg-gray-700 text-white flex items-center justify-center transition-all shrink-0"},[...t[3]||(t[3]=[e("i",{class:"fa-solid fa-arrow-right text-sm"},null,-1)])])])])]))}},ct={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 md:p-5"},ut={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},gt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},pt={class:"mb-2"},mt={class:"text-xs font-bold text-gray-900 truncate mb-0.5"},yt={class:"flex items-baseline gap-1.5"},vt={class:"text-base font-bold text-gray-900 leading-tight"},xt={class:"flex items-center gap-2 mb-2"},ht={class:"text-xs text-gray-500"},ft={class:"h-8 relative"},bt={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},wt=["id"],$t=["d","fill"],_t=["d","stroke"],Pt={__name:"PageViewsByVehicle",props:{vehicles:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(g){const y=o=>{if(!o||o.length===0)return"";const r=Math.max(...o),s=Math.min(...o),a=r-s||1,t=100,n=40,m=2,b=o.map((v,c)=>({x:c/(o.length-1)*(t-m*2)+m,y:n-m-(v-s)/a*(n-m*2)}));if(b.length<2)return"";let f=`M ${b[0].x},${b[0].y}`;for(let v=0;v<b.length-1;v++){const c=b[v],h=b[v+1],_=c.x+(h.x-c.x)/2,u=c.x+(h.x-c.x)/2;f+=` C ${_},${c.y} ${u},${h.y} ${h.x},${h.y}`}return f},d=o=>{const r=y(o);if(!r)return"";const s=100,a=40,t=2,n=t,m=s-t;return`${r} L ${m},${a} L ${n},${a} Z`};return(o,r)=>(i(),l("div",ct,[g.loading?(i(),l(p,{key:0},[r[1]||(r[1]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"h-6 bg-gray-200 rounded w-48 animate-pulse"}),e("div",{class:"h-8 bg-gray-200 rounded w-32 animate-pulse"})],-1)),e("div",ut,[(i(),l(p,null,$(5,s=>e("div",{key:`skeleton-${s}`,class:"bg-gray-50 rounded-lg border border-gray-200 p-3"},[...r[0]||(r[0]=[j('<div class="mb-2"><div class="h-3 bg-gray-200 rounded w-24 mb-2 animate-pulse"></div><div class="flex items-baseline gap-1.5"><div class="h-5 bg-gray-200 rounded w-12 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-10 animate-pulse"></div></div></div><div class="flex items-center gap-2 mb-2"><div class="h-3 bg-gray-200 rounded w-8 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-16 animate-pulse"></div></div><div class="h-8 bg-gray-100 rounded animate-pulse"></div>',3)])])),64))])],64)):(i(),l(p,{key:1},[r[3]||(r[3]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"heading-main"},"Page Views by Vehicle"),e("select",{class:"input !py-1.5 !px-3 text-sm w-auto"},[e("option",null,"This month"),e("option",null,"Last month")])],-1)),e("div",gt,[(i(!0),l(p,null,$(g.vehicles,s=>(i(),l("div",{key:s.id,class:"bg-gray-50 rounded-lg border border-gray-200 p-3"},[e("div",pt,[e("h3",mt,x(s.brand)+" "+x(s.model),1),e("div",yt,[e("span",vt,x(s.views),1),r[2]||(r[2]=e("span",{class:"text-xs text-gray-500"},"views",-1))])]),e("div",xt,[e("span",{class:C(["text-xs font-bold flex items-center gap-0.5",s.changeType==="increase"?"text-green-600":"text-red-600"])},[e("i",{class:C([s.changeType==="increase"?"fa-solid fa-arrow-up":"fa-solid fa-arrow-down","text-[10px]"])},null,2),M(" "+x(Math.abs(s.change))+"% ",1)],2),e("span",ht,x(s.avgPerDay)+" avg/day",1)]),e("div",ft,[(i(),l("svg",bt,[e("defs",null,[e("linearGradient",{id:`gradient-v-${s.id}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:S(`stop-color:${s.changeType==="increase"?"#10b981":"#ef4444"};stop-opacity:0.2`)},null,4),e("stop",{offset:"100%",style:S(`stop-color:${s.changeType==="increase"?"#10b981":"#ef4444"};stop-opacity:0`)},null,4)],8,wt)]),e("path",{d:d(s.trend),fill:`url(#gradient-v-${s.id})`,class:"transition-all duration-700"},null,8,$t),e("path",{d:y(s.trend),stroke:s.changeType==="increase"?"#10b981":"#ef4444","stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"transition-all duration-700"},null,8,_t)]))])]))),128))])],64))]))}},kt={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 md:p-5"},Tt={class:"space-y-4"},Vt={class:"flex items-end gap-1 h-64 overflow-x-auto pb-2"},St={class:"space-y-4"},jt={class:"flex items-end gap-1 h-64 overflow-x-auto pb-2"},Ct={class:"w-full flex items-end justify-center h-full gap-0.5"},Lt=["title"],At=["title"],Bt={class:"text-[9px] text-gray-500 mt-1"},Mt={__name:"PageViewsChart",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(g){const y=g,d=I(()=>Math.max(...y.data.map(o=>o.organic+o.paid)));return(o,r)=>(i(),l("div",kt,[g.loading?(i(),l(p,{key:0},[r[2]||(r[2]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"h-6 bg-gray-200 rounded w-48 animate-pulse"}),e("div",{class:"h-8 bg-gray-200 rounded w-32 animate-pulse"})],-1)),e("div",Tt,[e("div",Vt,[(i(),l(p,null,$(30,s=>e("div",{key:`bar-${s}`,class:"flex flex-col items-center gap-1 min-w-[20px]"},[...r[0]||(r[0]=[e("div",{class:"w-full flex items-end justify-center h-full gap-0.5"},[e("div",{class:"bg-gray-200 rounded-t w-2 h-full animate-pulse"}),e("div",{class:"bg-gray-200 rounded-t w-2 h-3/4 animate-pulse"})],-1),e("div",{class:"h-3 bg-gray-200 rounded w-2 animate-pulse"},null,-1)])])),64))]),r[1]||(r[1]=j('<div class="flex items-center justify-center gap-6 pt-4 border-t border-gray-200"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-gray-200 rounded animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-16 animate-pulse"></div></div><div class="flex items-center gap-2"><div class="w-4 h-4 bg-gray-200 rounded animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-12 animate-pulse"></div></div></div>',1))])],64)):(i(),l(p,{key:1},[r[4]||(r[4]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"heading-main"},"Page Views: Organic vs. Paid"),e("select",{class:"input text-sm w-auto"},[e("option",null,"This month"),e("option",null,"Last month"),e("option",null,"This quarter")])],-1)),e("div",St,[e("div",jt,[(i(!0),l(p,null,$(g.data,(s,a)=>(i(),l("div",{key:a,class:"flex flex-col items-center gap-1 min-w-[20px]"},[e("div",Ct,[e("div",{class:"bg-blue-600 rounded-t w-2",style:S({height:`${s.organic/d.value*100}%`,minHeight:"2px"}),title:`Organic: ${s.organic}`},null,12,Lt),e("div",{class:"bg-orange-500 rounded-t w-2",style:S({height:`${s.paid/d.value*100}%`,minHeight:"2px"}),title:`Paid: ${s.paid}`},null,12,At)]),e("span",Bt,x(a+1),1)]))),128))]),r[3]||(r[3]=j('<div class="flex items-center justify-center gap-6 pt-4 border-t border-gray-200"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-blue-600 rounded"></div><span class="text-meta text-gray-600">Organic</span></div><div class="flex items-center gap-2"><div class="w-4 h-4 bg-orange-500 rounded"></div><span class="text-meta text-gray-600">Paid</span></div></div>',1))])],64))]))}},It={class:"page-container"},qt={class:"p-4 md:p-6 lg:p-8"},Ot={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 items-start"},Kt={class:"lg:col-span-2 space-y-4 md:space-y-6"},Nt={class:"space-y-4 md:space-y-6"},Rt={__name:"Reports",setup(g){const y=w([]),d=w({stages:[],leadSources:[]}),o=w([]),r=w([]),s=w([]),a=w([]),t=w(!0),n=w(!0),m=w(!0),b=w(!0),f=w(!0),v=w(!0);return z(async()=>{Promise.all([W().then(c=>{y.value=c,t.value=!1}),Z().then(c=>{d.value=c,n.value=!1}),J().then(c=>{o.value=c,m.value=!1}),Y().then(c=>{r.value=c,b.value=!1}),ee().then(c=>{s.value=c,f.value=!1}),te().then(c=>{a.value=c,v.value=!1})])}),(c,h)=>(i(),l("div",It,[V(U,{title:"Reports",subtitle:"Performance tracking and insights"},{actions:H(()=>[...h[0]||(h[0]=[e("select",{class:"input text-sm w-auto"},[e("option",null,"This month"),e("option",null,"Last month"),e("option",null,"This quarter"),e("option",null,"This year")],-1)])]),_:1}),e("div",qt,[e("div",Ot,[e("div",Kt,[V(ye,{kpis:y.value,loading:t.value},null,8,["kpis","loading"]),V(Ie,{pipeline:d.value,loading:n.value},null,8,["pipeline","loading"]),V(Xe,{"team-members":o.value,loading:m.value},null,8,["team-members","loading"]),V(Pt,{vehicles:s.value,loading:f.value},null,8,["vehicles","loading"])]),e("div",Nt,[V(et,{events:r.value,loading:b.value},null,8,["events","loading"]),V(dt),V(Mt,{data:a.value,loading:v.value},null,8,["data","loading"])])])])]))}};export{Rt as default};
