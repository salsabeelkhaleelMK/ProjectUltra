import{u as R,a as B,r as _,c as N,f as Y,b as P,d,o as r,e,n as O,t as f,g as k,F as $,h as j,i as U,j as z,k as Q,w as E,l as F,m as H,p as L,q as x,s as J,v as G,x as W}from"./index-Baowk8yV.js";import{f as K,a as X}from"./calendar-hlvfSy0M.js";import{i as q,Q as V}from"./index-C1tcDFBl.js";import{u as Z}from"./users-CllAH7OS.js";import{_ as ee}from"./ReassignUserModal-BR__nY6Q.js";import"./index-Ct-3v9pQ-DjTMGHGd.js";import"./ModalShell-DcQqocRS.js";import"./toggle-group-item.vue_vue_type_script_setup_true_lang-Csij51_o-N-LQGDgb.js";function te(){const y=R(),{questions:v,totalQuestionsCount:p,loading:m,loadQuestions:b}=B(),c=_([]),s=_([]),u=_([]),h=_([]),C=_(!0),A=_(!0),S=N(()=>{const i=s.value.map(a=>({...a,type:"lead",taskType:"Lead",dueTime:a.nextActionDue?new Date(a.nextActionDue).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):null,dueDate:a.nextActionDue?new Date(a.nextActionDue):null})),l=u.value.map(a=>({...a,type:"opportunity",taskType:"Opportunity",dueTime:a.expectedCloseDate?new Date(a.expectedCloseDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):null,dueDate:a.expectedCloseDate?new Date(a.expectedCloseDate):null}));return[...i,...l]}),T=N(()=>{const i=[],l=c.value.map(n=>({...n,todoType:"appointment",sortTime:new Date(n.start).getTime(),time:new Date(n.start).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),date:new Date(n.start)}));i.push(...l);const a=S.value.map(n=>{const t=n.dueDate||(n.nextActionDue?new Date(n.nextActionDue):null),g=t&&t<new Date;return{...n,todoType:"task",sortTime:t?t.getTime():0,isOverdue:g,priority:n.priority==="Hot"?1:2}});return i.push(...a),i.sort((n,t)=>n.todoType==="appointment"&&t.todoType!=="appointment"?-1:n.todoType!=="appointment"&&t.todoType==="appointment"?1:n.todoType==="appointment"&&t.todoType==="appointment"?n.sortTime-t.sortTime:n.isOverdue&&!t.isOverdue?-1:!n.isOverdue&&t.isOverdue?1:n.priority!==t.priority?n.priority-t.priority:n.sortTime-t.sortTime)}),D=N(()=>c.value.map(i=>({...i,time:new Date(i.start).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),date:new Date(i.start)})).sort((i,l)=>i.date.getTime()-l.date.getTime())),w=N(()=>S.value.filter(i=>{const l=i.dueDate||(i.nextActionDue?new Date(i.nextActionDue):null);if(!l)return!1;const a=new Date;a.setHours(0,0,0,0);const n=new Date(a);n.setDate(n.getDate()+1);const t=new Date(l);return t.setHours(0,0,0,0),t>=a&&t<n}).sort((i,l)=>{var o,g;const a=new Date,n=i.dueDate<a,t=l.dueDate<a;return n&&!t?-1:!n&&t?1:i.priority!==l.priority?(i.priority==="Hot"?1:2)-(l.priority==="Hot"?1:2):(((o=i.dueDate)==null?void 0:o.getTime())||0)-(((g=l.dueDate)==null?void 0:g.getTime())||0)})),I=N(()=>v.value);async function M(){Promise.all([b(),K().then(i=>{c.value=i,C.value=!1}),Promise.all([y.canAccessLeads()?Y().then(i=>{s.value=i}):Promise.resolve(),y.canAccessOpportunities()?P().then(i=>{u.value=i}):Promise.resolve()]).then(()=>{A.value=!1}),X(1).then(i=>{h.value=i})]).catch(i=>{console.error("Error loading dashboard:",i),C.value=!1,A.value=!1})}return{notifications:I,totalNotificationsCount:p,appointmentsToday:D,tasksDueToday:w,prioritizedTodos:T,loadingNotifications:m,loadingAppointments:N(()=>C.value),loadingTasks:N(()=>A.value),loadDashboard:M}}const se={class:"flex items-center gap-2 mb-2"},oe={class:"text-xs text-gray-500"},re={class:"text-xs text-gray-500"},ne={class:"ml-auto flex items-center gap-2"},ae={key:1,class:"bg-white border border-gray-200 rounded-lg shadow-lg p-1.5 flex items-center gap-1.5 z-10"},ie=["innerHTML"],le={class:"flex gap-2 flex-wrap justify-end mt-3"},de={__name:"ActionableQuestionCard",props:{question:{type:Object,required:!0}},emits:["answer-yes","answer-no","reassign","view-task","dismiss"],setup(y,{emit:v}){const p=y,m=v,b=_(!1),c=_(!1),s=R();Z();const u=()=>{var a,n,t;const l=((a=p.question.opportunity)==null?void 0:a.assignee)||((n=p.question.lead)==null?void 0:n.assignee);return l?l===((t=s.currentUser)==null?void 0:t.name)?"me":l:"Unknown"},h=()=>{const l=p.question.customer.name,a=p.question.question,n=`<a href="#" class="font-bold text-primary-600 hover:text-primary-700 hover:underline" onclick="event.preventDefault()">${l}</a>`;return a.replace(new RegExp(l,"g"),n)},C=l=>l===1?"bg-red-50 text-red-600 border-red-100":l<=3?"bg-amber-50 text-amber-600 border-amber-100":"bg-emerald-50 text-emerald-600 border-emerald-100",A=l=>l===1?"CRITICAL":l<=3?"HIGH":"MEDIUM",S=()=>{if(!p.question.createdAt&&!p.question.appointmentDate)return"Just now";const l=new Date(p.question.createdAt||p.question.appointmentDate),n=new Date-l,t=Math.floor(n/6e4),o=Math.floor(t/60),g=Math.floor(o/24);return t<1?"Just now":t<60?`${t} min ago`:o<24?`${o} hours ago`:g===1?"1 day ago":g<7?`${g} days ago`:`${Math.floor(g/7)} weeks ago`},T=()=>m("answer-yes",p.question),D=()=>m("answer-no",p.question),w=()=>m("reassign",p.question),I=()=>m("view-task",p.question),M=l=>{l.target.tagName==="A"&&(l.preventDefault(),I())},i=()=>{c.value=!0,setTimeout(()=>{m("dismiss",p.question)},200)};return(l,a)=>(r(),d("div",{class:O(["bg-white border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-sm transition-all",c.value?"opacity-50":""])},[e("div",se,[e("span",{class:O(["text-xs font-bold px-2 py-0.5 rounded border whitespace-nowrap",C(y.question.priority)])},f(A(y.question.priority)),3),e("span",oe,f(S()),1),e("span",re,"• Owner: "+f(u()),1),e("div",ne,[b.value?(r(),d("div",ae,[a[3]||(a[3]=e("span",{class:"text-xs text-gray-600 whitespace-nowrap"},"Dismiss?",-1)),e("button",{onClick:i,class:"px-2 py-0.5 text-xs font-medium text-rose-700 bg-rose-50 hover:bg-rose-100 border border-rose-200 rounded transition-colors"}," Yes "),e("button",{onClick:a[1]||(a[1]=n=>b.value=!1),class:"px-2 py-0.5 text-xs font-medium text-gray-600 hover:text-gray-800 transition-colors"}," No ")])):(r(),d("button",{key:0,onClick:a[0]||(a[0]=n=>b.value=!0),class:"w-7 h-7 flex items-center justify-center rounded text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",title:"Dismiss"},[...a[2]||(a[2]=[e("i",{class:"fa-solid fa-xmark text-sm"},null,-1)])]))])]),e("div",{class:"mb-2",onClick:M},[e("p",{class:"font-semibold text-slate-800 text-sm mb-1",innerHTML:h()},null,8,ie)]),e("div",le,[y.question.type==="appointment-followup"?(r(),d($,{key:0},[e("button",{onClick:T,class:"px-3 py-1.5 text-xs font-medium text-emerald-700 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 rounded-lg transition-colors"}," Yes "),e("button",{onClick:D,class:"px-3 py-1.5 text-xs font-medium text-rose-700 bg-rose-50 hover:bg-rose-100 border border-rose-200 rounded-lg transition-colors"}," No ")],64)):y.question.type==="ns-followup"?(r(),d($,{key:1},[e("button",{onClick:T,class:"px-3 py-1.5 text-xs font-medium text-emerald-700 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 rounded-lg transition-colors"}," Yes "),e("button",{onClick:D,class:"px-3 py-1.5 text-xs font-medium text-rose-700 bg-rose-50 hover:bg-rose-100 border border-rose-200 rounded-lg transition-colors"}," No "),e("button",{onClick:w,class:"px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-colors"}," Reassign ")],64)):y.question.type==="offer-followup"?(r(),d("button",{key:2,onClick:I,class:"px-3 py-1.5 text-xs font-medium text-primary-700 bg-primary-50 hover:bg-primary-100 border border-primary-200 rounded-lg transition-colors"}," View Opportunity ")):y.question.type==="stuck-opportunity"?(r(),d($,{key:3},[e("button",{onClick:T,class:"px-3 py-1.5 text-xs font-medium text-emerald-700 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 rounded-lg transition-colors"}," Yes "),e("button",{onClick:D,class:"px-3 py-1.5 text-xs font-medium text-rose-700 bg-rose-50 hover:bg-rose-100 border border-rose-200 rounded-lg transition-colors"}," No "),e("button",{onClick:w,class:"px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-colors"}," Reassign ")],64)):y.question.type==="lead-qualification-urgency"?(r(),d($,{key:4},[e("button",{onClick:T,class:"px-3 py-1.5 text-xs font-medium text-emerald-700 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 rounded-lg transition-colors"}," Yes "),e("button",{onClick:D,class:"px-3 py-1.5 text-xs font-medium text-rose-700 bg-rose-50 hover:bg-rose-100 border border-rose-200 rounded-lg transition-colors"}," No "),e("button",{onClick:w,class:"px-3 py-1.5 text-xs font-medium text-slate-700 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-colors"}," Reassign ")],64)):k("",!0)])],2))}},ue={class:"space-y-3"},ce={key:0,class:"text-center py-8 text-gray-500"},pe=["onClick"],ge={class:"flex items-start justify-between gap-4"},me={class:"flex-1 min-w-0"},ye={class:"flex items-center gap-2 mb-1"},xe={class:"font-semibold text-slate-800 text-sm mb-1"},be={class:"text-xs text-gray-600 mb-2"},fe={key:0},ve={class:"flex items-center gap-2 text-xs text-gray-500"},he={key:0},we={key:1},ke=["onClick"],$e={__name:"TodaysAppointments",props:{appointments:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(y){const v=j(),p=c=>{const s=new Date,h=(new Date(c)-s)/(1e3*60*60);return h<0?"bg-red-100 text-red-700 border-red-200":h<2?"bg-orange-100 text-orange-700 border-orange-200":"bg-blue-100 text-blue-700 border-blue-200"},m=c=>({confirmed:"bg-green-50 text-green-700 border-green-200",scheduled:"bg-blue-50 text-blue-700 border-blue-200",pending:"bg-yellow-50 text-yellow-700 border-yellow-200",cancelled:"bg-red-50 text-red-700 border-red-200","no-show":"bg-gray-50 text-gray-700 border-gray-200"})[c]||"bg-gray-50 text-gray-700 border-gray-200",b=c=>{c.opportunityId?v.push(`/tasks/${c.opportunityId}?type=opportunity`):c.leadId?v.push(`/tasks/${c.leadId}?type=lead`):v.push("/calendar")};return(c,s)=>(r(),d("div",ue,[y.loading?(r(),d($,{key:0},U(3,u=>e("div",{key:`skeleton-${u}`,class:"bg-white border border-gray-200 rounded-lg p-4"},[...s[0]||(s[0]=[z('<div class="flex items-start justify-between gap-4"><div class="flex-1 min-w-0 space-y-2"><div class="flex items-center gap-2"><div class="h-5 bg-gray-200 rounded w-16 animate-pulse"></div><div class="h-5 bg-gray-200 rounded w-20 animate-pulse"></div></div><div class="h-4 bg-gray-200 rounded w-32 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-20 animate-pulse"></div></div><div class="h-4 w-4 bg-gray-200 rounded animate-pulse"></div></div>',1)])])),64)):(r(),d($,{key:1},[y.appointments.length===0?(r(),d("div",ce,[...s[1]||(s[1]=[e("i",{class:"fa-solid fa-calendar-check text-4xl mb-2 text-gray-300"},null,-1),e("p",{class:"text-sm"},"No appointments scheduled for today",-1)])])):k("",!0),(r(!0),d($,null,U(y.appointments,u=>(r(),d("div",{key:u.id,onClick:h=>b(u),class:"bg-white border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer"},[e("div",ge,[e("div",me,[e("div",ye,[e("span",{class:O(["text-xs font-bold px-2 py-0.5 rounded",p(u.date)])},f(u.time),3),e("span",{class:O(["text-xs font-medium px-2 py-0.5 rounded border",m(u.status)])},f(u.status),3)]),e("h4",xe,f(u.customer||u.title),1),e("p",be,[Q(f(u.type)+" ",1),u.vehicle?(r(),d("span",fe," - "+f(u.vehicle),1)):k("",!0)]),e("div",ve,[s[2]||(s[2]=e("i",{class:"fa-solid fa-user text-gray-400"},null,-1)),u.assigneeType==="team"?(r(),d("span",he,f(u.team)+" Team ",1)):(r(),d("span",we,f(u.assignee||"Unassigned"),1))])]),e("button",{onClick:E(h=>b(u),["stop"]),class:"text-gray-400 hover:text-blue-600 transition-colors"},[...s[3]||(s[3]=[e("i",{class:"fa-solid fa-chevron-right"},null,-1)])],8,ke)])],8,pe))),128))],64))]))}},De={class:"space-y-3"},Te={key:0,class:"text-center py-8 text-gray-500"},_e=["onClick"],Ce={class:"flex items-start justify-between gap-4"},Ae={class:"flex-1 min-w-0"},Ne={class:"flex items-center gap-2 mb-1"},Se={key:0,class:"text-xs font-bold px-2 py-0.5 rounded bg-red-50 text-red-700 border border-red-200 flex items-center gap-1"},Ie={key:1,class:"text-xs font-medium px-2 py-0.5 rounded bg-gray-50 text-gray-700 border border-gray-200"},Oe={key:3,class:"text-xs font-bold px-2 py-0.5 rounded bg-red-100 text-red-700 border border-red-200"},Ue={class:"font-semibold text-slate-800 text-sm mb-1"},Me={class:"text-xs text-gray-600 mb-2"},He={key:0},Le={class:"flex items-center gap-2 text-xs text-gray-500"},qe={key:0,class:"text-gray-500"},Ve=["onClick"],Qe={__name:"TodaysTasks",props:{tasks:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(y){const v=j(),p=b=>{if(!b)return"bg-gray-100 text-gray-700 border-gray-200";const c=new Date,u=(new Date(b)-c)/(1e3*60*60);return u<0?"bg-red-100 text-red-700 border-red-200":u<2?"bg-orange-100 text-orange-700 border-orange-200":"bg-blue-100 text-blue-700 border-blue-200"},m=b=>{v.push(`/tasks/${b.id}?type=${b.type}`)};return(b,c)=>(r(),d("div",De,[y.loading?(r(),d($,{key:0},U(3,s=>e("div",{key:`skeleton-${s}`,class:"bg-white border border-gray-200 rounded-lg p-4"},[...c[0]||(c[0]=[z('<div class="flex items-start justify-between gap-4"><div class="flex-1 min-w-0 space-y-2"><div class="flex items-center gap-2"><div class="h-5 bg-gray-200 rounded w-16 animate-pulse"></div><div class="h-5 bg-gray-200 rounded w-20 animate-pulse"></div></div><div class="h-4 bg-gray-200 rounded w-32 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div><div class="flex items-center gap-2"><div class="h-4 bg-gray-200 rounded w-16 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-20 animate-pulse"></div></div></div><div class="h-4 w-4 bg-gray-200 rounded animate-pulse"></div></div>',1)])])),64)):(r(),d($,{key:1},[y.tasks.length===0?(r(),d("div",Te,[...c[1]||(c[1]=[e("i",{class:"fa-solid fa-tasks text-4xl mb-2 text-gray-300"},null,-1),e("p",{class:"text-sm"},"No tasks due today",-1)])])):k("",!0),(r(!0),d($,null,U(y.tasks,s=>{var u;return r(),d("div",{key:`${s.type}-${s.id}`,onClick:h=>m(s),class:"bg-white border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer"},[e("div",Ce,[e("div",Ae,[e("div",Ne,[s.priority==="Hot"?(r(),d("span",Se,[...c[2]||(c[2]=[e("i",{class:"fa-solid fa-fire text-[9px]"},null,-1),Q(" HOT ",-1)])])):(r(),d("span",Ie," Normal ")),s.dueTime?(r(),d("span",{key:2,class:O(["text-xs font-bold px-2 py-0.5 rounded",p(s.dueDate)])},f(s.dueTime),3)):k("",!0),s.isOverdue?(r(),d("span",Oe," OVERDUE ")):k("",!0)]),e("h4",Ue,f(((u=s.customer)==null?void 0:u.name)||"Unknown Customer"),1),e("p",Me,[Q(f(s.taskType)+" ",1),s.requestedCar||s.vehicle?(r(),d("span",He," - "+f(s.requestedCar?`${s.requestedCar.brand} ${s.requestedCar.model}`:`${s.vehicle.brand} ${s.vehicle.model}`),1)):k("",!0)]),e("div",Le,[e("span",{class:O(["px-2 py-0.5 rounded border text-[10px] font-bold uppercase",s.type==="lead"?"bg-blue-50 text-blue-700 border-blue-200":"bg-purple-50 text-purple-700 border-purple-200"])},f(s.type==="lead"?"Lead":"Opportunity"),3),s.stage||s.displayStage?(r(),d("span",qe,f(s.displayStage||s.stage),1)):k("",!0)])]),e("button",{onClick:E(h=>m(s),["stop"]),class:"text-gray-400 hover:text-blue-600 transition-colors"},[...c[3]||(c[3]=[e("i",{class:"fa-solid fa-chevron-right"},null,-1)])],8,Ve)])],8,_e)}),128))],64))]))}},Re={class:"page-container"},je={class:"p-4 md:p-6 lg:p-8"},ze={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6"},Be={class:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden"},Ee={class:"p-4 border-b border-gray-100 bg-gray-50/50"},Ye={class:"flex items-center justify-between"},Pe={class:"flex items-center gap-2"},Fe={class:"p-4 space-y-3"},Je={key:0,class:"text-center py-8 text-gray-500"},Ge={class:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden"},We={class:"p-4 border-b border-gray-100 bg-gray-50/50"},Ke={class:"flex items-center justify-between"},Xe={class:"flex items-center gap-2"},Ze={class:"p-4"},et={class:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden"},tt={class:"p-4 border-b border-gray-100 bg-gray-50/50"},st={class:"flex items-center justify-between"},ot={class:"flex items-center gap-2"},rt={class:"p-4"},gt={__name:"Home",setup(y){const v=j(),p=R(),{dismissQuestion:m,addFollowUpQuestion:b}=B(),{notifications:c,totalNotificationsCount:s,appointmentsToday:u,tasksDueToday:h,loadingNotifications:C,loadingAppointments:A,loadingTasks:S,loadDashboard:T}=te(),D=_(!1),w=_(null);F(async()=>{await T()});const I=async t=>{t.type==="appointment-followup"?(m(t.id),b({id:`offer-followup-${t.opportunityId}`,type:"offer-followup",priority:5,question:`What was the offer given to ${t.customer.name}?`,customer:t.customer,opportunityId:t.opportunityId,opportunity:t.opportunity,createdAt:new Date().toISOString()})):(t.type==="ns-followup"||t.type==="stuck-opportunity"||t.type==="lead-qualification-urgency")&&m(t.id)},M=async t=>{var o;if(t.type==="appointment-followup")try{const g=(o=p.currentUser)==null?void 0:o.id;g&&(await W(t.opportunityId,g),m(t.id),await T())}catch(g){console.error("Error creating NS task:",g)}else t.type==="ns-followup"?m(t.id):t.type==="stuck-opportunity"?v.push(`/tasks/${t.opportunityId}?type=opportunity`):t.type==="lead-qualification-urgency"&&v.push(`/tasks/${t.leadId}?type=lead`)},i=t=>{w.value=t,D.value=!0},l=async t=>{if(w.value)try{const o=w.value.opportunityId||w.value.leadId;w.value.opportunityId&&await J(o,t),m(w.value.id),D.value=!1,w.value=null,await T()}catch(o){console.error("Error reassigning:",o)}},a=t=>{t.opportunityId?v.push(`/tasks/${t.opportunityId}?type=opportunity`):t.leadId&&v.push(`/tasks/${t.leadId}?type=lead`)},n=t=>{p.currentUser&&G(t.id,p.currentUser.id),m(t.id)};return(t,o)=>(r(),d("div",Re,[e("div",je,[e("div",ze,[e("div",Be,[e("div",Ee,[e("div",Ye,[e("div",Pe,[o[4]||(o[4]=e("i",{class:"fa-solid fa-bolt text-gray-400 text-sm"},null,-1)),o[5]||(o[5]=e("h2",{class:"font-bold text-slate-800 text-sm"},"Quick Actions",-1)),x(s)>0?(r(),L(x(q),{key:0,text:String(x(s)),size:"small",theme:"blue"},null,8,["text"])):k("",!0)]),x(s)>5?(r(),L(x(V),{key:0,label:"View all →",variant:"ghost",size:"small",onClick:o[0]||(o[0]=g=>t.$router.push("/tasks")),class:"text-xs"})):k("",!0)])]),e("div",Fe,[x(C)?(r(),d($,{key:0},U(3,g=>e("div",{key:`skeleton-${g}`,class:"bg-gray-50 border border-gray-200 rounded-lg p-4"},[...o[6]||(o[6]=[z('<div class="space-y-2"><div class="h-4 bg-gray-200 rounded w-3/4 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-1/2 animate-pulse"></div><div class="flex gap-2 mt-3"><div class="h-8 bg-gray-200 rounded flex-1 animate-pulse"></div><div class="h-8 bg-gray-200 rounded flex-1 animate-pulse"></div></div></div>',1)])])),64)):(r(),d($,{key:1},[x(c).length===0?(r(),d("div",Je,[...o[7]||(o[7]=[e("i",{class:"fa-solid fa-check-circle text-4xl mb-2 text-gray-300"},null,-1),e("p",{class:"text-sm"},"All caught up!",-1),e("p",{class:"text-xs text-gray-400 mt-1"},"No quick actions needed",-1)])])):k("",!0),(r(!0),d($,null,U(x(c).slice(0,5),g=>(r(),L(de,{key:g.id,question:g,onAnswerYes:I,onAnswerNo:M,onReassign:i,onViewTask:a,onDismiss:n},null,8,["question"]))),128))],64))])]),e("div",Ge,[e("div",We,[e("div",Ke,[e("div",Xe,[o[8]||(o[8]=e("i",{class:"fa-solid fa-calendar text-gray-400 text-sm"},null,-1)),o[9]||(o[9]=e("h2",{class:"font-bold text-slate-800 text-sm"},"Appointments Today",-1)),x(u).length>0?(r(),L(x(q),{key:0,text:String(x(u).length),size:"small",theme:"blue"},null,8,["text"])):k("",!0)]),H(x(V),{label:"View calendar →",variant:"ghost",size:"small",onClick:o[1]||(o[1]=g=>t.$router.push("/calendar")),class:"text-xs"})])]),e("div",Ze,[H($e,{appointments:x(u),loading:x(A)},null,8,["appointments","loading"])])]),e("div",et,[e("div",tt,[e("div",st,[e("div",ot,[o[10]||(o[10]=e("i",{class:"fa-solid fa-tasks text-gray-400 text-sm"},null,-1)),o[11]||(o[11]=e("h2",{class:"font-bold text-slate-800 text-sm"},"Tasks Due Today",-1)),x(h).length>0?(r(),L(x(q),{key:0,text:String(x(h).length),size:"small",theme:"red"},null,8,["text"])):k("",!0)]),H(x(V),{label:"View all tasks →",variant:"ghost",size:"small",onClick:o[2]||(o[2]=g=>t.$router.push("/tasks")),class:"text-xs"})])]),e("div",rt,[H(Qe,{tasks:x(h),loading:x(S)},null,8,["tasks","loading"])])])])]),H(ee,{show:D.value,onClose:o[3]||(o[3]=g=>D.value=!1),onConfirm:l},null,8,["show"])]))}};export{gt as default};
