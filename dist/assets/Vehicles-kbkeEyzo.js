import{H as p,d as M,r as m,c as k,o as P,a as c,b as e,t as d,u as y,e as U,w as S,v as j,x as B,g as C,F as A,f as N,h as u,i as F,n as q,j as E}from"./index-BYxhXYqh.js";const v=(l=300)=>new Promise(s=>setTimeout(s,l)),z=async(l={})=>{await v();let s=[...p];if(l.status&&(s=s.filter(a=>a.status===l.status)),l.brand&&(s=s.filter(a=>a.brand===l.brand)),l.search){const a=l.search.toLowerCase();s=s.filter(o=>o.brand.toLowerCase().includes(a)||o.model.toLowerCase().includes(a)||o.vin.toLowerCase().includes(a))}return{data:s,total:s.length}},T=async l=>{await v();const s=p.find(a=>a.id===parseInt(l));if(!s)throw new Error("Vehicle not found");return s},H=async l=>{await v();const s={id:p.length+1,...l,stockDays:0};return p.push(s),s},K=async(l,s)=>{await v();const a=p.findIndex(o=>o.id===parseInt(l));if(a===-1)throw new Error("Vehicle not found");return p[a]={...p[a],...s},p[a]},Q=async l=>{await v();const s=p.findIndex(a=>a.id===parseInt(l));if(s===-1)throw new Error("Vehicle not found");return p.splice(s,1),{success:!0}},R=M("vehicles",()=>{const l=m([]),s=m(null),a=m(!1),o=m(null),h=m({status:null,brand:null,search:""}),w=k(()=>l.value.length),b=k(()=>l.value.filter(i=>i.status==="Available")),g=k(()=>l.value.reduce((i,r)=>i+r.price,0));async function x(){a.value=!0,o.value=null;try{const i=await z(h.value);l.value=i.data}catch(i){o.value=i.message}finally{a.value=!1}}async function t(i){a.value=!0,o.value=null;try{s.value=await T(i)}catch(r){o.value=r.message}finally{a.value=!1}}async function n(i){a.value=!0,o.value=null;try{const r=await H(i);return l.value.unshift(r),r}catch(r){throw o.value=r.message,r}finally{a.value=!1}}async function V(i,r){a.value=!0,o.value=null;try{const f=await K(i,r),I=l.value.findIndex(L=>L.id===i);return I!==-1&&(l.value[I]=f),f}catch(f){throw o.value=f.message,f}finally{a.value=!1}}async function _(i){a.value=!0,o.value=null;try{await Q(i),l.value=l.value.filter(r=>r.id!==i)}catch(r){throw o.value=r.message,r}finally{a.value=!1}}function D(i){h.value={...h.value,...i},x()}return{vehicles:l,currentVehicle:s,loading:a,error:o,filters:h,totalVehicles:w,availableVehicles:b,totalInventoryValue:g,loadVehicles:x,loadVehicleById:t,addVehicle:n,modifyVehicle:V,removeVehicle:_,setFilters:D}}),G={class:"page-container"},J={class:"page-header"},O={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},W={class:"page-header-subtitle"},X={class:"mt-4 flex flex-col sm:flex-row items-stretch sm:items-center gap-3"},Y={class:"flex-1 min-w-0 sm:max-w-md"},Z={class:"relative"},$={class:"p-4 md:p-8"},ee={key:0,class:"empty-state"},te={key:1,class:"empty-state"},se={key:2,class:"card overflow-hidden"},ae={class:"overflow-x-auto -mx-4 md:mx-0"},le={class:"w-full"},ne={class:"divide-y divide-gray-100"},oe={class:"px-3 md:px-6 py-3 whitespace-nowrap"},ie={class:"flex items-center gap-2 md:gap-3"},re={class:"min-w-0"},de={class:"text-content-bold truncate max-w-[120px] md:max-w-none"},ce={class:"text-meta"},ue={class:"px-3 md:px-6 py-3 whitespace-nowrap"},pe={class:"px-3 md:px-6 py-3 whitespace-nowrap"},xe={class:"text-content-bold"},me={class:"px-3 md:px-6 py-3 text-content text-gray-600 whitespace-nowrap hidden md:table-cell"},he={class:"px-3 md:px-6 py-3 whitespace-nowrap"},ye={class:"px-3 md:px-6 py-3 whitespace-nowrap hidden xl:table-cell"},fe={key:0,class:"flex flex-wrap gap-1"},ve={key:0,class:"badge-ui bg-gray-100 text-gray-600 font-semibold"},we={key:1,class:"text-meta"},be={class:"px-4 md:px-6 py-4 border-t border-gray-200 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3"},ge={class:"text-sm text-gray-600"},_e={__name:"Vehicles",setup(l){const s=R(),a=m(""),o=m({status:"",brand:""});P(()=>{s.loadVehicles()});const h=()=>{s.setFilters({search:a.value})},w=()=>{s.setFilters(o.value)},b=x=>new Intl.NumberFormat("en-US").format(x),g=x=>new Intl.NumberFormat("en-US").format(x);return(x,t)=>(u(),c("div",G,[e("div",J,[e("div",O,[e("div",null,[t[5]||(t[5]=e("h1",{class:"page-header-title"},"Vehicles Inventory",-1)),e("p",W,d(y(s).totalVehicles)+" vehicles in inventory",1)]),t[6]||(t[6]=e("button",{class:"btn-primary self-start sm:self-auto"},[e("i",{class:"fa-solid fa-plus"}),U(),e("span",{class:"hidden sm:inline"},"Add Vehicle"),e("span",{class:"sm:hidden"},"Add")],-1))]),e("div",X,[e("div",Y,[e("div",Z,[t[7]||(t[7]=e("i",{class:"fa-solid fa-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1)),S(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>a.value=n),onInput:h,type:"text",placeholder:"Search vehicles...",class:"input-with-icon"},null,544),[[j,a.value]])])]),S(e("select",{"onUpdate:modelValue":t[1]||(t[1]=n=>o.value.status=n),onChange:w,class:"input text-sm w-auto"},[...t[8]||(t[8]=[e("option",{value:""},"All Status",-1),e("option",{value:"Available"},"Available",-1),e("option",{value:"In Stock"},"In Stock",-1),e("option",{value:"Sold"},"Sold",-1)])],544),[[B,o.value.status]]),S(e("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>o.value.brand=n),onChange:w,class:"input text-sm w-auto"},[...t[9]||(t[9]=[C('<option value="">All Brands</option><option value="Volkswagen">Volkswagen</option><option value="Mercedes-Benz">Mercedes-Benz</option><option value="Audi">Audi</option><option value="Porsche">Porsche</option>',5)])],544),[[B,o.value.brand]])])]),e("div",$,[y(s).loading?(u(),c("div",ee,[...t[10]||(t[10]=[e("i",{class:"fa-solid fa-spinner fa-spin text-4xl text-gray-400 mb-4"},null,-1),e("p",{class:"empty-state-text"},"Loading vehicles...",-1)])])):y(s).vehicles.length===0?(u(),c("div",te,[...t[11]||(t[11]=[e("i",{class:"fa-solid fa-car empty-state-icon"},null,-1),e("p",{class:"empty-state-text"},"No vehicles found",-1)])])):(u(),c("div",se,[e("div",ae,[e("table",le,[t[15]||(t[15]=e("thead",{class:"bg-gray-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-3 md:px-6 py-3 text-left"},[e("input",{type:"checkbox",class:"rounded"})]),e("th",{class:"px-3 md:px-6 py-3 text-left label-upper whitespace-nowrap"},"Vehicle"),e("th",{class:"px-3 md:px-6 py-3 text-left label-upper whitespace-nowrap"},"Status"),e("th",{class:"px-3 md:px-6 py-3 text-left label-upper whitespace-nowrap"},"Price"),e("th",{class:"px-3 md:px-6 py-3 text-left label-upper whitespace-nowrap hidden md:table-cell"},"Kilometers"),e("th",{class:"px-3 md:px-6 py-3 text-left label-upper whitespace-nowrap"},"Stock Days"),e("th",{class:"px-3 md:px-6 py-3 text-left label-upper whitespace-nowrap hidden xl:table-cell"},"Requested By"),e("th",{class:"px-3 md:px-6 py-3"})])],-1)),e("tbody",ne,[(u(!0),c(A,null,N(y(s).vehicles,n=>(u(),c("tr",{key:n.id,class:"hover:bg-gray-50 cursor-pointer transition-colors"},[e("td",{class:"px-3 md:px-6 py-3 whitespace-nowrap",onClick:t[3]||(t[3]=F(()=>{},["stop"]))},[...t[12]||(t[12]=[e("input",{type:"checkbox",class:"rounded"},null,-1)])]),e("td",oe,[e("div",ie,[t[13]||(t[13]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-gray-100 to-gray-200 rounded-md flex items-center justify-center shrink-0"},[e("i",{class:"fa-solid fa-car text-2xl text-gray-400"})],-1)),e("div",re,[e("div",de,d(n.brand)+" "+d(n.model),1),e("div",ce,d(n.year),1)])])]),e("td",ue,[e("span",{class:q(["badge-ui font-semibold",n.status==="Available"?"bg-green-100 text-green-700":n.status==="In Stock"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"])},d(n.status),3)]),e("td",pe,[e("span",xe,"â‚¬"+d(b(n.price)),1)]),e("td",me,d(g(n.kilometers))+" km ",1),e("td",he,[e("span",{class:q(["text-content font-medium",n.stockDays>300?"text-red-600":"text-gray-600"])},d(n.stockDays)+" days ",3)]),e("td",ye,[n.requestedBy&&n.requestedBy.length>0?(u(),c("div",fe,[(u(!0),c(A,null,N(n.requestedBy.slice(0,2),(V,_)=>(u(),c("span",{key:_,class:"badge-ui bg-blue-50 text-blue-700 font-semibold"},d(V),1))),128)),n.requestedBy.length>2?(u(),c("span",ve," +"+d(n.requestedBy.length-2),1)):E("",!0)])):(u(),c("span",we,"-"))]),e("td",{class:"px-3 md:px-6 py-3 whitespace-nowrap",onClick:t[4]||(t[4]=F(()=>{},["stop"]))},[...t[14]||(t[14]=[e("button",{class:"text-gray-400 hover:text-gray-600"},[e("i",{class:"fa-solid fa-ellipsis-vertical"})],-1)])])]))),128))])])]),e("div",be,[e("div",ge," Showing "+d(y(s).vehicles.length)+" of "+d(y(s).totalVehicles)+" vehicles ",1),t[16]||(t[16]=C('<div class="flex items-center gap-2 flex-wrap"><button class="btn-secondary whitespace-nowrap">Previous</button><button class="px-3 py-2 text-sm bg-blue-600 text-white rounded-lg font-medium">1</button><button class="btn-secondary">2</button><button class="btn-secondary whitespace-nowrap">Next</button></div>',1))])]))])]))}};export{_e as default};
