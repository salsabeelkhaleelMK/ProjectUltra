import{c as Q,d as W,e as Z,g as H,h as Y}from"./dashboard-BjdvT1Lr.js";import{a as E,n as R,R as X,V as O}from"./toggle-group-item.vue_vue_type_script_setup_true_lang-Csij51_o-Ccexna8v.js";import{ax as L,d as a,o as t,F as u,i as f,e,j as q,t as m,s as x,D,x as K,y as _,r as h,k as B,q as F,g as M,n as z,c as J,K as w,p as ee,I as se,m as te}from"./index-CSiztNL_.js";import{y as le}from"./components-BV1HIWZZ.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=L("ArrowDownIcon",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=L("ArrowUpIcon",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=L("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=L("SendIcon",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=L("SparklesIcon",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),ie={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 shrink-0"},re={class:"flex flex-col gap-2"},de={class:"text-sm font-medium text-greys-500 leading-5 whitespace-nowrap"},ce={class:"flex flex-col gap-1"},ue={class:"flex items-baseline gap-2"},ge={class:"text-xl font-semibold text-greys-900 leading-none"},pe={class:"absolute top-1/2 -translate-y-1/2 right-3"},me={width:"60",height:"24",viewBox:"0 0 60 24",preserveAspectRatio:"none",class:"overflow-visible"},he=["id"],fe=["stop-color"],xe=["stop-color"],ve=["points","fill"],ye=["points","stroke"],be={__name:"DashboardKPIs",props:{kpis:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(g){const v=n=>{const $=Math.max(...n),c=Math.min(...n),i=$-c||1;return n.map((S,P)=>{const T=3+P/(n.length-1||1)*54,C=21-(S-c)/i*(24-3*2);return`${T},${C}`}).join(" ")},r=n=>{var C,I;const $=Math.max(...n),c=Math.min(...n),i=$-c||1,l=n.map((j,A)=>{const p=3+A/(n.length-1||1)*54,b=21-(j-c)/i*(24-3*2);return`${p},${b}`});if(l.length===0)return"";const S=((C=l[0])==null?void 0:C.split(",")[0])||"0",P=((I=l[l.length-1])==null?void 0:I.split(",")[0])||"0",T=21;return`${l.join(" ")}, ${P},${T}, ${S},${T}`},d=n=>n.changeType==="increase"&&n.id===1?"var(--color-success)":n.changeType==="increase"&&n.id===2?"var(--brand-blue)":n.changeType==="decrease"?"var(--brand-red)":n.changeType==="increase"&&n.id===4?"#f97316":"var(--brand-slate)";return(n,o)=>(t(),a("div",ie,[g.loading?(t(),a(u,{key:0},f(4,s=>e("div",{key:`skeleton-${s}`,class:"bg-white border border-black/5 rounded-lg shadow-sm overflow-hidden p-4 relative"},[...o[0]||(o[0]=[q('<div class="flex flex-col gap-2"><div class="h-3 bg-gray-200 rounded w-20 mb-2 animate-pulse"></div><div class="flex items-baseline gap-1.5 mb-1"><div class="h-6 bg-gray-200 rounded w-16 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-10 animate-pulse"></div></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div></div><div class="h-8 mt-2 bg-gray-100 rounded animate-pulse"></div>',2)])])),64)):(t(!0),a(u,{key:1},f(g.kpis,s=>(t(),a("div",{key:s.id,class:"bg-white border border-black/5 rounded-lg shadow-sm overflow-hidden p-4 relative"},[e("div",re,[e("h4",de,m(s.title),1),e("div",ce,[e("div",ue,[e("h2",ge,m(s.value),1),x(_(E),{variant:s.changeType==="increase"?"success":"error",size:"sm",class:"inline-flex items-center gap-1"},{default:D(()=>[s.changeType==="increase"?(t(),K(_(ne),{key:0,size:12})):(t(),K(_(ae),{key:1,size:12})),e("span",null,m(s.changeType==="increase"?"+":"-")+m(Math.abs(s.change))+"%",1)]),_:2},1032,["variant"])]),o[1]||(o[1]=e("p",{class:"text-sm text-greys-500"},"vs last month",-1))])]),e("div",pe,[(t(),a("svg",me,[e("defs",null,[e("linearGradient",{id:`gradient-${s.id}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%","stop-color":d(s),"stop-opacity":"0.4"},null,8,fe),e("stop",{offset:"100%","stop-color":d(s),"stop-opacity":"0"},null,8,xe)],8,he)]),e("polygon",{points:r(s.trend),fill:`url(#gradient-${s.id})`},null,8,ve),e("polyline",{points:v(s.trend),fill:"none",stroke:d(s),"stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},null,8,ye)]))])]))),128))]))}},we={class:"bg-greys-100 rounded-xl p-1 flex flex-col shrink-0",style:{"background-color":"var(--base-muted, #f5f5f5)"}},_e={class:"bg-white rounded-lg p-4 shadow-sm flex flex-col",style:{"box-shadow":"var(--nsc-card-shadow)"}},$e={class:"mb-4 pb-4 border-b border"},ke={class:"flex flex-wrap items-center gap-x-6 gap-y-2"},Te={class:"flex flex-wrap gap-4 mt-4"},Se={class:"flex flex-wrap items-center gap-6 pt-4 border-t border"},Ce={class:"px-0 pb-4 flex items-center justify-between"},Ie={class:"flex items-center gap-2"},Ae={class:"flex flex-col gap-6"},Pe={class:"flex items-center justify-between shrink-0"},je={class:"text-fluid-sm font-medium text-greys-500 mb-1"},De={key:0,class:"text-xl font-semibold text-greys-900 leading-none"},Me={class:"relative shrink-0 bg-[#F9FAFB] rounded-lg overflow-hidden",style:{height:"320px"}},ze={class:"w-full h-full",viewBox:"0 0 800 300",preserveAspectRatio:"none"},Be=["id"],Le=["d","fill"],qe={class:"flex flex-wrap gap-4"},Ne={class:"text-xs text-greys-500"},Ve={class:"flex flex-wrap items-center gap-6 pt-4 border-t border-black/5"},Fe={class:"text-sm font-bold text-greys-900"},Ke={__name:"SalesPipelineChart",props:{pipeline:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(g){const v=h("This month"),r=["This month","Last month","This quarter"],d=()=>{const c=r.indexOf(v.value);v.value=r[(c+1)%r.length]||"This month"},n=g,o=c=>c.toLowerCase().replace(".","").replace(" ","-"),s=c=>({red:"var(--brand-red)",orange:"#f97316",blue:"var(--brand-blue)",gray:"var(--brand-slate)"})[c]||"var(--brand-slate)",y=c=>({"Coches.net":"12h",Autoscout24:"12h",OLX:"7d 9h","Cars.com":"12h"})[c]||"12h",$=(c,i)=>{const P=Math.max(...n.pipeline.leadSources[0].data),T=c.length,C=800/(T-1);let I=Array(T).fill(300);for(let p=0;p<i;p++){const b=n.pipeline.leadSources[p].data;for(let k=0;k<T;k++)I[k]-=b[k]/P*300}const j=c.map((p,b)=>I[b]-p/P*300);let A=`M 0,${j[0]}`;for(let p=0;p<T-1;p++){const b=p*C,k=(p+1)*C,N=b+(k-b)/2,V=b+(k-b)/2;A+=` C ${N},${j[p]} ${V},${j[p+1]} ${k},${j[p+1]}`}A+=` L 800,${I[T-1]}`;for(let p=T-1;p>0;p--){const b=p*C,k=(p-1)*C,N=b-(b-k)/2,V=b-(b-k)/2;A+=` C ${N},${I[p]} ${V},${I[p-1]} ${k},${I[p-1]}`}return A+=" Z",A};return(c,i)=>(t(),a("div",we,[e("div",_e,[g.loading?(t(),a(u,{key:0},[i[3]||(i[3]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"h-5 bg-gray-200 rounded w-32 animate-pulse"}),e("div",{class:"h-8 bg-gray-200 rounded w-32 animate-pulse"})],-1)),e("div",$e,[e("div",ke,[(t(),a(u,null,f(4,l=>e("div",{key:`stage-${l}`,class:"flex items-center gap-2"},[...i[0]||(i[0]=[e("div",{class:"h-4 bg-gray-200 rounded w-20 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-8 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-12 animate-pulse"},null,-1)])])),64))])]),i[4]||(i[4]=e("div",{class:"mb-4"},[e("div",{class:"h-40 md:h-48 lg:h-56 bg-gray-100 rounded animate-pulse"})],-1)),e("div",Te,[(t(),a(u,null,f(4,l=>e("div",{key:`legend-${l}`,class:"flex items-center gap-2"},[...i[1]||(i[1]=[e("div",{class:"w-3 h-3 bg-gray-200 rounded-full animate-pulse"},null,-1),e("div",{class:"h-3 bg-gray-200 rounded w-16 animate-pulse"},null,-1)])])),64))]),e("div",Se,[(t(),a(u,null,f(4,l=>e("div",{key:`time-${l}`,class:"flex items-center gap-2"},[...i[2]||(i[2]=[e("div",{class:"h-4 bg-gray-200 rounded w-4 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-8 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-16 animate-pulse"},null,-1)])])),64))])],64)):(t(),a(u,{key:1},[e("div",Ce,[i[5]||(i[5]=e("h3",{class:"text-lg font-medium text-greys-500 leading-5"},"Sales Pipeline",-1)),e("div",Ie,[x(_(R),{variant:"ghost",size:"sm",class:"relative",onClick:d},{default:D(()=>[B(m(v.value)+" ",1),x(_(G),{size:16,class:"ml-1"})]),_:1})])]),e("div",Ae,[e("div",Pe,[(t(!0),a(u,null,f(g.pipeline.stages,l=>(t(),a("div",{key:`${l.name}-header`,class:"flex flex-col items-center text-center",style:F({width:`${100/g.pipeline.stages.length}%`})},[e("p",je,m(l.name),1),l.percentage?(t(),a("p",De,m(l.percentage)+"% ",1)):M("",!0)],4))),128))]),e("div",Me,[(t(),a("svg",ze,[e("defs",null,[(t(!0),a(u,null,f(g.pipeline.leadSources,l=>(t(),a("linearGradient",{key:`gradient-${l.name}`,id:`gradient-${o(l.name)}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:F(`stop-color:${s(l.color)};stop-opacity:0.8`)},null,4),e("stop",{offset:"100%",style:F(`stop-color:${s(l.color)};stop-opacity:0.1`)},null,4)],8,Be))),128))]),(t(!0),a(u,null,f(g.pipeline.leadSources,(l,S)=>(t(),a("path",{key:l.name,d:$(l.data,S),fill:`url(#gradient-${o(l.name)})`,opacity:"0.7"},null,8,Le))),128))]))]),e("div",qe,[(t(!0),a(u,null,f(g.pipeline.leadSources,l=>(t(),a("div",{key:l.name,class:"flex items-center gap-2"},[e("div",{class:z(["w-3 h-3 rounded-full",{"bg-red-500":l.color==="red","bg-orange-500":l.color==="orange","bg-blue-500":l.color==="blue","bg-gray-500":l.color==="gray"}])},null,2),e("span",Ne,m(l.name),1)]))),128))]),e("div",Ve,[(t(!0),a(u,null,f(g.pipeline.leadSources,l=>(t(),a("div",{key:l.name,class:"flex items-center gap-2"},[i[6]||(i[6]=e("i",{class:"fa-regular fa-clock text-xs text-greys-500"},null,-1)),e("span",Fe,m(y(l.name)),1),i[7]||(i[7]=e("span",{class:"text-xs text-greys-500"},"on avg.",-1))]))),128))])])],64))])]))}},Ue={class:"bg-greys-100 rounded-xl p-1 flex flex-col",style:{"background-color":"var(--base-muted, #f5f5f5)"}},Ee={class:"bg-white rounded-lg shadow-sm flex flex-col",style:{"box-shadow":"var(--nsc-card-shadow)"}},Re={class:"p-4"},Xe={class:"space-y-3"},Oe={class:"px-4 py-4 pb-4 flex items-center justify-between"},Ge={class:"flex items-center gap-2"},Qe={__name:"TeamPerformanceTable",props:{teamMembers:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(g){const v=h({pageIndex:0,pageSize:10}),r=h([]),d=o=>{if(!o)return"U";const s=o.split(" ");return s.length>=2?(s[0][0]+s[s.length-1][0]).toUpperCase():s[0][0].toUpperCase()},n=J(()=>[{accessorKey:"name",header:()=>"Name",meta:{title:"Name"},cell:({row:o})=>{const s=o.original;return w("div",{class:"flex items-center gap-3"},[w(X,{class:"h-8 w-8"},{default:()=>w(O,{class:"bg-greys-300 text-greys-900 text-sm"},()=>d(s.name))}),w("span",{class:"text-fluid-sm font-medium text-greys-900"},s.name)])}},{accessorKey:"leads",header:()=>"Leads",meta:{title:"Leads"},cell:({row:o})=>w("div",{class:"text-fluid-sm text-greys-900"},o.original.leads)},{accessorKey:"qualifiedLeads",header:()=>"Qualified",meta:{title:"Qualified"},cell:({row:o})=>{const s=o.original;return w("div",{class:"text-fluid-sm text-greys-900"},[w("span",s.qualifiedLeads),w("span",{class:"text-greys-500 text-fluid-xs ml-1"},`(${s.qualifiedPercentage}%)`)])}},{accessorKey:"opportunities",header:()=>"Opportunities",meta:{title:"Opportunities"},cell:({row:o})=>w("div",{class:"text-fluid-sm text-greys-900"},o.original.opportunities)},{accessorKey:"inNegotiation",header:()=>"In Negotiation",meta:{title:"In Negotiation"},cell:({row:o})=>{const s=o.original;return w("div",{class:"text-fluid-sm text-greys-900"},[w("span",s.inNegotiation),w("span",{class:"text-greys-500 text-fluid-xs ml-1"},`(${s.inNegotiationPercentage}%)`)])}},{accessorKey:"won",header:()=>"Won",meta:{title:"Won"},cell:({row:o})=>{const s=o.original;return w("div",{class:"text-fluid-sm text-greys-900"},[w("span",s.won),w("span",{class:"text-greys-500 text-fluid-xs ml-1"},`(${s.wonPercentage}%)`)])}}]);return(o,s)=>(t(),a("div",Ue,[e("div",Ee,[g.loading?(t(),a(u,{key:0},[s[3]||(s[3]=e("div",{class:"px-4 py-4 pb-4 border-b border-black/5"},[e("div",{class:"h-6 bg-gray-200 rounded w-40 animate-pulse"})],-1)),e("div",Re,[e("div",Xe,[(t(),a(u,null,f(5,y=>e("div",{key:`row-${y}`,class:"flex items-center gap-4"},[...s[2]||(s[2]=[q('<div class="h-4 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-12 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-16 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-20 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-16 animate-pulse"></div>',6)])])),64))])])],64)):(t(),a(u,{key:1},[e("div",Oe,[s[5]||(s[5]=e("h3",{class:"text-lg font-medium text-greys-500 leading-5"},"Best performers",-1)),e("div",Ge,[x(_(R),{variant:"ghost",size:"sm"},{default:D(()=>[s[4]||(s[4]=B(" This month ",-1)),x(_(G),{size:16,class:"ml-1"})]),_:1})])]),x(_(le),{data:g.teamMembers,columns:n.value,pagination:v.value,sorting:r.value,"pagination-options":{rowCount:g.teamMembers.length,pageSizeOptions:[10,20,50]},"onUpdate:pagination":s[0]||(s[0]=y=>v.value=y),"onUpdate:sorting":s[1]||(s[1]=y=>r.value=y)},null,8,["data","columns","pagination","sorting","pagination-options"])],64))])]))}},We={class:"bg-greys-100 rounded-xl p-1 flex flex-col shrink-0",style:{"background-color":"var(--base-muted, #f5f5f5)"}},Ze={class:"bg-white rounded-lg p-4 shadow-sm flex flex-col",style:{"box-shadow":"var(--nsc-card-shadow)"}},He={class:"space-y-3"},Ye={class:"space-y-3"},Je={class:"flex items-start gap-3"},es={class:"w-10 h-10 rounded-lg bg-greys-50 border border-black/5 flex flex-col items-center justify-center shrink-0 leading-none"},ss={class:"text-fluid-xs font-medium text-greys-500 uppercase"},ts={class:"text-fluid-xs font-semibold text-greys-900 mt-0.5"},ls={class:"flex-1 min-w-0"},as={class:"flex items-center justify-between"},ns={class:"text-fluid-xs font-medium text-greys-900 truncate"},os={class:"text-fluid-xs text-greys-500"},is={class:"text-fluid-xs text-greys-500 mt-0.5 truncate"},rs={class:"text-fluid-xs text-greys-500 mt-0.5 truncate flex items-center gap-1"},ds={__name:"TodaysEventsSidebar",props:{events:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(g){return(v,r)=>(t(),a("div",We,[e("div",Ze,[g.loading?(t(),a(u,{key:0},[r[1]||(r[1]=e("div",{class:"h-3 bg-gray-200 rounded w-24 mb-4 animate-pulse"},null,-1)),e("div",He,[(t(),a(u,null,f(5,d=>e("div",{key:`skeleton-${d}`,class:"pb-3 border-b border-gray-50 last:border-0 last:pb-0"},[...r[0]||(r[0]=[q('<div class="flex items-start gap-3"><div class="w-10 h-10 bg-gray-200 rounded-lg animate-pulse"></div><div class="flex-1 min-w-0 space-y-2"><div class="h-3 bg-gray-200 rounded w-32 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-40 animate-pulse"></div></div></div>',1)])])),64))])],64)):(t(),a(u,{key:1},[r[3]||(r[3]=e("h3",{class:"text-lg font-medium text-greys-500 leading-5 mb-4"},"Today's events",-1)),e("div",Ye,[(t(!0),a(u,null,f(g.events,d=>(t(),a("div",{key:d.id,class:"pb-3 border-b border-black/5 last:border-0 last:pb-0"},[e("div",Je,[e("div",es,[e("span",ss,m(d.time.split(":")[0]),1),e("span",ts,m(d.time.split(":")[1].split(" ")[0]),1)]),e("div",ls,[e("div",as,[e("div",ns,m(d.type),1),e("div",os,m(d.time),1)]),e("div",is,m(d.customer),1),e("div",rs,[r[2]||(r[2]=e("i",{class:"fa-solid fa-location-dot text-fluid-xs"},null,-1)),B(" "+m(d.location),1)])])])]))),128))])],64))])]))}},cs={class:"rounded-[12px] p-px flex flex-col",style:{background:"linear-gradient(to right, #40B3E9, #8873FF, #FF8B42)",height:"480px"}},us={class:"bg-greys-100 rounded-[11px] flex flex-col h-full overflow-hidden",style:{"background-color":"var(--base-muted, #f5f5f5)"}},gs={class:"px-4 py-4 flex items-center gap-2 shrink-0"},ps={class:"bg-white rounded-lg p-4 shadow-sm flex flex-col flex-1 min-h-0 overflow-hidden",style:{"box-shadow":"var(--nsc-card-shadow)"}},ms={key:0,class:"w-8 h-8 rounded-full flex items-center justify-center shrink-0",style:{background:"linear-gradient(to bottom right, #40B3E9, #8873FF, #FF8B42)"}},hs={class:"text-fluid-sm leading-relaxed whitespace-pre-wrap"},fs={key:1,class:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center shrink-0"},xs={class:"border-t border-black/5 shrink-0 pt-4"},vs={key:0,class:"mb-3 flex flex-wrap gap-2"},ys=["onClick"],bs={class:"relative"},ws=["disabled"],_s={__name:"AIInsightsSidebar",setup(g){const v=h(["Who's performing best?","How many deals were closed?","What's the conversion rate?"]),r=h(""),d=h([]),n=h(null),o=$=>{r.value=$,y()},s=$=>{$.key==="Enter"&&y()},y=()=>{r.value.trim()&&(d.value.push({id:Date.now(),role:"user",content:r.value}),setTimeout(()=>{d.value.push({id:Date.now()+1,role:"assistant",content:"This is a placeholder response. AI functionality will be implemented later."}),n.value&&(n.value.scrollTop=n.value.scrollHeight)},500),r.value="")};return($,c)=>(t(),a("div",cs,[e("div",us,[e("div",gs,[x(_(U),{size:16,class:"text-white"}),c[1]||(c[1]=e("h3",{class:"text-lg font-medium text-white leading-5"},"AI Assistant",-1))]),e("div",ps,[e("div",{ref_key:"chatContainer",ref:n,class:"flex-1 overflow-y-auto space-y-4 min-h-0 pr-2"},[(t(!0),a(u,null,f(d.value,i=>(t(),a("div",{key:i.id,class:z(["flex gap-3",i.role==="user"?"justify-end":"justify-start"])},[i.role==="assistant"?(t(),a("div",ms,[x(_(U),{size:14,class:"text-white"})])):M("",!0),e("div",{class:z(["rounded-lg px-4 py-2.5 max-w-[80%]",i.role==="user"?"bg-purple-600 text-white":"bg-greys-50 text-greys-900 border border-black/5"])},[e("p",hs,m(i.content),1)],2),i.role==="user"?(t(),a("div",fs,[...c[2]||(c[2]=[e("span",{class:"text-fluid-xs font-medium text-purple-700"},"You",-1)])])):M("",!0)],2))),128))],512),e("div",xs,[d.value.length===0?(t(),a("div",vs,[(t(!0),a(u,null,f(v.value,i=>(t(),a("button",{key:i,onClick:l=>o(i),class:"px-3 py-1.5 text-fluid-sm bg-greys-50 hover:bg-greys-100 border border-black/5 rounded-lg text-greys-700 transition-colors cursor-pointer"},m(i),9,ys))),128))])):M("",!0),e("div",bs,[ee(e("input",{"onUpdate:modelValue":c[0]||(c[0]=i=>r.value=i),type:"text",placeholder:"Ask anything...",class:"w-full pr-12 text-fluid-sm input",onKeypress:s},null,544),[[se,r.value]]),e("button",{disabled:!r.value.trim(),onClick:y,class:z(["absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-md transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed hover:bg-greys-100 active:bg-greys-200",r.value.trim()?"text-purple-600":"text-greys-400"])},[x(_(oe),{size:18})],10,ws)])])])])]))}},$s={class:"bg-greys-100 rounded-xl p-1 flex flex-col",style:{"background-color":"var(--base-muted, #f5f5f5)"}},ks={class:"bg-white rounded-lg shadow-sm flex flex-col",style:{"box-shadow":"var(--nsc-card-shadow)"}},Ts={class:"flex flex-col"},Ss={class:"flex flex-col"},Cs={class:"flex flex-col gap-1 min-w-0 flex-1"},Is={class:"flex items-center gap-2"},As={class:"text-sm font-semibold text-greys-900"},Ps={class:"text-sm text-greys-700"},js={class:"text-sm text-greys-500"},Ds={class:"shrink-0 text-right"},Ms={class:"text-sm font-medium text-greys-900"},zs={class:"text-xs text-greys-500"},Bs={__name:"TasksDueSidebar",props:{tasks:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(g){const v=d=>d?d.split(" ").map(n=>n[0]).join("").toUpperCase().slice(0,2):"U",r=d=>{const n=new Date(d),o=n.getDate(),s=n.toLocaleString("en-US",{month:"short"}).toUpperCase();return`${o} ${s}`};return(d,n)=>(t(),a("div",$s,[e("div",ks,[g.loading?(t(),a(u,{key:0},[n[1]||(n[1]=e("div",{class:"px-4 py-4 pb-4"},[e("div",{class:"h-5 bg-gray-200 rounded w-24 animate-pulse"})],-1)),e("div",Ts,[(t(),a(u,null,f(5,o=>e("div",{key:`skeleton-${o}`,class:"flex items-start gap-4 px-4 py-3 border-b border-black/5 last:border-0"},[...n[0]||(n[0]=[q('<div class="w-8 h-8 bg-gray-200 rounded-full animate-pulse shrink-0"></div><div class="flex-1 min-w-0 space-y-2"><div class="h-3 bg-gray-200 rounded w-32 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-28 animate-pulse"></div></div><div class="shrink-0 space-y-1"><div class="h-3 bg-gray-200 rounded w-12 animate-pulse"></div><div class="h-2 bg-gray-200 rounded w-16 animate-pulse"></div></div>',3)])])),64))])],64)):(t(),a(u,{key:1},[n[3]||(n[3]=e("div",{class:"px-4 py-4 pb-4"},[e("h3",{class:"text-lg font-medium text-greys-500 leading-5"},"Tasks due")],-1)),e("div",Ss,[(t(!0),a(u,null,f(g.tasks,(o,s)=>(t(),a("div",{key:o.id,class:z(["flex items-start gap-4 px-4 py-3",s<g.tasks.length-1?"border-b border-black/5":""])},[x(_(X),{class:"h-8 w-8 shrink-0"},{default:D(()=>[x(_(O),{class:"bg-greys-300 text-greys-900 text-sm"},{default:D(()=>[B(m(v(o.dealershipName)),1)]),_:2},1024)]),_:2},1024),e("div",Cs,[e("div",Is,[e("p",As,m(o.customerName),1),o.isExpired?(t(),K(_(E),{key:0,variant:"error",size:"sm"},{default:D(()=>[...n[2]||(n[2]=[B("Expired",-1)])]),_:1})):M("",!0)]),e("p",Ps,m(o.car),1),e("p",js,m(o.dealershipName),1)]),e("div",Ds,[e("div",Ms,m(o.dueTime),1),e("div",zs,m(r(o.dueDate)),1)])],2))),128))])],64))])]))}},Ls={class:"flex-1 flex flex-col overflow-hidden bg-white"},qs={class:"flex-1 overflow-y-auto px-6 py-6 2xl:px-48 min-h-0"},Ns={class:"flex flex-col lg:flex-row gap-4 sm:gap-5 md:gap-6 max-w-[1440px] mx-auto w-full"},Vs={class:"flex-1 flex flex-col gap-6 min-w-0"},Fs={class:"w-full lg:w-80 xl:w-88 flex flex-col gap-6 shrink-0"},Xs={__name:"Reports",setup(g){const v=h([]),r=h({stages:[],leadSources:[]}),d=h([]),n=h([]),o=h([]),s=h(!0),y=h(!0),$=h(!0),c=h(!0),i=h(!0);return te(async()=>{Promise.all([Q().then(l=>{v.value=l,s.value=!1}),W().then(l=>{r.value=l,y.value=!1}),Z().then(l=>{d.value=l,$.value=!1}),H().then(l=>{n.value=l,c.value=!1}),Y().then(l=>{o.value=l,i.value=!1})])}),(l,S)=>(t(),a("div",Ls,[S[0]||(S[0]=e("div",{class:"border-b border-black/5 shrink-0",style:{"background-color":"var(--base-muted, #f5f5f5)"}},[e("div",{class:"flex items-center justify-between px-6 pt-5 pb-4"},[e("h1",{class:"text-fluid-xl font-medium text-greys-900"},"Reports"),e("select",{class:"px-3 py-1.5 rounded-2xl border border bg-surface text-fluid-sm font-medium text-body hover:border-red-100 hover:bg-red-50 hover:text-brand-red transition-all cursor-pointer"},[e("option",null,"This month"),e("option",null,"Last month"),e("option",null,"This quarter"),e("option",null,"This year")])])],-1)),e("div",qs,[e("div",Ns,[e("div",Vs,[x(be,{kpis:v.value,loading:s.value},null,8,["kpis","loading"]),x(Ke,{pipeline:r.value,loading:y.value},null,8,["pipeline","loading"]),x(Qe,{"team-members":d.value,loading:$.value},null,8,["team-members","loading"])]),e("div",Fs,[x(_s),x(ds,{events:n.value,loading:c.value},null,8,["events","loading"]),x(Bs,{tasks:o.value,loading:i.value},null,8,["tasks","loading"])])])])]))}};export{Xs as default};
