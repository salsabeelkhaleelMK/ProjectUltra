import{Q as z}from"./index-C1tcDFBl.js";import{u as R}from"./users-CllAH7OS.js";import{_ as T}from"./ModalShell-DcQqocRS.js";import{r as N,c as y,B as V,p as j,o as r,z as v,e as t,d as o,g as u,F as h,i as _,n as p,t as c,m as q,q as A}from"./index-Baowk8yV.js";const F={class:"space-y-2 max-h-96 overflow-y-auto mb-4"},Q={key:0,class:"mb-3"},D=["onClick"],E={class:"flex-1"},L={class:"font-medium text-slate-800"},M={key:0,class:"fa-solid fa-check text-primary-600"},G=["onClick"],H={class:"flex-1"},I={class:"font-medium text-slate-800"},J={class:"text-xs text-gray-500 capitalize"},K={key:0,class:"fa-solid fa-check text-primary-600"},Y={__name:"ReassignUserModal",props:{show:{type:Boolean,required:!0}},emits:["close","confirm"],setup(g,{emit:k}){const w=g,C=k,f=R(),s=N(null),$=y(()=>f.assignableUsers),x=y(()=>f.assignableTeams),B=l=>({manager:"bg-blue-100 text-blue-700",salesman:"bg-purple-100 text-purple-700",operator:"bg-orange-100 text-orange-700"})[l]||"bg-gray-100 text-gray-700";V(()=>w.show,l=>{l||(s.value=null)});const b=l=>{s.value=l},S=()=>{s.value&&(C("confirm",s.value),s.value=null)};return(l,a)=>(r(),j(T,{show:g.show,onClose:a[0]||(a[0]=e=>l.$emit("close")),title:"Reassign"},{actions:v(()=>[q(A(z),{label:"Reassign",variant:"primary",size:"small",class:"rounded-sm",disabled:!s.value,onClick:S},null,8,["disabled"])]),default:v(()=>[a[5]||(a[5]=t("p",{class:"text-sm text-gray-600 mb-4"}," Select a user or team to reassign: ",-1)),t("div",F,[x.value.length?(r(),o("div",Q,[a[3]||(a[3]=t("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-1"},"Teams",-1)),(r(!0),o(h,null,_(x.value,e=>{var i,n,d,m;return r(),o("button",{key:`team-${e.id}`,onClick:U=>b({type:"team",id:e.id,name:e.name}),class:p(["w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 hover:border-primary-300 transition-colors text-left",{"bg-primary-50 border-primary-400":((i=s.value)==null?void 0:i.type)==="team"&&((n=s.value)==null?void 0:n.id)===e.id}])},[a[2]||(a[2]=t("div",{class:"w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm bg-green-100 text-green-700"},[t("i",{class:"fa-solid fa-users text-sm"})],-1)),t("div",E,[t("p",L,c(e.name),1),a[1]||(a[1]=t("p",{class:"text-xs text-gray-500"},"Team",-1))]),((d=s.value)==null?void 0:d.type)==="team"&&((m=s.value)==null?void 0:m.id)===e.id?(r(),o("i",M)):u("",!0)],10,D)}),128))])):u("",!0),t("div",null,[a[4]||(a[4]=t("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-1"},"Users",-1)),(r(!0),o(h,null,_($.value,e=>{var i,n,d,m;return r(),o("button",{key:`user-${e.id}`,onClick:U=>b({type:"user",id:e.id,name:e.name}),class:p(["w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 hover:border-primary-300 transition-colors text-left",{"bg-primary-50 border-primary-400":((i=s.value)==null?void 0:i.type)==="user"&&((n=s.value)==null?void 0:n.id)===e.id}])},[t("div",{class:p(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm",B(e.role)])},c(e.initials),3),t("div",H,[t("p",I,c(e.name),1),t("p",J,c(e.role)+" â€¢ "+c(e.email),1)]),((d=s.value)==null?void 0:d.type)==="user"&&((m=s.value)==null?void 0:m.id)===e.id?(r(),o("i",K)):u("",!0)],10,G)}),128))])])]),_:1},8,["show"]))}};export{Y as _};
