import{c as Q,d as W,e as Z,g as Y,h as J}from"./dashboard-BjEi4-my.js";import{_ as ee}from"./PageHeader-B9EwdS_L.js";import{z as R,n as H,R as X,s as O}from"./toggle-group-item.vue_vue_type_script_setup_true_lang-Csij51_o-3RNqBGno.js";import{H as A,d as n,o as s,F as f,i as _,e,j,t as v,s as x,B as z,x as L,y as b,r as y,k as U,a0 as G,q as F,g as q,n as B,I as te,c as K,N as T,an as se,p as ne,K as ae,m as oe}from"./index-D-GV69Dn.js";import{y as le}from"./components-D1kWShum.js";import{u as re,U as ie}from"./useDataTableData-D7InczSP.js";import{S as E}from"./sparkles-DqOgHrLF.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=A("ArrowDownIcon",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=A("ArrowUpIcon",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=A("CheckSquareIcon",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=A("SendIcon",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=A("TrendingUpIcon",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=A("TrophyIcon",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),he={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 shrink-0"},fe={class:"flex flex-col gap-2"},xe={class:"text-sm font-medium text-muted-foreground leading-5 whitespace-nowrap"},ve={class:"flex flex-col gap-1"},ye={class:"flex items-baseline gap-2"},be={class:"text-xl font-semibold text-foreground leading-none"},_e={class:"absolute top-1/2 -translate-y-1/2 right-3"},we={width:"60",height:"24",viewBox:"0 0 60 24",preserveAspectRatio:"none",class:"overflow-visible"},$e=["id"],ke=["stop-color"],Te=["stop-color"],Se=["points","fill"],Ce=["points","stroke"],Ie={__name:"DashboardKPIs",props:{kpis:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(g){const $=a=>{const w=Math.max(...a),u=Math.min(...a),o=w-u||1;return a.map((p,l)=>{const m=3+l/(a.length-1||1)*54,I=21-(p-u)/o*(24-3*2);return`${m},${I}`}).join(" ")},r=a=>{var I,D;const w=Math.max(...a),u=Math.min(...a),o=w-u||1,t=a.map((M,P)=>{const h=3+P/(a.length-1||1)*54,k=21-(M-u)/o*(24-3*2);return`${h},${k}`});if(t.length===0)return"";const p=((I=t[0])==null?void 0:I.split(",")[0])||"0",l=((D=t[t.length-1])==null?void 0:D.split(",")[0])||"0",m=21;return`${t.join(" ")}, ${l},${m}, ${p},${m}`},i=a=>a.changeType==="increase"&&a.id===1?"var(--color-success)":a.changeType==="increase"&&a.id===2?"var(--brand-blue)":a.changeType==="decrease"?"var(--brand-red)":a.changeType==="increase"&&a.id===4?"#f97316":"var(--brand-slate)";return(a,c)=>(s(),n("div",he,[g.loading?(s(),n(f,{key:0},_(4,d=>e("div",{key:`skeleton-${d}`,class:"bg-white rounded-lg shadow-nsc-card overflow-hidden p-4 relative"},[...c[0]||(c[0]=[j('<div class="flex flex-col gap-2"><div class="h-3 bg-gray-200 rounded w-20 mb-2 animate-pulse"></div><div class="flex items-baseline gap-1.5 mb-1"><div class="h-6 bg-gray-200 rounded w-16 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-10 animate-pulse"></div></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div></div><div class="h-8 mt-2 bg-gray-100 rounded animate-pulse"></div>',2)])])),64)):(s(!0),n(f,{key:1},_(g.kpis,d=>(s(),n("div",{key:d.id,class:"bg-white rounded-lg shadow-nsc-card overflow-hidden p-4 relative"},[e("div",fe,[e("h4",xe,v(d.title),1),e("div",ve,[e("div",ye,[e("h2",be,v(d.value),1),x(b(R),{variant:d.changeType==="increase"?"success":"error",size:"sm",class:"inline-flex items-center gap-1"},{default:z(()=>[d.changeType==="increase"?(s(),L(b(ce),{key:0,size:12})):(s(),L(b(de),{key:1,size:12})),e("span",null,v(d.changeType==="increase"?"+":"-")+v(Math.abs(d.change))+"%",1)]),_:2},1032,["variant"])]),c[1]||(c[1]=e("p",{class:"text-sm text-muted-foreground"},"vs last month",-1))])]),e("div",_e,[(s(),n("svg",we,[e("defs",null,[e("linearGradient",{id:`gradient-${d.id}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%","stop-color":i(d),"stop-opacity":"0.4"},null,8,ke),e("stop",{offset:"100%","stop-color":i(d),"stop-opacity":"0"},null,8,Te)],8,$e)]),e("polygon",{points:r(d.trend),fill:`url(#gradient-${d.id})`},null,8,Se),e("polyline",{points:$(d.trend),fill:"none",stroke:i(d),"stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Ce)]))])]))),128))]))}},De={class:"bg-muted rounded-xl p-1 flex flex-col shrink-0"},ze={class:"bg-white rounded-lg shadow-nsc-card flex flex-col"},Pe={class:"px-4 pb-4 border-b border"},Me={class:"flex flex-wrap items-center gap-x-6 gap-y-2"},Ae={class:"px-4 pb-4 flex flex-wrap gap-4"},qe={class:"px-4 pb-4 flex flex-wrap items-center gap-6 pt-4 border-t border"},Be={class:"px-4 py-4 flex items-center justify-between shrink-0"},Ue={class:"flex items-center gap-2"},je={class:"flex items-center gap-2"},Ne={class:"flex flex-col gap-6 px-4 pb-4"},Ve={class:"flex items-center justify-between shrink-0"},Fe={class:"text-sm font-medium text-muted-foreground mb-1"},Le={key:0,class:"text-xl font-semibold text-foreground leading-none"},Ke={class:"relative shrink-0 bg-muted rounded-lg overflow-hidden",style:{height:"320px"}},Ee={class:"w-full h-full",viewBox:"0 0 800 300",preserveAspectRatio:"none"},Re=["id"],He=["d","fill"],Xe={class:"flex flex-wrap gap-4"},Oe={class:"text-xs text-muted-foreground"},Ge={class:"flex flex-wrap items-center gap-6 pt-4 border-t border-border"},Qe={class:"text-sm font-bold text-foreground"},We={__name:"SalesPipelineChart",props:{pipeline:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(g){const $=y("This month"),r=["This month","Last month","This quarter"],i=()=>{const u=r.indexOf($.value);$.value=r[(u+1)%r.length]||"This month"},a=g,c=u=>u.toLowerCase().replace(".","").replace(" ","-"),d=u=>({red:"var(--brand-red)",orange:"#f97316",blue:"var(--brand-blue)",gray:"var(--brand-slate)"})[u]||"var(--brand-slate)",S=u=>({"Coches.net":"12h",Autoscout24:"12h",OLX:"7d 9h","Cars.com":"12h"})[u]||"12h",w=(u,o)=>{const l=Math.max(...a.pipeline.leadSources[0].data),m=u.length,I=800/(m-1);let D=Array(m).fill(300);for(let h=0;h<o;h++){const k=a.pipeline.leadSources[h].data;for(let C=0;C<m;C++)D[C]-=k[C]/l*300}const M=u.map((h,k)=>D[k]-h/l*300);let P=`M 0,${M[0]}`;for(let h=0;h<m-1;h++){const k=h*I,C=(h+1)*I,N=k+(C-k)/2,V=k+(C-k)/2;P+=` C ${N},${M[h]} ${V},${M[h+1]} ${C},${M[h+1]}`}P+=` L 800,${D[m-1]}`;for(let h=m-1;h>0;h--){const k=h*I,C=(h-1)*I,N=k-(k-C)/2,V=k-(k-C)/2;P+=` C ${N},${D[h]} ${V},${D[h-1]} ${C},${D[h-1]}`}return P+=" Z",P};return(u,o)=>(s(),n("div",De,[e("div",ze,[g.loading?(s(),n(f,{key:0},[o[3]||(o[3]=e("div",{class:"px-4 py-4 flex items-center justify-between shrink-0"},[e("div",{class:"h-5 bg-gray-200 rounded w-32 animate-pulse"}),e("div",{class:"h-8 bg-gray-200 rounded w-32 animate-pulse"})],-1)),e("div",Pe,[e("div",Me,[(s(),n(f,null,_(4,t=>e("div",{key:`stage-${t}`,class:"flex items-center gap-2"},[...o[0]||(o[0]=[e("div",{class:"h-4 bg-gray-200 rounded w-20 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-8 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-12 animate-pulse"},null,-1)])])),64))])]),o[4]||(o[4]=e("div",{class:"px-4 pb-4"},[e("div",{class:"h-40 md:h-48 lg:h-56 bg-gray-100 rounded animate-pulse"})],-1)),e("div",Ae,[(s(),n(f,null,_(4,t=>e("div",{key:`legend-${t}`,class:"flex items-center gap-2"},[...o[1]||(o[1]=[e("div",{class:"w-3 h-3 bg-gray-200 rounded-full animate-pulse"},null,-1),e("div",{class:"h-3 bg-gray-200 rounded w-16 animate-pulse"},null,-1)])])),64))]),e("div",qe,[(s(),n(f,null,_(4,t=>e("div",{key:`time-${t}`,class:"flex items-center gap-2"},[...o[2]||(o[2]=[e("div",{class:"h-4 bg-gray-200 rounded w-4 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-8 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-16 animate-pulse"},null,-1)])])),64))])],64)):(s(),n(f,{key:1},[e("div",Be,[e("div",Ue,[x(b(ge),{size:16,class:"text-foreground"}),o[5]||(o[5]=e("h3",{class:"text-lg font-medium text-foreground leading-5"},"Sales Pipeline",-1))]),e("div",je,[x(b(H),{variant:"ghost",size:"sm",class:"relative",onClick:i},{default:z(()=>[U(v($.value)+" ",1),x(b(G),{size:16,class:"ml-1"})]),_:1})])]),e("div",Ne,[e("div",Ve,[(s(!0),n(f,null,_(g.pipeline.stages,t=>(s(),n("div",{key:`${t.name}-header`,class:"flex flex-col items-center text-center",style:F({width:`${100/g.pipeline.stages.length}%`})},[e("p",Fe,v(t.name),1),t.percentage?(s(),n("p",Le,v(t.percentage)+"% ",1)):q("",!0)],4))),128))]),e("div",Ke,[(s(),n("svg",Ee,[e("defs",null,[(s(!0),n(f,null,_(g.pipeline.leadSources,t=>(s(),n("linearGradient",{key:`gradient-${t.name}`,id:`gradient-${c(t.name)}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:F(`stop-color:${d(t.color)};stop-opacity:0.8`)},null,4),e("stop",{offset:"100%",style:F(`stop-color:${d(t.color)};stop-opacity:0.1`)},null,4)],8,Re))),128))]),(s(!0),n(f,null,_(g.pipeline.leadSources,(t,p)=>(s(),n("path",{key:t.name,d:w(t.data,p),fill:`url(#gradient-${c(t.name)})`,opacity:"0.7"},null,8,He))),128))]))]),e("div",Xe,[(s(!0),n(f,null,_(g.pipeline.leadSources,t=>(s(),n("div",{key:t.name,class:"flex items-center gap-2"},[e("div",{class:B(["w-3 h-3 rounded-full",{"bg-red-500":t.color==="red","bg-orange-500":t.color==="orange","bg-blue-500":t.color==="blue","bg-gray-500":t.color==="gray"}])},null,2),e("span",Oe,v(t.name),1)]))),128))]),e("div",Ge,[(s(!0),n(f,null,_(g.pipeline.leadSources,t=>(s(),n("div",{key:t.name,class:"flex items-center gap-2"},[o[6]||(o[6]=e("i",{class:"fa-regular fa-clock text-xs text-muted-foreground"},null,-1)),e("span",Qe,v(S(t.name)),1),o[7]||(o[7]=e("span",{class:"text-xs text-muted-foreground"},"on avg.",-1))]))),128))])])],64))])]))}},Ze={key:0,class:"p-4"},Ye={class:"space-y-3"},Je={key:1},et={class:"mb-4"},tt={class:"data-table-inner table-search-wrapper"},st={class:"flex items-center gap-2"},nt={class:"flex items-center gap-2"},at={__name:"TeamPerformanceTable",props:{teamMembers:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(g){const $=g,r=y({pageIndex:0,pageSize:10}),i=y([]),a=y(""),c=y([]),d=y([]),S=p=>{if(!p)return"U";const l=p.split(" ");return l.length>=2?(l[0][0]+l[l.length-1][0]).toUpperCase():l[0][0].toUpperCase()},w=K(()=>[{accessorKey:"name",header:()=>"Name",meta:{title:"Name"},cell:({row:p})=>{const l=p.original;return T("div",{class:"flex items-center gap-3"},[T(X,{class:"h-8 w-8"},{default:()=>T(O,{class:"bg-greys-300 text-foreground text-sm"},()=>S(l.name))}),T("span",{class:"text-sm font-medium text-foreground"},l.name)])}},{accessorKey:"leads",header:()=>"Leads",meta:{title:"Leads"},cell:({row:p})=>T("div",{class:"text-sm text-foreground"},p.original.leads)},{accessorKey:"qualifiedLeads",header:()=>"Qualified",meta:{title:"Qualified"},cell:({row:p})=>{const l=p.original;return T("div",{class:"text-sm text-foreground"},[T("span",l.qualifiedLeads),T("span",{class:"text-muted-foreground text-xs ml-1"},`(${l.qualifiedPercentage}%)`)])}},{accessorKey:"opportunities",header:()=>"Opportunities",meta:{title:"Opportunities"},cell:({row:p})=>T("div",{class:"text-sm text-foreground"},p.original.opportunities)},{accessorKey:"inNegotiation",header:()=>"In Negotiation",meta:{title:"In Negotiation"},cell:({row:p})=>{const l=p.original;return T("div",{class:"text-sm text-foreground"},[T("span",l.inNegotiation),T("span",{class:"text-muted-foreground text-xs ml-1"},`(${l.inNegotiationPercentage}%)`)])}},{accessorKey:"won",header:()=>"Won",meta:{title:"Won"},cell:({row:p})=>{const l=p.original;return T("div",{class:"text-sm text-foreground"},[T("span",l.won),T("span",{class:"text-muted-foreground text-xs ml-1"},`(${l.wonPercentage}%)`)])}}]),u=["name","leads","qualifiedLeads","opportunities","inNegotiation","won"],{paginatedData:o,totalFilteredCount:t}=re({rawData:K(()=>$.teamMembers),columns:w,globalFilter:a,columnFilters:c,sorting:i,pagination:r,filterDefs:d,searchableFields:u});return(p,l)=>g.loading?(s(),n("div",Ze,[e("div",Ye,[(s(),n(f,null,_(5,m=>e("div",{key:`row-${m}`,class:"flex items-center gap-4"},[...l[5]||(l[5]=[j('<div class="h-4 bg-gray-200 rounded w-24 animate-pulse" data-v-d110c9b0></div><div class="h-4 bg-gray-200 rounded w-12 animate-pulse" data-v-d110c9b0></div><div class="h-4 bg-gray-200 rounded w-16 animate-pulse" data-v-d110c9b0></div><div class="h-4 bg-gray-200 rounded w-20 animate-pulse" data-v-d110c9b0></div><div class="h-4 bg-gray-200 rounded w-24 animate-pulse" data-v-d110c9b0></div><div class="h-4 bg-gray-200 rounded w-16 animate-pulse" data-v-d110c9b0></div>',6)])])),64))])])):(s(),n("div",Je,[e("div",et,[x(ie,{"active-tab":"opportunities",placeholder:"Search team performance...",pagination:r.value,"onUpdate:globalFilter":l[0]||(l[0]=m=>a.value=m),"onUpdate:columnFilters":l[1]||(l[1]=m=>c.value=m),"onUpdate:pagination":l[2]||(l[2]=m=>r.value=m)},null,8,["pagination"])]),e("div",tt,[x(b(le),{data:b(o),columns:w.value,pagination:r.value,sorting:i.value,"pagination-options":{rowCount:b(t),pageSizeOptions:[10,20,50]},"onUpdate:pagination":l[3]||(l[3]=m=>r.value=m),"onUpdate:sorting":l[4]||(l[4]=m=>i.value=m),class:"h-full"},{toolbar:z(()=>[e("div",st,[x(b(me),{size:16,class:"text-foreground"}),l[6]||(l[6]=e("h3",{class:"text-lg font-medium text-foreground leading-5"},"Best performers",-1))]),e("div",nt,[x(b(H),{variant:"ghost",size:"sm"},{default:z(()=>[l[7]||(l[7]=U(" This month ",-1)),x(b(G),{size:16,class:"ml-1"})]),_:1})])]),_:1},8,["data","columns","pagination","sorting","pagination-options"])])]))}},ot=te(at,[["__scopeId","data-v-d110c9b0"]]),lt={class:"bg-muted rounded-xl p-1 flex flex-col shrink-0"},rt={class:"bg-white rounded-lg shadow-nsc-card flex flex-col"},it={class:"px-4 pb-4 space-y-3"},dt={class:"px-4 py-4 flex items-center gap-2 shrink-0"},ct={class:"px-4 pb-4 space-y-3"},ut={class:"flex items-start gap-3"},pt={class:"w-10 h-10 rounded-lg bg-muted border border-border flex flex-col items-center justify-center shrink-0 leading-none"},gt={class:"text-xs font-medium text-muted-foreground uppercase"},mt={class:"text-xs font-semibold text-foreground mt-0.5"},ht={class:"flex-1 min-w-0"},ft={class:"flex items-center justify-between"},xt={class:"text-xs font-medium text-foreground truncate"},vt={class:"text-xs text-muted-foreground"},yt={class:"text-xs text-muted-foreground mt-0.5 truncate"},bt={class:"text-xs text-muted-foreground mt-0.5 truncate flex items-center gap-1"},_t={__name:"TodaysEventsSidebar",props:{events:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(g){return($,r)=>(s(),n("div",lt,[e("div",rt,[g.loading?(s(),n(f,{key:0},[r[1]||(r[1]=e("div",{class:"px-4 py-4 shrink-0"},[e("div",{class:"h-5 bg-gray-200 rounded w-32 animate-pulse"})],-1)),e("div",it,[(s(),n(f,null,_(5,i=>e("div",{key:`skeleton-${i}`,class:"pb-3 border-b border-gray-50 last:border-0 last:pb-0"},[...r[0]||(r[0]=[j('<div class="flex items-start gap-3"><div class="w-10 h-10 bg-gray-200 rounded-lg animate-pulse"></div><div class="flex-1 min-w-0 space-y-2"><div class="h-3 bg-gray-200 rounded w-32 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-40 animate-pulse"></div></div></div>',1)])])),64))])],64)):(s(),n(f,{key:1},[e("div",dt,[x(b(se),{size:16,class:"text-foreground"}),r[2]||(r[2]=e("h3",{class:"text-lg font-medium text-foreground leading-5"},"Today's events",-1))]),e("div",ct,[(s(!0),n(f,null,_(g.events,i=>(s(),n("div",{key:i.id,class:"pb-3 border-b border-border last:border-0 last:pb-0"},[e("div",ut,[e("div",pt,[e("span",gt,v(i.time.split(":")[0]),1),e("span",mt,v(i.time.split(":")[1].split(" ")[0]),1)]),e("div",ht,[e("div",ft,[e("div",xt,v(i.type),1),e("div",vt,v(i.time),1)]),e("div",yt,v(i.customer),1),e("div",bt,[r[3]||(r[3]=e("i",{class:"fa-solid fa-location-dot text-xs"},null,-1)),U(" "+v(i.location),1)])])])]))),128))])],64))])]))}},wt={class:"rounded-lg p-px flex flex-col",style:{background:"linear-gradient(to right, #40B3E9, #8873FF, #FF8B42)",height:"480px"}},$t={class:"bg-muted rounded-lg flex flex-col h-full overflow-hidden"},kt={class:"px-4 py-4 flex items-center gap-2 shrink-0"},Tt={class:"bg-white rounded-lg p-4 shadow-nsc-card flex flex-col flex-1 min-h-0 overflow-hidden"},St={key:0,class:"w-8 h-8 rounded-full flex items-center justify-center shrink-0",style:{background:"linear-gradient(to bottom right, #40B3E9, #8873FF, #FF8B42)"}},Ct={class:"text-sm leading-relaxed whitespace-pre-wrap text-foreground"},It={key:1,class:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center shrink-0"},Dt={class:"border-t border-border shrink-0 pt-4"},zt={key:0,class:"mb-3 flex flex-wrap gap-2"},Pt=["onClick"],Mt={class:"relative"},At=["disabled"],qt={__name:"AIInsightsSidebar",setup(g){const $=y(["Who's performing best?","How many deals were closed?","What's the conversion rate?"]),r=y(""),i=y([]),a=y(null),c=w=>{r.value=w,S()},d=w=>{w.key==="Enter"&&S()},S=()=>{r.value.trim()&&(i.value.push({id:Date.now(),role:"user",content:r.value}),setTimeout(()=>{i.value.push({id:Date.now()+1,role:"assistant",content:"This is a placeholder response. AI functionality will be implemented later."}),a.value&&(a.value.scrollTop=a.value.scrollHeight)},500),r.value="")};return(w,u)=>(s(),n("div",wt,[e("div",$t,[e("div",kt,[x(b(E),{size:16,class:"text-foreground"}),u[1]||(u[1]=e("h3",{class:"text-lg font-medium text-foreground leading-5"},"AI Assistant",-1))]),e("div",Tt,[e("div",{ref_key:"chatContainer",ref:a,class:"flex-1 overflow-y-auto space-y-4 min-h-0 pr-2"},[(s(!0),n(f,null,_(i.value,o=>(s(),n("div",{key:o.id,class:B(["flex gap-3",o.role==="user"?"justify-end":"justify-start"])},[o.role==="assistant"?(s(),n("div",St,[x(b(E),{size:14,class:"text-white"})])):q("",!0),e("div",{class:B(["rounded-lg px-4 py-2.5 max-w-xs md:max-w-sm",o.role==="user"?"bg-purple-600 text-white":"bg-muted text-foreground border border-border"])},[e("p",Ct,v(o.content),1)],2),o.role==="user"?(s(),n("div",It,[...u[2]||(u[2]=[e("span",{class:"text-xs font-medium text-purple-700"},"You",-1)])])):q("",!0)],2))),128))],512),e("div",Dt,[i.value.length===0?(s(),n("div",zt,[(s(!0),n(f,null,_($.value,o=>(s(),n("button",{key:o,onClick:t=>c(o),class:"px-3 py-1.5 text-sm bg-muted hover:bg-muted border border-border rounded-lg text-foreground transition-colors cursor-pointer"},v(o),9,Pt))),128))])):q("",!0),e("div",Mt,[ne(e("input",{"onUpdate:modelValue":u[0]||(u[0]=o=>r.value=o),type:"text",placeholder:"Ask anything...",class:"w-full pr-12 text-sm input",onKeypress:d},null,544),[[ae,r.value]]),e("button",{disabled:!r.value.trim(),onClick:S,class:B(["absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-md transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed hover:bg-muted active:bg-muted",r.value.trim()?"text-purple-600":"text-muted-foreground"])},[x(b(pe),{size:18})],10,At)])])])])]))}},Bt={class:"bg-muted rounded-xl p-1 flex flex-col"},Ut={class:"bg-white rounded-lg shadow-nsc-card flex flex-col"},jt={class:"flex flex-col"},Nt={class:"px-4 py-4 flex items-center gap-2 shrink-0"},Vt={class:"flex flex-col"},Ft={class:"flex flex-col gap-1 min-w-0 flex-1"},Lt={class:"flex items-center gap-2"},Kt={class:"text-sm font-semibold text-foreground"},Et={class:"text-sm text-foreground"},Rt={class:"text-sm text-muted-foreground"},Ht={class:"shrink-0 text-right"},Xt={class:"text-sm font-medium text-foreground"},Ot={class:"text-xs text-muted-foreground"},Gt={__name:"TasksDueSidebar",props:{tasks:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(g){const $=i=>i?i.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2):"U",r=i=>{const a=new Date(i),c=a.getDate(),d=a.toLocaleString("en-US",{month:"short"}).toUpperCase();return`${c} ${d}`};return(i,a)=>(s(),n("div",Bt,[e("div",Ut,[g.loading?(s(),n(f,{key:0},[a[1]||(a[1]=e("div",{class:"px-4 py-4 pb-4"},[e("div",{class:"h-5 bg-gray-200 rounded w-24 animate-pulse"})],-1)),e("div",jt,[(s(),n(f,null,_(5,c=>e("div",{key:`skeleton-${c}`,class:"flex items-start gap-4 px-4 py-3 border-b border-border last:border-0"},[...a[0]||(a[0]=[j('<div class="w-8 h-8 bg-gray-200 rounded-full animate-pulse shrink-0"></div><div class="flex-1 min-w-0 space-y-2"><div class="h-3 bg-gray-200 rounded w-32 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-28 animate-pulse"></div></div><div class="shrink-0 space-y-1"><div class="h-3 bg-gray-200 rounded w-12 animate-pulse"></div><div class="h-2 bg-gray-200 rounded w-16 animate-pulse"></div></div>',3)])])),64))])],64)):(s(),n(f,{key:1},[e("div",Nt,[x(b(ue),{size:16,class:"text-foreground"}),a[2]||(a[2]=e("h3",{class:"text-lg font-medium text-foreground leading-5"},"Tasks due",-1))]),e("div",Vt,[(s(!0),n(f,null,_(g.tasks,(c,d)=>(s(),n("div",{key:c.id,class:B(["flex items-start gap-4 px-4 py-3",d<g.tasks.length-1?"border-b border-border":""])},[x(b(X),{class:"h-8 w-8 shrink-0"},{default:z(()=>[x(b(O),{class:"bg-greys-300 text-foreground text-sm"},{default:z(()=>[U(v($(c.dealershipName)),1)]),_:2},1024)]),_:2},1024),e("div",Ft,[e("div",Lt,[e("p",Kt,v(c.customerName),1),c.isExpired?(s(),L(b(R),{key:0,variant:"error",size:"sm"},{default:z(()=>[...a[3]||(a[3]=[U("Expired",-1)])]),_:1})):q("",!0)]),e("p",Et,v(c.car),1),e("p",Rt,v(c.dealershipName),1)]),e("div",Ht,[e("div",Xt,v(c.dueTime),1),e("div",Ot,v(r(c.dueDate)),1)])],2))),128))])],64))])]))}},Qt={class:"page-container"},Wt={class:"flex-1 overflow-y-auto p-4 md:p-8 min-h-0"},Zt={class:"flex flex-col lg:flex-row gap-4 sm:gap-5 md:gap-6 max-w-screen-2xl mx-auto w-full"},Yt={class:"flex-1 flex flex-col gap-6 min-w-0"},Jt={class:"w-full lg:w-80 xl:w-88 flex flex-col gap-6 shrink-0"},rs={__name:"Reports",setup(g){const $=y([]),r=y({stages:[],leadSources:[]}),i=y([]),a=y([]),c=y([]),d=y(!0),S=y(!0),w=y(!0),u=y(!0),o=y(!0);return oe(async()=>{Promise.all([Q().then(t=>{$.value=t,d.value=!1}),W().then(t=>{r.value=t,S.value=!1}),Z().then(t=>{i.value=t,w.value=!1}),Y().then(t=>{a.value=t,u.value=!1}),J().then(t=>{c.value=t,o.value=!1})])}),(t,p)=>(s(),n("div",Qt,[x(ee,{title:"Reports"},{actions:z(()=>[...p[0]||(p[0]=[e("select",{class:"px-3 py-1.5 rounded-lg border border-border bg-white text-sm font-medium text-muted-foreground shadow-sm hover:bg-muted transition-all cursor-pointer"},[e("option",null,"This month"),e("option",null,"Last month"),e("option",null,"This quarter"),e("option",null,"This year")],-1)])]),_:1}),e("div",Wt,[e("div",Zt,[e("div",Yt,[x(Ie,{kpis:$.value,loading:d.value},null,8,["kpis","loading"]),x(We,{pipeline:r.value,loading:S.value},null,8,["pipeline","loading"]),x(ot,{"team-members":i.value,loading:w.value},null,8,["team-members","loading"])]),e("div",Jt,[x(qt),x(_t,{events:a.value,loading:u.value},null,8,["events","loading"]),x(Gt,{tasks:c.value,loading:o.value},null,8,["tasks","loading"])])])])]))}};export{rs as default};
