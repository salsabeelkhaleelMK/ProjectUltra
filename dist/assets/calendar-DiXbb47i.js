import{N as d,V as c,W as o,X as i,Y as a}from"./index-BO-ic-g4.js";const s=(e=300)=>new Promise(n=>setTimeout(n,e)),l=async(e={})=>{await s();let n=[...a];return e.onlyMine&&e.currentUserId&&(n=n.filter(t=>t.assigneeId===e.currentUserId)),e.eventTypes&&e.eventTypes.length>0&&(n=n.filter(t=>e.eventTypes.includes(t.type))),e.dealerships&&e.dealerships.length>0&&(n=n.filter(t=>e.dealerships.includes(t.dealership))),e.teams&&e.teams.length>0&&(n=n.filter(t=>e.teams.includes(t.team))),e.users&&e.users.length>0&&(n=n.filter(t=>e.users.includes(t.assigneeId))),e.includeCancelled===!1&&(n=n.filter(t=>t.status!=="cancelled")),e.noShowsOnly&&(n=n.filter(t=>t.status==="no-show")),e.start&&e.end&&(n=n.filter(t=>{const r=new Date(t.start);return r>=new Date(e.start)&&r<=new Date(e.end)})),n},p=async()=>(await s(100),{eventTypes:[...i],dealerships:o.map(e=>e.name),teams:c.map(e=>e.name),users:[...d]}),h=async e=>{await s();const n={id:a.length+1,...e,status:"confirmed",createdAt:new Date().toISOString()};return a.push(n),n},m=async(e,n)=>{await s();const t=a.findIndex(r=>r.id===parseInt(e));if(t===-1)throw new Error("Event not found");return a[t]={...a[t],...n},a[t]},w=async e=>{await s();const n=a.findIndex(t=>t.id===parseInt(e));if(n===-1)throw new Error("Event not found");return a.splice(n,1),{success:!0}};export{h as createCalendarEvent,w as deleteCalendarEvent,l as fetchCalendarEvents,p as fetchCalendarFilterOptions,m as updateCalendarEvent};
