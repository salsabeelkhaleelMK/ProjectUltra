import{G as p,d as M,r as m,c as _,o as P,a as c,b as e,t as d,u as f,e as U,w as S,v as j,s as B,g as C,F as A,f as N,h as u,i as F,n as q,j as E}from"./index-Nv2arjUI.js";const g=(l=300)=>new Promise(s=>setTimeout(s,l)),z=async(l={})=>{await g();let s=[...p];if(l.status&&(s=s.filter(a=>a.status===l.status)),l.brand&&(s=s.filter(a=>a.brand===l.brand)),l.search){const a=l.search.toLowerCase();s=s.filter(n=>n.brand.toLowerCase().includes(a)||n.model.toLowerCase().includes(a)||n.vin.toLowerCase().includes(a))}return{data:s,total:s.length}},T=async l=>{await g();const s=p.find(a=>a.id===parseInt(l));if(!s)throw new Error("Vehicle not found");return s},G=async l=>{await g();const s={id:p.length+1,...l,stockDays:0};return p.push(s),s},K=async(l,s)=>{await g();const a=p.findIndex(n=>n.id===parseInt(l));if(a===-1)throw new Error("Vehicle not found");return p[a]={...p[a],...s},p[a]},Q=async l=>{await g();const s=p.findIndex(a=>a.id===parseInt(l));if(s===-1)throw new Error("Vehicle not found");return p.splice(s,1),{success:!0}},R=M("vehicles",()=>{const l=m([]),s=m(null),a=m(!1),n=m(null),y=m({status:null,brand:null,search:""}),w=_(()=>l.value.length),b=_(()=>l.value.filter(r=>r.status==="Available")),v=_(()=>l.value.reduce((r,i)=>r+i.price,0));async function x(){a.value=!0,n.value=null;try{const r=await z(y.value);l.value=r.data}catch(r){n.value=r.message}finally{a.value=!1}}async function t(r){a.value=!0,n.value=null;try{s.value=await T(r)}catch(i){n.value=i.message}finally{a.value=!1}}async function o(r){a.value=!0,n.value=null;try{const i=await G(r);return l.value.unshift(i),i}catch(i){throw n.value=i.message,i}finally{a.value=!1}}async function V(r,i){a.value=!0,n.value=null;try{const h=await K(r,i),I=l.value.findIndex(L=>L.id===r);return I!==-1&&(l.value[I]=h),h}catch(h){throw n.value=h.message,h}finally{a.value=!1}}async function k(r){a.value=!0,n.value=null;try{await Q(r),l.value=l.value.filter(i=>i.id!==r)}catch(i){throw n.value=i.message,i}finally{a.value=!1}}function D(r){y.value={...y.value,...r},x()}return{vehicles:l,currentVehicle:s,loading:a,error:n,filters:y,totalVehicles:w,availableVehicles:b,totalInventoryValue:v,loadVehicles:x,loadVehicleById:t,addVehicle:o,modifyVehicle:V,removeVehicle:k,setFilters:D}}),H={class:"page-container"},J={class:"page-header"},O={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},W={class:"page-header-subtitle"},X={class:"mt-4 md:mt-6 flex flex-col sm:flex-row items-stretch sm:items-center gap-3"},Y={class:"flex-1 min-w-0 sm:max-w-md"},Z={class:"relative"},$={class:"p-4 md:p-8"},ee={key:0,class:"empty-state"},te={key:1,class:"empty-state"},se={key:2,class:"card overflow-hidden"},ae={class:"overflow-x-auto -mx-4 md:mx-0"},le={class:"w-full"},oe={class:"divide-y divide-gray-100"},ne={class:"px-3 md:px-6 py-4 whitespace-nowrap"},re={class:"flex items-center gap-2 md:gap-3"},ie={class:"min-w-0"},de={class:"font-semibold text-gray-900 text-xs truncate max-w-[120px] md:max-w-none"},ce={class:"text-xs text-gray-500"},ue={class:"px-3 md:px-6 py-4 whitespace-nowrap"},pe={class:"px-3 md:px-6 py-4 whitespace-nowrap"},xe={class:"text-xs font-bold text-gray-900"},me={class:"px-3 md:px-6 py-4 text-xs text-gray-600 whitespace-nowrap hidden md:table-cell"},ye={class:"px-3 md:px-6 py-4 whitespace-nowrap"},fe={class:"px-3 md:px-6 py-4 whitespace-nowrap hidden xl:table-cell"},he={key:0,class:"flex flex-wrap gap-1"},ge={key:0,class:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-600 text-xs font-semibold"},we={key:1,class:"text-xs text-gray-400"},be={class:"px-4 md:px-6 py-4 border-t border-gray-200 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3"},ve={class:"text-xs text-gray-600"},ke={__name:"Vehicles",setup(l){const s=R(),a=m(""),n=m({status:"",brand:""});P(()=>{s.loadVehicles()});const y=()=>{s.setFilters({search:a.value})},w=()=>{s.setFilters(n.value)},b=x=>new Intl.NumberFormat("en-US").format(x),v=x=>new Intl.NumberFormat("en-US").format(x);return(x,t)=>(u(),c("div",H,[e("div",J,[e("div",O,[e("div",null,[t[5]||(t[5]=e("h1",{class:"page-header-title"},"Vehicles Inventory",-1)),e("p",W,d(f(s).totalVehicles)+" vehicles in inventory",1)]),t[6]||(t[6]=e("button",{class:"btn-primary self-start sm:self-auto"},[e("i",{class:"fa-solid fa-plus"}),U(),e("span",{class:"hidden sm:inline"},"Add Vehicle"),e("span",{class:"sm:hidden"},"Add")],-1))]),e("div",X,[e("div",Y,[e("div",Z,[t[7]||(t[7]=e("i",{class:"fa-solid fa-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1)),S(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>a.value=o),onInput:y,type:"text",placeholder:"Search vehicles...",class:"input-with-icon"},null,544),[[j,a.value]])])]),S(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>n.value.status=o),onChange:w,class:"px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white focus:outline-none focus:border-blue-500"},[...t[8]||(t[8]=[e("option",{value:""},"All Status",-1),e("option",{value:"Available"},"Available",-1),e("option",{value:"In Stock"},"In Stock",-1),e("option",{value:"Sold"},"Sold",-1)])],544),[[B,n.value.status]]),S(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>n.value.brand=o),onChange:w,class:"px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white focus:outline-none focus:border-blue-500"},[...t[9]||(t[9]=[C('<option value="">All Brands</option><option value="Volkswagen">Volkswagen</option><option value="Mercedes-Benz">Mercedes-Benz</option><option value="Audi">Audi</option><option value="Porsche">Porsche</option>',5)])],544),[[B,n.value.brand]])])]),e("div",$,[f(s).loading?(u(),c("div",ee,[...t[10]||(t[10]=[e("i",{class:"fa-solid fa-spinner fa-spin text-4xl text-gray-400 mb-4"},null,-1),e("p",{class:"empty-state-text"},"Loading vehicles...",-1)])])):f(s).vehicles.length===0?(u(),c("div",te,[...t[11]||(t[11]=[e("i",{class:"fa-solid fa-car empty-state-icon"},null,-1),e("p",{class:"empty-state-text"},"No vehicles found",-1)])])):(u(),c("div",se,[e("div",ae,[e("table",le,[t[15]||(t[15]=e("thead",{class:"bg-gray-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-3 md:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap"},[e("input",{type:"checkbox",class:"rounded"})]),e("th",{class:"px-3 md:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap"},"Vehicle"),e("th",{class:"px-3 md:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap"},"Status"),e("th",{class:"px-3 md:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap"},"Price"),e("th",{class:"px-3 md:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap hidden md:table-cell"},"Kilometers"),e("th",{class:"px-3 md:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap"},"Stock Days"),e("th",{class:"px-3 md:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap hidden xl:table-cell"},"Requested By"),e("th",{class:"px-3 md:px-6 py-3"})])],-1)),e("tbody",oe,[(u(!0),c(A,null,N(f(s).vehicles,o=>(u(),c("tr",{key:o.id,class:"hover:bg-gray-50 cursor-pointer transition-colors"},[e("td",{class:"px-3 md:px-6 py-4 whitespace-nowrap",onClick:t[3]||(t[3]=F(()=>{},["stop"]))},[...t[12]||(t[12]=[e("input",{type:"checkbox",class:"rounded"},null,-1)])]),e("td",ne,[e("div",re,[t[13]||(t[13]=e("div",{class:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-gray-100 to-gray-200 rounded-md flex items-center justify-center shrink-0"},[e("i",{class:"fa-solid fa-car text-lg md:text-2xl text-gray-400"})],-1)),e("div",ie,[e("div",de,d(o.brand)+" "+d(o.model),1),e("div",ce,d(o.year),1)])])]),e("td",ue,[e("span",{class:q(["inline-flex px-2 py-1 rounded-full text-xs font-semibold",o.status==="Available"?"bg-green-100 text-green-700":o.status==="In Stock"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"])},d(o.status),3)]),e("td",pe,[e("span",xe,"â‚¬"+d(b(o.price)),1)]),e("td",me,d(v(o.kilometers))+" km ",1),e("td",ye,[e("span",{class:q(["text-xs font-medium",o.stockDays>300?"text-red-600":"text-gray-600"])},d(o.stockDays)+" days ",3)]),e("td",fe,[o.requestedBy&&o.requestedBy.length>0?(u(),c("div",he,[(u(!0),c(A,null,N(o.requestedBy.slice(0,2),(V,k)=>(u(),c("span",{key:k,class:"px-2 py-0.5 rounded-full bg-blue-50 text-blue-700 text-xs font-semibold"},d(V),1))),128)),o.requestedBy.length>2?(u(),c("span",ge," +"+d(o.requestedBy.length-2),1)):E("",!0)])):(u(),c("span",we,"-"))]),e("td",{class:"px-3 md:px-6 py-4 whitespace-nowrap",onClick:t[4]||(t[4]=F(()=>{},["stop"]))},[...t[14]||(t[14]=[e("button",{class:"text-gray-400 hover:text-gray-600"},[e("i",{class:"fa-solid fa-ellipsis-vertical"})],-1)])])]))),128))])])]),e("div",be,[e("div",ve," Showing "+d(f(s).vehicles.length)+" of "+d(f(s).totalVehicles)+" vehicles ",1),t[16]||(t[16]=C('<div class="flex items-center gap-1 md:gap-2 flex-wrap"><button class="px-2 md:px-3 py-1 text-xs md:text-sm border border-gray-200 rounded hover:bg-gray-50 whitespace-nowrap">Previous</button><button class="px-2 md:px-3 py-1 text-xs md:text-sm bg-blue-600 text-white rounded">1</button><button class="px-2 md:px-3 py-1 text-xs md:text-sm border border-gray-200 rounded hover:bg-gray-50">2</button><button class="px-2 md:px-3 py-1 text-xs md:text-sm border border-gray-200 rounded hover:bg-gray-50 whitespace-nowrap">Next</button></div>',1))])]))])]))}};export{ke as default};
