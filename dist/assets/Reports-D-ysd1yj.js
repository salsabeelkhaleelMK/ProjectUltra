import{c as q,d as O,e as K,g as N,h as X,i as E}from"./dashboard-B4vTY0QH.js";import{d as l,o,F as g,i as $,e,j,t as x,n as L,k as A,q as S,r as w,c as B,L as T,s as V,E as I,y as D,p as F,J as G,a4 as R,m as H}from"./index-RmfAtVPr.js";import{y as Q}from"./components-Cm9fzQLq.js";import{_ as U}from"./PageHeader-BdOwmn4o.js";import"./toggle-group-item.vue_vue_type_script_setup_true_lang-Csij51_o-Dt8quB-6.js";const W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4"},z={class:"flex items-start justify-between mb-2"},Z={class:"flex-1"},J={class:"label-upper mb-0.5"},Y={class:"flex items-baseline gap-1.5"},ee={class:"text-base font-bold leading-tight"},se={class:"h-8 mt-2 relative"},te={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},ae=["id"],ne=["id"],le=["d","fill"],oe=["d","stroke","filter"],ie=["cx","cy","fill"],re={__name:"DashboardKPIs",props:{kpis:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(p){const f=t=>{if(!t||t.length===0)return"";const a=Math.max(...t),s=Math.min(...t),n=a-s||1,m=100,y=40,b=4,v=t.map((h,_)=>({x:_/(t.length-1)*(m-b*2)+b,y:y-b-(h-s)/n*(y-b*2)}));if(v.length<2)return"";let c=`M ${v[0].x},${v[0].y}`;for(let h=0;h<v.length-1;h++){const _=v[h],u=v[h+1],P=_.x+(u.x-_.x)/2,k=_.x+(u.x-_.x)/2;c+=` C ${P},${_.y} ${k},${u.y} ${u.x},${u.y}`}return c},d=t=>{const a=f(t);if(!a)return"";const s=100,n=40,m=4,y=m,b=s-m;return`${a} L ${b},${n} L ${y},${n} Z`},i=t=>{if(!t||t.length===0)return{x:0,y:0};const a=Math.max(...t),s=Math.min(...t),n=a-s||1,m=4;return{x:100-m,y:40-m-(t[t.length-1]-s)/n*(40-m*2)}},r=t=>t.changeType==="increase"&&t.id===1?"var(--color-success)":t.changeType==="increase"&&t.id===2?"var(--brand-blue)":t.changeType==="decrease"?"var(--brand-red)":t.changeType==="increase"&&t.id===4?"#f97316":"var(--brand-slate)";return(t,a)=>(o(),l("div",W,[p.loading?(o(),l(g,{key:0},$(4,s=>e("div",{key:`skeleton-${s}`,class:"bg-white rounded-xl border border-gray-100 shadow-sm p-6 md:p-8"},[...a[0]||(a[0]=[j('<div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="h-3 bg-gray-200 rounded w-20 mb-2 animate-pulse"></div><div class="flex items-baseline gap-1.5 mb-1"><div class="h-6 bg-gray-200 rounded w-16 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-10 animate-pulse"></div></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div></div></div><div class="h-8 mt-2 bg-gray-100 rounded animate-pulse"></div>',2)])])),64)):(o(!0),l(g,{key:1},$(p.kpis,s=>(o(),l("div",{key:s.id,class:"bg-white rounded-xl border border-gray-100 shadow-sm p-3 md:p-4 hover:shadow-md transition-shadow group"},[e("div",z,[e("div",Z,[e("h3",J,x(s.title),1),e("div",Y,[e("span",ee,x(s.value),1),e("span",{class:L(["text-xs font-bold flex items-center gap-0.5",s.changeType==="increase"?"text-green-600":"text-red-600"])},[e("i",{class:L([s.changeType==="increase"?"fa-solid fa-arrow-up":"fa-solid fa-arrow-down","text-xs"])},null,2),A(" "+x(Math.abs(s.change))+"% ",1)],2)]),a[1]||(a[1]=e("p",{class:"text-xs text-gray-400 mt-0.5"},"vs Last month",-1))])]),e("div",se,[(o(),l("svg",te,[e("defs",null,[e("linearGradient",{id:`gradient-${s.id}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:S(`stop-color:${r(s)};stop-opacity:0.2`)},null,4),e("stop",{offset:"100%",style:S(`stop-color:${r(s)};stop-opacity:0`)},null,4)],8,ae),e("filter",{id:`glow-${s.id}`,x:"-20%",y:"-20%",width:"140%",height:"140%"},[...a[2]||(a[2]=[e("feGaussianBlur",{stdDeviation:"1",result:"blur"},null,-1),e("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"},null,-1)])],8,ne)]),e("path",{d:d(s.trend),fill:`url(#gradient-${s.id})`,class:"transition-all duration-700"},null,8,le),e("path",{d:f(s.trend),stroke:r(s),"stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",filter:`url(#glow-${s.id})`,class:"transition-all duration-700"},null,8,oe),e("circle",{cx:i(s.trend).x,cy:i(s.trend).y,r:"2",fill:r(s),class:"group-hover:scale-150 transition-transform duration-300"},null,8,ie)]))])]))),128))]))}},de={class:"bg-surface rounded-xl border border shadow-sm p-4 md:p-5"},ce={class:"mb-4 pb-4 border-b border"},ue={class:"flex flex-wrap items-center gap-x-6 gap-y-2"},ge={class:"flex flex-wrap gap-4 mt-4"},pe={class:"flex flex-wrap items-center gap-6 pt-4 border-t border"},me={class:"mb-4 pb-4 border-b border"},ve={class:"flex flex-wrap items-center gap-x-6 gap-y-2"},xe={class:"text-sm text-gray-600"},he={class:"text-sm font-bold text-heading"},fe={class:"text-xs text-gray-400"},be={class:"mb-4"},ye={class:"relative h-40 md:h-48 lg:h-56"},we={class:"w-full h-full",viewBox:"0 0 800 300",preserveAspectRatio:"none"},$e=["id"],_e=["d","fill"],Pe={class:"flex flex-wrap gap-4 mt-4"},ke={class:"text-xs text-gray-600"},Te={class:"flex flex-wrap items-center gap-6 pt-4 border-t border"},Ve={class:"text-sm font-bold text-body"},Se={__name:"SalesPipelineChart",props:{pipeline:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(p){const f=p,d=a=>a.toLowerCase().replace(".","").replace(" ","-"),i=a=>({red:"var(--brand-red)",orange:"#f97316",blue:"var(--brand-blue)",gray:"var(--brand-slate)"})[a]||"var(--brand-slate)",r=a=>({"Coches.net":"12h",Autoscout24:"12h",OLX:"7d 9h","Cars.com":"12h"})[a]||"12h",t=(a,s)=>{const y=Math.max(...f.pipeline.leadSources[0].data),b=a.length,v=800/(b-1);let c=Array(b).fill(300);for(let u=0;u<s;u++){const P=f.pipeline.leadSources[u].data;for(let k=0;k<b;k++)c[k]-=P[k]/y*300}const h=a.map((u,P)=>c[P]-u/y*300);let _=`M 0,${h[0]}`;for(let u=0;u<b-1;u++){const P=u*v,k=(u+1)*v,C=P+(k-P)/2,M=P+(k-P)/2;_+=` C ${C},${h[u]} ${M},${h[u+1]} ${k},${h[u+1]}`}_+=` L 800,${c[b-1]}`;for(let u=b-1;u>0;u--){const P=u*v,k=(u-1)*v,C=P-(P-k)/2,M=P-(P-k)/2;_+=` C ${C},${c[u]} ${M},${c[u-1]} ${k},${c[u-1]}`}return _+=" Z",_};return(a,s)=>(o(),l("div",de,[p.loading?(o(),l(g,{key:0},[s[3]||(s[3]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"h-5 bg-gray-200 rounded w-32 animate-pulse"}),e("div",{class:"h-8 bg-gray-200 rounded w-32 animate-pulse"})],-1)),e("div",ce,[e("div",ue,[(o(),l(g,null,$(4,n=>e("div",{key:`stage-${n}`,class:"flex items-center gap-2"},[...s[0]||(s[0]=[e("div",{class:"h-4 bg-gray-200 rounded w-20 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-8 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-12 animate-pulse"},null,-1)])])),64))])]),s[4]||(s[4]=e("div",{class:"mb-4"},[e("div",{class:"h-40 md:h-48 lg:h-56 bg-gray-100 rounded animate-pulse"})],-1)),e("div",ge,[(o(),l(g,null,$(4,n=>e("div",{key:`legend-${n}`,class:"flex items-center gap-2"},[...s[1]||(s[1]=[e("div",{class:"w-3 h-3 bg-gray-200 rounded-full animate-pulse"},null,-1),e("div",{class:"h-3 bg-gray-200 rounded w-16 animate-pulse"},null,-1)])])),64))]),e("div",pe,[(o(),l(g,null,$(4,n=>e("div",{key:`time-${n}`,class:"flex items-center gap-2"},[...s[2]||(s[2]=[e("div",{class:"h-4 bg-gray-200 rounded w-4 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-8 animate-pulse"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-16 animate-pulse"},null,-1)])])),64))])],64)):(o(),l(g,{key:1},[s[7]||(s[7]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"heading-sub"},"Sales Pipeline"),e("select",{class:"input !py-1.5 !px-3 text-sm w-auto"},[e("option",null,"This month"),e("option",null,"Last month"),e("option",null,"This quarter")])],-1)),e("div",me,[e("div",ve,[(o(!0),l(g,null,$(p.pipeline.stages,n=>(o(),l("div",{key:n.name,class:"flex items-center gap-2"},[e("span",xe,x(n.name),1),e("span",he,x(n.percentage)+"%",1),e("span",fe,"("+x(n.count)+")",1)]))),128))])]),e("div",be,[e("div",ye,[(o(),l("svg",we,[e("defs",null,[(o(!0),l(g,null,$(p.pipeline.leadSources,n=>(o(),l("linearGradient",{key:`gradient-${n.name}`,id:`gradient-${d(n.name)}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:S(`stop-color:${i(n.color)};stop-opacity:0.8`)},null,4),e("stop",{offset:"100%",style:S(`stop-color:${i(n.color)};stop-opacity:0.1`)},null,4)],8,$e))),128))]),(o(!0),l(g,null,$(p.pipeline.leadSources,(n,m)=>(o(),l("path",{key:n.name,d:t(n.data,m),fill:`url(#gradient-${d(n.name)})`,opacity:"0.7"},null,8,_e))),128))]))]),e("div",Pe,[(o(!0),l(g,null,$(p.pipeline.leadSources,n=>(o(),l("div",{key:n.name,class:"flex items-center gap-2"},[e("div",{class:L(["w-3 h-3 rounded-full",{"bg-red-500":n.color==="red","bg-orange-500":n.color==="orange","bg-blue-500":n.color==="blue","bg-gray-500":n.color==="gray"}])},null,2),e("span",ke,x(n.name),1)]))),128))])]),e("div",Te,[(o(!0),l(g,null,$(p.pipeline.leadSources,n=>(o(),l("div",{key:n.name,class:"flex items-center gap-2"},[s[5]||(s[5]=e("i",{class:"fa-regular fa-clock text-xs text-gray-400"},null,-1)),e("span",Ve,x(r(n.name)),1),s[6]||(s[6]=e("span",{class:"text-xs text-gray-500"},"on avg.",-1))]))),128))])],64))]))}},je={class:"bg-surface rounded-xl border border shadow-sm overflow-hidden"},Le={class:"p-4 md:p-5"},Ce={class:"space-y-3"},Me={class:"table-wrapper w-full"},Ae={__name:"TeamPerformanceTable",props:{teamMembers:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(p){const f=w({pageIndex:0,pageSize:10}),d=w(""),i=w([]),r=B(()=>[{accessorKey:"name",header:"Name",meta:{title:"Name"},cell:({row:t})=>T("div",{class:"text-sm font-bold text-heading"},t.original.name)},{accessorKey:"leads",header:"Leads",meta:{title:"Leads"},cell:({row:t})=>T("div",{class:"text-sm text-gray-700"},t.original.leads)},{accessorKey:"qualifiedLeads",header:"Qualified",meta:{title:"Qualified"},cell:({row:t})=>{const a=t.original;return T("div",{class:"text-sm text-gray-700"},[T("span",a.qualifiedLeads),T("span",{class:"text-gray-500 text-xs ml-1"},`(${a.qualifiedPercentage}%)`)])}},{accessorKey:"opportunities",header:"Opportunities",meta:{title:"Opportunities"},cell:({row:t})=>T("div",{class:"text-sm text-gray-700"},t.original.opportunities)},{accessorKey:"inNegotiation",header:"In Negotiation",meta:{title:"In Negotiation"},cell:({row:t})=>{const a=t.original;return T("div",{class:"text-sm text-gray-700"},[T("span",a.inNegotiation),T("span",{class:"text-gray-500 text-xs ml-1"},`(${a.inNegotiationPercentage}%)`)])}},{accessorKey:"won",header:"Won",meta:{title:"Won"},cell:({row:t})=>{const a=t.original;return T("div",{class:"text-sm text-gray-700"},[T("span",a.won),T("span",{class:"text-gray-500 text-xs ml-1"},`(${a.wonPercentage}%)`)])}}]);return(t,a)=>(o(),l("div",je,[p.loading?(o(),l(g,{key:0},[a[4]||(a[4]=e("div",{class:"p-4 md:p-5 border-b border"},[e("div",{class:"h-6 bg-gray-200 rounded w-40 animate-pulse"})],-1)),e("div",Le,[e("div",Ce,[(o(),l(g,null,$(5,s=>e("div",{key:`row-${s}`,class:"flex items-center gap-4"},[...a[3]||(a[3]=[j('<div class="h-4 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-12 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-16 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-20 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-4 bg-gray-200 rounded w-16 animate-pulse"></div>',6)])])),64))])])],64)):(o(),l(g,{key:1},[a[6]||(a[6]=e("div",{class:"p-4 md:p-5 border-b border"},[e("h2",{class:"heading-sub"},"Team Performance")],-1)),e("div",Me,[V(D(Q),{data:p.teamMembers,columns:r.value,pagination:f.value,"onUpdate:pagination":a[0]||(a[0]=s=>f.value=s),globalFilter:d.value,"onUpdate:globalFilter":a[1]||(a[1]=s=>d.value=s),sorting:i.value,"onUpdate:sorting":a[2]||(a[2]=s=>i.value=s),paginationOptions:{rowCount:p.teamMembers.length},globalFilterOptions:{debounce:300}},{toolbar:I(()=>[...a[5]||(a[5]=[e("div",{class:"flex justify-end"},[e("button",{class:"group flex items-center gap-2 rounded-2xl border border px-4 py-2 text-xs font-medium text-body hover:border-purple-100 hover:bg-purple-50 hover:text-purple-600 transition-all"},[e("i",{class:"fa-solid fa-arrow-left text-gray-400 group-hover:text-purple-500"}),e("span",{class:"hidden sm:inline"},"Switch back to old design")])],-1)])]),_:1},8,["data","columns","pagination","globalFilter","sorting","paginationOptions"])])],64))]))}},Be={class:"bg-white rounded-xl border border-gray-100 shadow-sm p-4 md:p-5"},Ie={class:"space-y-3"},qe={class:"space-y-3"},Oe={class:"flex items-start gap-3"},Ke={class:"w-10 h-10 rounded-lg bg-gray-50 border border-gray-100 flex flex-col items-center justify-center shrink-0 leading-none"},Ne={class:"text-xs font-bold text-gray-400 uppercase"},Xe={class:"text-xs font-bold text-gray-900 mt-0.5"},Ee={class:"flex-1 min-w-0"},De={class:"flex items-center justify-between"},Fe={class:"text-xs font-bold text-gray-900 truncate"},Ge={class:"text-xs text-gray-400"},Re={class:"text-xs text-gray-500 mt-0.5 truncate"},He={class:"text-xs text-gray-400 mt-0.5 truncate flex items-center gap-1"},Qe={__name:"TodaysEventsSidebar",props:{events:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(p){return(f,d)=>(o(),l("div",Be,[p.loading?(o(),l(g,{key:0},[d[1]||(d[1]=e("div",{class:"h-3 bg-gray-200 rounded w-24 mb-4 animate-pulse"},null,-1)),e("div",Ie,[(o(),l(g,null,$(5,i=>e("div",{key:`skeleton-${i}`,class:"pb-3 border-b border-gray-50 last:border-0 last:pb-0"},[...d[0]||(d[0]=[j('<div class="flex items-start gap-3"><div class="w-10 h-10 bg-gray-200 rounded-lg animate-pulse"></div><div class="flex-1 min-w-0 space-y-2"><div class="h-3 bg-gray-200 rounded w-32 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-40 animate-pulse"></div></div></div>',1)])])),64))])],64)):(o(),l(g,{key:1},[d[3]||(d[3]=e("h2",{class:"label-upper mb-4"},"Today's Events",-1)),e("div",qe,[(o(!0),l(g,null,$(p.events,i=>(o(),l("div",{key:i.id,class:"pb-3 border-b border-gray-50 last:border-0 last:pb-0"},[e("div",Oe,[e("div",Ke,[e("span",Ne,x(i.time.split(":")[0]),1),e("span",Xe,x(i.time.split(":")[1].split(" ")[0]),1)]),e("div",Ee,[e("div",De,[e("div",Fe,x(i.type),1),e("div",Ge,x(i.time),1)]),e("div",Re,x(i.customer),1),e("div",He,[d[2]||(d[2]=e("i",{class:"fa-solid fa-location-dot text-xs"},null,-1)),A(" "+x(i.location),1)])])])]))),128))])],64))]))}},Ue={class:"bg-surface border border rounded-xl shadow-sm overflow-hidden flex flex-col h-full"},We={class:"bg-surface flex-1 overflow-y-auto"},ze={class:"p-6 space-y-2"},Ze=["onClick"],Je={class:"px-4 pb-4"},Ye={class:"p-6 bg-surface border-t border"},es={class:"flex gap-2 items-center"},ss={class:"flex-1 relative"},ts={__name:"AIInsightsSidebar",setup(p){const f=w(["Who are my top 3 best performing sales people?","What's our current pipeline conversion rate?","How many leads did we get today?","How many leads are in negotiation?"]),d=w(""),i=w(!1),r=a=>{d.value=a,t()},t=()=>{d.value.trim()&&(d.value="")};return(a,s)=>(o(),l("div",Ue,[s[5]||(s[5]=e("div",{class:"bg-gray-900 px-4 py-3 flex items-center justify-between"},[e("div",{class:"flex items-center gap-2"},[e("span",{class:"text-white font-bold text-sm"},"Insights"),e("span",{class:"text-gray-300 text-sm"},"powered by AI")])],-1)),e("div",We,[e("div",ze,[(o(!0),l(g,null,$(f.value,(n,m)=>(o(),l("button",{key:m,onClick:y=>r(n),class:"w-full text-left px-4 py-3 bg-surface hover:bg-surfaceSecondary border border rounded-lg transition-colors text-sm text-body"},x(n),9,Ze))),128))]),e("div",Je,[e("button",{onClick:s[0]||(s[0]=n=>i.value=!i.value),class:"w-full text-left text-sm text-body hover:text-heading flex items-center gap-2 transition-colors"},[s[2]||(s[2]=e("span",null,"Show more ideas",-1)),e("i",{class:L(["fa-solid fa-chevron-down text-xs transition-transform duration-300",{"rotate-180":i.value}])},null,2)])])]),e("div",Ye,[e("div",es,[s[4]||(s[4]=e("div",{class:"w-8 h-8 rounded-full bg-brand-red flex items-center justify-center shrink-0"},[e("i",{class:"fa-solid fa-sparkles text-white text-xs"})],-1)),e("div",ss,[F(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>d.value=n),onKeyup:R(t,["enter"]),type:"text",placeholder:"Ask me anything",class:"input"},null,544),[[G,d.value]])]),e("button",{onClick:t,class:"w-10 h-10 rounded-full bg-gray-800 hover:bg-gray-700 text-white flex items-center justify-center transition-all shrink-0"},[...s[3]||(s[3]=[e("i",{class:"fa-solid fa-arrow-right text-sm"},null,-1)])])])])]))}},as={class:"bg-surface rounded-xl border border shadow-sm p-6 md:p-8"},ns={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},ls={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},os={class:"mb-2"},is={class:"text-sm font-semibold text-heading truncate mb-0.5"},rs={class:"flex items-baseline gap-1.5"},ds={class:"text-sm font-bold text-heading leading-tight"},cs={class:"flex items-center gap-2 mb-2"},us={class:"text-xs text-gray-500"},gs={class:"h-8 relative"},ps={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},ms=["id"],vs=["d","fill"],xs=["d","stroke"],hs={__name:"PageViewsByVehicle",props:{vehicles:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(p){const f=i=>{if(!i||i.length===0)return"";const r=Math.max(...i),t=Math.min(...i),a=r-t||1,s=100,n=40,m=2,y=i.map((v,c)=>({x:c/(i.length-1)*(s-m*2)+m,y:n-m-(v-t)/a*(n-m*2)}));if(y.length<2)return"";let b=`M ${y[0].x},${y[0].y}`;for(let v=0;v<y.length-1;v++){const c=y[v],h=y[v+1],_=c.x+(h.x-c.x)/2,u=c.x+(h.x-c.x)/2;b+=` C ${_},${c.y} ${u},${h.y} ${h.x},${h.y}`}return b},d=i=>{const r=f(i);if(!r)return"";const t=100,a=40,s=2,n=s,m=t-s;return`${r} L ${m},${a} L ${n},${a} Z`};return(i,r)=>(o(),l("div",as,[p.loading?(o(),l(g,{key:0},[r[1]||(r[1]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"h-6 bg-gray-200 rounded w-48 animate-pulse"}),e("div",{class:"h-8 bg-gray-200 rounded w-32 animate-pulse"})],-1)),e("div",ns,[(o(),l(g,null,$(5,t=>e("div",{key:`skeleton-${t}`,class:"bg-surfaceSecondary rounded-lg border border p-3"},[...r[0]||(r[0]=[j('<div class="mb-2"><div class="h-3 bg-gray-200 rounded w-24 mb-2 animate-pulse"></div><div class="flex items-baseline gap-1.5"><div class="h-5 bg-gray-200 rounded w-12 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-10 animate-pulse"></div></div></div><div class="flex items-center gap-2 mb-2"><div class="h-3 bg-gray-200 rounded w-8 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-16 animate-pulse"></div></div><div class="h-8 bg-gray-100 rounded animate-pulse"></div>',3)])])),64))])],64)):(o(),l(g,{key:1},[r[3]||(r[3]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"heading-sub"},"Page Views by Vehicle"),e("select",{class:"input !py-1.5 !px-3 text-sm w-auto"},[e("option",null,"This month"),e("option",null,"Last month")])],-1)),e("div",ls,[(o(!0),l(g,null,$(p.vehicles,t=>(o(),l("div",{key:t.id,class:"bg-surfaceSecondary rounded-lg border border p-3"},[e("div",os,[e("h3",is,x(t.brand)+" "+x(t.model),1),e("div",rs,[e("span",ds,x(t.views),1),r[2]||(r[2]=e("span",{class:"text-xs text-gray-500"},"views",-1))])]),e("div",cs,[e("span",{class:L(["text-xs font-bold flex items-center gap-0.5",t.changeType==="increase"?"text-green-600":"text-red-600"])},[e("i",{class:L([t.changeType==="increase"?"fa-solid fa-arrow-up":"fa-solid fa-arrow-down","text-xs"])},null,2),A(" "+x(Math.abs(t.change))+"% ",1)],2),e("span",us,x(t.avgPerDay)+" avg/day",1)]),e("div",gs,[(o(),l("svg",ps,[e("defs",null,[e("linearGradient",{id:`gradient-v-${t.id}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:S(`stop-color:${t.changeType==="increase"?"var(--color-success)":"var(--brand-red)"};stop-opacity:0.2`)},null,4),e("stop",{offset:"100%",style:S(`stop-color:${t.changeType==="increase"?"var(--color-success)":"var(--brand-red)"};stop-opacity:0`)},null,4)],8,ms)]),e("path",{d:d(t.trend),fill:`url(#gradient-v-${t.id})`,class:"transition-all duration-700"},null,8,vs),e("path",{d:f(t.trend),stroke:t.changeType==="increase"?"var(--color-success)":"var(--brand-red)","stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"transition-all duration-700"},null,8,xs)]))])]))),128))])],64))]))}},fs={class:"bg-surface rounded-xl border border shadow-sm p-4 md:p-5"},bs={class:"space-y-4"},ys={class:"flex items-end gap-1 h-64 overflow-x-auto pb-2"},ws={class:"space-y-4"},$s={class:"flex items-end gap-1 h-64 overflow-x-auto pb-2"},_s={class:"w-full flex items-end justify-center h-full gap-0.5"},Ps=["title"],ks=["title"],Ts={class:"text-xs text-gray-500 mt-1"},Vs={__name:"PageViewsChart",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(p){const f=p,d=B(()=>Math.max(...f.data.map(i=>i.organic+i.paid)));return(i,r)=>(o(),l("div",fs,[p.loading?(o(),l(g,{key:0},[r[2]||(r[2]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"h-6 bg-gray-200 rounded w-48 animate-pulse"}),e("div",{class:"h-8 bg-gray-200 rounded w-32 animate-pulse"})],-1)),e("div",bs,[e("div",ys,[(o(),l(g,null,$(30,t=>e("div",{key:`bar-${t}`,class:"flex flex-col items-center gap-1 min-w-[20px]"},[...r[0]||(r[0]=[e("div",{class:"w-full flex items-end justify-center h-full gap-0.5"},[e("div",{class:"bg-gray-200 rounded-t w-2 h-full animate-pulse"}),e("div",{class:"bg-gray-200 rounded-t w-2 h-3/4 animate-pulse"})],-1),e("div",{class:"h-3 bg-gray-200 rounded w-2 animate-pulse"},null,-1)])])),64))]),r[1]||(r[1]=j('<div class="flex items-center justify-center gap-6 pt-4 border-t border"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-gray-200 rounded animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-16 animate-pulse"></div></div><div class="flex items-center gap-2"><div class="w-4 h-4 bg-gray-200 rounded animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-12 animate-pulse"></div></div></div>',1))])],64)):(o(),l(g,{key:1},[r[4]||(r[4]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"heading-sub"},"Page Views: Organic vs. Paid"),e("select",{class:"input text-sm w-auto"},[e("option",null,"This month"),e("option",null,"Last month"),e("option",null,"This quarter")])],-1)),e("div",ws,[e("div",$s,[(o(!0),l(g,null,$(p.data,(t,a)=>(o(),l("div",{key:a,class:"flex flex-col items-center gap-1 min-w-5"},[e("div",_s,[e("div",{class:"bg-blue-600 rounded-t w-2",style:S({height:`${t.organic/d.value*100}%`,minHeight:"2px"}),title:`Organic: ${t.organic}`},null,12,Ps),e("div",{class:"bg-orange-500 rounded-t w-2",style:S({height:`${t.paid/d.value*100}%`,minHeight:"2px"}),title:`Paid: ${t.paid}`},null,12,ks)]),e("span",Ts,x(a+1),1)]))),128))]),r[3]||(r[3]=j('<div class="flex items-center justify-center gap-6 pt-4 border-t border"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-blue-600 rounded"></div><span class="text-meta text-gray-600">Organic</span></div><div class="flex items-center gap-2"><div class="w-4 h-4 bg-orange-500 rounded"></div><span class="text-meta text-gray-600">Paid</span></div></div>',1))])],64))]))}},Ss={class:"page-container"},js={class:"p-4 md:p-6 lg:p-8"},Ls={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 items-start"},Cs={class:"lg:col-span-2 space-y-4 md:space-y-6"},Ms={class:"space-y-4 md:space-y-6"},Ks={__name:"Reports",setup(p){const f=w([]),d=w({stages:[],leadSources:[]}),i=w([]),r=w([]),t=w([]),a=w([]),s=w(!0),n=w(!0),m=w(!0),y=w(!0),b=w(!0),v=w(!0);return H(async()=>{Promise.all([q().then(c=>{f.value=c,s.value=!1}),O().then(c=>{d.value=c,n.value=!1}),K().then(c=>{i.value=c,m.value=!1}),N().then(c=>{r.value=c,y.value=!1}),X().then(c=>{t.value=c,b.value=!1}),E().then(c=>{a.value=c,v.value=!1})])}),(c,h)=>(o(),l("div",Ss,[V(U,{title:"Reports"},{actions:I(()=>[...h[0]||(h[0]=[e("select",{class:"px-4 py-2 rounded-2xl border border bg-surface text-meta-bold font-medium text-body hover:border-red-100 hover:bg-red-50 hover:text-brand-red transition-all cursor-pointer"},[e("option",null,"This month"),e("option",null,"Last month"),e("option",null,"This quarter"),e("option",null,"This year")],-1)])]),_:1}),e("div",js,[e("div",Ls,[e("div",Cs,[V(re,{kpis:f.value,loading:s.value},null,8,["kpis","loading"]),V(Se,{pipeline:d.value,loading:n.value},null,8,["pipeline","loading"]),V(Ae,{"team-members":i.value,loading:m.value},null,8,["team-members","loading"]),V(hs,{vehicles:t.value,loading:b.value},null,8,["vehicles","loading"])]),e("div",Ms,[V(Qe,{events:r.value,loading:y.value},null,8,["events","loading"]),V(ts),V(Vs,{data:a.value,loading:v.value},null,8,["data","loading"])])])])]))}};export{Ks as default};
