<<<<<<<< HEAD:dist/assets/CreateEventModal-2ClmRhSs.js
import{W as D,U as S,H as T,j as m,G as F,n as N,f as H,F as L,L as G,g as q,h as K,d as P}from"./toggle-group-item.vue_vue_type_script_setup_true_lang-Csij51_o-B5cRDmy2.js";import{u as I,c as h,r as M,l as B,m as J,d as g,o,e as u,g as j,s,B as i,y as l,k as d,p as x,N as V,F as A,i as $,x as c,t as C}from"./index-Dj_RD8l0.js";import{u as Q}from"./users-THux0QKI.js";const R={class:"space-y-4"},X={class:"grid grid-cols-2 gap-4"},Y=["disabled"],Z={key:0,class:"text-fluid-xs text-sub mt-1"},_={key:0,class:"flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-3 pt-2"},ee={__name:"CreateEventForm",props:{customer:{type:Object,default:null},assignee:{type:String,default:null},disabledFields:{type:Array,default:()=>[]},initialDate:{type:String,default:""},dealerships:{type:Array,default:()=>[]},showActions:{type:Boolean,default:!0},resetTrigger:{type:[Boolean,Number,String],default:null}},emits:["create","cancel"],setup(r,{emit:U}){const n=r,y=U,v=I(),w=Q(),k=h(()=>w.assignableUsers||[]),f=h(()=>w.assignableTeams||[]),b=h(()=>a.value.assignee&&a.value.assignee.startsWith("team-")),a=M({type:"test-drive",title:"",date:"",time:"",customer:"",assignee:"",dealership:""});function W(){var e,t;const p=n.assignee||`user-${((e=v.currentUser)==null?void 0:e.id)||1}`;a.value={type:"test-drive",title:"",date:n.initialDate||"",time:"",customer:((t=n.customer)==null?void 0:t.name)||"",assignee:p,dealership:""}}B(()=>n.resetTrigger,()=>{W()},{immediate:!0}),B(()=>[n.customer,n.initialDate],()=>{var p;(p=n.customer)!=null&&p.name&&(a.value.customer=n.customer.name),n.initialDate&&(a.value.date=n.initialDate)}),J(()=>{var p,e;a.value.assignee||(a.value.assignee=n.assignee||`user-${((p=v.currentUser)==null?void 0:p.id)||1}`),(e=n.customer)!=null&&e.name&&!a.value.customer&&(a.value.customer=n.customer.name)});const z=()=>{a.value.title&&a.value.date&&y("create",{...a.value})},O=()=>{y("cancel")};return(p,e)=>(o(),g("div",R,[u("div",null,[e[14]||(e[14]=u("label",{class:"block label-upper mb-2"},"Event Type",-1)),s(l(F),{modelValue:a.value.type,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.type=t)},{default:i(()=>[s(l(D),{class:"w-full h-10 min-h-10"},{default:i(()=>[s(l(S),{placeholder:"Select event type..."})]),_:1}),s(l(T),null,{default:i(()=>[s(l(m),{value:"test-drive"},{default:i(()=>[...e[7]||(e[7]=[d("Test Drive",-1)])]),_:1}),s(l(m),{value:"appointment"},{default:i(()=>[...e[8]||(e[8]=[d("Dealership Visit",-1)])]),_:1}),s(l(m),{value:"offsite"},{default:i(()=>[...e[9]||(e[9]=[d("Offsite Visit",-1)])]),_:1}),s(l(m),{value:"workshop"},{default:i(()=>[...e[10]||(e[10]=[d("Workshop",-1)])]),_:1}),s(l(m),{value:"call"},{default:i(()=>[...e[11]||(e[11]=[d("Call",-1)])]),_:1}),s(l(m),{value:"delivery"},{default:i(()=>[...e[12]||(e[12]=[d("Delivery",-1)])]),_:1}),s(l(m),{value:"meeting"},{default:i(()=>[...e[13]||(e[13]=[d("Meeting",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),u("div",null,[e[15]||(e[15]=u("label",{class:"block label-upper mb-2"},"Title",-1)),x(u("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.title=t),type:"text",placeholder:"Event title...",class:"input"},null,512),[[V,a.value.title]])]),u("div",X,[u("div",null,[e[16]||(e[16]=u("label",{class:"block label-upper mb-2"},"Date",-1)),x(u("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.date=t),type:"date",class:"input"},null,512),[[V,a.value.date]])]),u("div",null,[e[17]||(e[17]=u("label",{class:"block label-upper mb-2"},"Time",-1)),x(u("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.time=t),type:"time",class:"input"},null,512),[[V,a.value.time]])])]),u("div",null,[e[18]||(e[18]=u("label",{class:"block label-upper mb-2"},"Customer",-1)),x(u("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.customer=t),type:"text",placeholder:"Customer name...",class:"input",disabled:r.disabledFields.includes("customer")},null,8,Y),[[V,a.value.customer]])]),u("div",null,[e[20]||(e[20]=u("label",{class:"block label-upper mb-2"},"Assign to",-1)),s(l(F),{modelValue:a.value.assignee,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.assignee=t),disabled:r.disabledFields.includes("assignee")},{default:i(()=>[s(l(D),{class:"w-full h-10 min-h-10"},{default:i(()=>[s(l(S),{placeholder:"Select assignee..."})]),_:1}),s(l(T),null,{default:i(()=>[(o(!0),g(A,null,$(f.value,t=>(o(),c(l(m),{key:`team-${t.id}`,value:`team-${t.id}`},{default:i(()=>[d(C(t.name)+" Team ",1)]),_:2},1032,["value"]))),128)),(o(!0),g(A,null,$(k.value,t=>(o(),c(l(m),{key:`user-${t.id}`,value:`user-${t.id}`},{default:i(()=>{var E;return[d(C(t.name)+C(t.id===((E=l(v).currentUser)==null?void 0:E.id)?" (Me)":""),1)]}),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),b.value?(o(),g("p",Z,[...e[19]||(e[19]=[u("i",{class:"fa-solid fa-users text-sub"},null,-1),d(" Any available team member will be assigned ",-1)])])):j("",!0)]),u("div",null,[e[21]||(e[21]=u("label",{class:"block label-upper mb-2"},"Dealership",-1)),s(l(F),{modelValue:a.value.dealership,"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.dealership=t)},{default:i(()=>[s(l(D),{class:"w-full h-10 min-h-10"},{default:i(()=>[s(l(S),{placeholder:"Select dealership..."})]),_:1}),s(l(T),null,{default:i(()=>[(o(!0),g(A,null,$(r.dealerships,t=>(o(),c(l(m),{key:t,value:t},{default:i(()=>[d(C(t),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r.showActions?(o(),g("div",_,[s(l(N),{label:"Cancel",variant:"outline",size:"small",class:"rounded-sm w-full sm:w-auto",onClick:O}),s(l(N),{label:"Create Event",variant:"primary",size:"small",class:"rounded-sm w-full sm:w-auto !bg-brand-red !hover:bg-brand-red-dark !text-white !border-brand-red",onClick:z})])):j("",!0)]))}},le={class:"flex-1 overflow-y-auto px-6 py-4 w-full"},ie={__name:"CreateEventModal",props:{show:{type:Boolean,required:!0},initialDate:{type:String,default:""},dealerships:{type:Array,default:()=>[]},customer:{type:Object,default:null},assignee:{type:String,default:null},disabledFields:{type:Array,default:()=>[]}},emits:["create","cancel"],setup(r,{emit:U}){const n=r,y=U,v=M(0);B(()=>n.show,f=>{f&&(v.value+=1)});const w=f=>{f||k()},k=()=>{y("cancel")};return(f,b)=>(o(),c(l(P),{open:r.show,"onUpdate:open":w},{default:i(()=>[s(l(H),null,{default:i(()=>[s(l(L),{class:"fixed inset-0 z-50 bg-black/50"}),s(l(G),{class:"w-full sm:max-w-lg max-h-[calc(100vh-4rem)] flex flex-col"},{default:i(()=>[s(l(q),{class:"flex-shrink-0"},{default:i(()=>[s(l(K),null,{default:i(()=>[...b[1]||(b[1]=[d("Create New Event",-1)])]),_:1})]),_:1}),u("div",le,[(o(),c(ee,{key:v.value,customer:r.customer,assignee:r.assignee,"disabled-fields":r.disabledFields,"initial-date":r.initialDate,dealerships:r.dealerships,"show-actions":!0,"reset-trigger":r.show,onCreate:b[0]||(b[0]=a=>f.$emit("create",a)),onCancel:k},null,8,["customer","assignee","disabled-fields","initial-date","dealerships","reset-trigger"]))])]),_:1})]),_:1})]),_:1},8,["open"]))}};export{ie as _,ee as a};
========
import{W as D,U as S,H as T,j as m,G as F,n as N,f as H,F as L,L as G,g as q,h as K,d as P}from"./toggle-group-item.vue_vue_type_script_setup_true_lang-SVS8Zwad-DVNwBQcn.js";import{u as I,c as h,r as M,l as B,m as J,d as g,o,e as u,g as j,s,B as i,y as l,k as d,p as x,N as V,F as A,i as $,x as c,t as C}from"./index-DqWyOYoU.js";import{u as Q}from"./users-CkqXh-gx.js";const R={class:"space-y-4"},X={class:"grid grid-cols-2 gap-4"},Y=["disabled"],Z={key:0,class:"text-fluid-xs text-sub mt-1"},_={key:0,class:"flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-3 pt-2"},ee={__name:"CreateEventForm",props:{customer:{type:Object,default:null},assignee:{type:String,default:null},disabledFields:{type:Array,default:()=>[]},initialDate:{type:String,default:""},dealerships:{type:Array,default:()=>[]},showActions:{type:Boolean,default:!0},resetTrigger:{type:[Boolean,Number,String],default:null}},emits:["create","cancel"],setup(r,{emit:U}){const n=r,y=U,v=I(),w=Q(),k=h(()=>w.assignableUsers||[]),f=h(()=>w.assignableTeams||[]),b=h(()=>a.value.assignee&&a.value.assignee.startsWith("team-")),a=M({type:"test-drive",title:"",date:"",time:"",customer:"",assignee:"",dealership:""});function W(){var e,t;const p=n.assignee||`user-${((e=v.currentUser)==null?void 0:e.id)||1}`;a.value={type:"test-drive",title:"",date:n.initialDate||"",time:"",customer:((t=n.customer)==null?void 0:t.name)||"",assignee:p,dealership:""}}B(()=>n.resetTrigger,()=>{W()},{immediate:!0}),B(()=>[n.customer,n.initialDate],()=>{var p;(p=n.customer)!=null&&p.name&&(a.value.customer=n.customer.name),n.initialDate&&(a.value.date=n.initialDate)}),J(()=>{var p,e;a.value.assignee||(a.value.assignee=n.assignee||`user-${((p=v.currentUser)==null?void 0:p.id)||1}`),(e=n.customer)!=null&&e.name&&!a.value.customer&&(a.value.customer=n.customer.name)});const z=()=>{a.value.title&&a.value.date&&y("create",{...a.value})},O=()=>{y("cancel")};return(p,e)=>(o(),g("div",R,[u("div",null,[e[14]||(e[14]=u("label",{class:"block label-upper mb-2"},"Event Type",-1)),s(l(F),{modelValue:a.value.type,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.type=t)},{default:i(()=>[s(l(D),{class:"w-full h-10 min-h-10"},{default:i(()=>[s(l(S),{placeholder:"Select event type..."})]),_:1}),s(l(T),null,{default:i(()=>[s(l(m),{value:"test-drive"},{default:i(()=>[...e[7]||(e[7]=[d("Test Drive",-1)])]),_:1}),s(l(m),{value:"appointment"},{default:i(()=>[...e[8]||(e[8]=[d("Dealership Visit",-1)])]),_:1}),s(l(m),{value:"offsite"},{default:i(()=>[...e[9]||(e[9]=[d("Offsite Visit",-1)])]),_:1}),s(l(m),{value:"workshop"},{default:i(()=>[...e[10]||(e[10]=[d("Workshop",-1)])]),_:1}),s(l(m),{value:"call"},{default:i(()=>[...e[11]||(e[11]=[d("Call",-1)])]),_:1}),s(l(m),{value:"delivery"},{default:i(()=>[...e[12]||(e[12]=[d("Delivery",-1)])]),_:1}),s(l(m),{value:"meeting"},{default:i(()=>[...e[13]||(e[13]=[d("Meeting",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),u("div",null,[e[15]||(e[15]=u("label",{class:"block label-upper mb-2"},"Title",-1)),x(u("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.title=t),type:"text",placeholder:"Event title...",class:"input"},null,512),[[V,a.value.title]])]),u("div",X,[u("div",null,[e[16]||(e[16]=u("label",{class:"block label-upper mb-2"},"Date",-1)),x(u("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.date=t),type:"date",class:"input"},null,512),[[V,a.value.date]])]),u("div",null,[e[17]||(e[17]=u("label",{class:"block label-upper mb-2"},"Time",-1)),x(u("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.time=t),type:"time",class:"input"},null,512),[[V,a.value.time]])])]),u("div",null,[e[18]||(e[18]=u("label",{class:"block label-upper mb-2"},"Customer",-1)),x(u("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.customer=t),type:"text",placeholder:"Customer name...",class:"input",disabled:r.disabledFields.includes("customer")},null,8,Y),[[V,a.value.customer]])]),u("div",null,[e[20]||(e[20]=u("label",{class:"block label-upper mb-2"},"Assign to",-1)),s(l(F),{modelValue:a.value.assignee,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.assignee=t),disabled:r.disabledFields.includes("assignee")},{default:i(()=>[s(l(D),{class:"w-full h-10 min-h-10"},{default:i(()=>[s(l(S),{placeholder:"Select assignee..."})]),_:1}),s(l(T),null,{default:i(()=>[(o(!0),g(A,null,$(f.value,t=>(o(),c(l(m),{key:`team-${t.id}`,value:`team-${t.id}`},{default:i(()=>[d(C(t.name)+" Team ",1)]),_:2},1032,["value"]))),128)),(o(!0),g(A,null,$(k.value,t=>(o(),c(l(m),{key:`user-${t.id}`,value:`user-${t.id}`},{default:i(()=>{var E;return[d(C(t.name)+C(t.id===((E=l(v).currentUser)==null?void 0:E.id)?" (Me)":""),1)]}),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),b.value?(o(),g("p",Z,[...e[19]||(e[19]=[u("i",{class:"fa-solid fa-users text-sub"},null,-1),d(" Any available team member will be assigned ",-1)])])):j("",!0)]),u("div",null,[e[21]||(e[21]=u("label",{class:"block label-upper mb-2"},"Dealership",-1)),s(l(F),{modelValue:a.value.dealership,"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.dealership=t)},{default:i(()=>[s(l(D),{class:"w-full h-10 min-h-10"},{default:i(()=>[s(l(S),{placeholder:"Select dealership..."})]),_:1}),s(l(T),null,{default:i(()=>[(o(!0),g(A,null,$(r.dealerships,t=>(o(),c(l(m),{key:t,value:t},{default:i(()=>[d(C(t),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r.showActions?(o(),g("div",_,[s(l(N),{label:"Cancel",variant:"outline",size:"small",class:"rounded-sm w-full sm:w-auto",onClick:O}),s(l(N),{label:"Create Event",variant:"primary",size:"small",class:"rounded-sm w-full sm:w-auto !bg-brand-red !hover:bg-brand-red-dark !text-white !border-brand-red",onClick:z})])):j("",!0)]))}},le={class:"flex-1 overflow-y-auto px-6 py-4 w-full"},ie={__name:"CreateEventModal",props:{show:{type:Boolean,required:!0},initialDate:{type:String,default:""},dealerships:{type:Array,default:()=>[]},customer:{type:Object,default:null},assignee:{type:String,default:null},disabledFields:{type:Array,default:()=>[]}},emits:["create","cancel"],setup(r,{emit:U}){const n=r,y=U,v=M(0);B(()=>n.show,f=>{f&&(v.value+=1)});const w=f=>{f||k()},k=()=>{y("cancel")};return(f,b)=>(o(),c(l(P),{open:r.show,"onUpdate:open":w},{default:i(()=>[s(l(H),null,{default:i(()=>[s(l(L),{class:"fixed inset-0 z-50 bg-black/50"}),s(l(G),{class:"w-full sm:max-w-lg max-h-[calc(100vh-4rem)] flex flex-col"},{default:i(()=>[s(l(q),{class:"flex-shrink-0"},{default:i(()=>[s(l(K),null,{default:i(()=>[...b[1]||(b[1]=[d("Create New Event",-1)])]),_:1})]),_:1}),u("div",le,[(o(),c(ee,{key:v.value,customer:r.customer,assignee:r.assignee,"disabled-fields":r.disabledFields,"initial-date":r.initialDate,dealerships:r.dealerships,"show-actions":!0,"reset-trigger":r.show,onCreate:b[0]||(b[0]=a=>f.$emit("create",a)),onCancel:k},null,8,["customer","assignee","disabled-fields","initial-date","dealerships","reset-trigger"]))])]),_:1})]),_:1})]),_:1},8,["open"]))}};export{ie as _,ee as a};
>>>>>>>> maciej-branch:dist/assets/CreateEventModal-JUBstLnD.js
