import{Q as R}from"./index-B_XAiWWB.js";import{u as T}from"./users-B2Q7ljfB.js";import{_ as z}from"./ModalShell-CCJo1Yaq.js";import{r as N,c as b,l as V,x as j,o as l,D as v,e as a,d as o,g as u,F as h,i as k,n as p,t as c,s as A,y as D}from"./index-4t0q-YoU.js";const F={class:"space-y-2 max-h-96 overflow-y-auto mb-4"},Q={key:0,class:"mb-3"},q=["onClick"],E={class:"flex-1"},L={class:"font-medium text-slate-800"},M={key:0,class:"fa-solid fa-check text-primary-600"},G=["onClick"],H={class:"flex-1"},I={class:"font-medium text-slate-800"},J={class:"text-xs text-gray-500 capitalize"},K={key:0,class:"fa-solid fa-check text-primary-600"},Y={__name:"ReassignUserModal",props:{show:{type:Boolean,required:!0}},emits:["close","confirm"],setup(g,{emit:_}){const w=g,C=_,f=T(),t=N(null),$=b(()=>f.assignableUsers),x=b(()=>f.assignableTeams),B=r=>({manager:"bg-blue-100 text-blue-700",salesman:"bg-purple-100 text-purple-700",operator:"bg-orange-100 text-orange-700"})[r]||"bg-gray-100 text-gray-700";V(()=>w.show,r=>{r||(t.value=null)});const y=r=>{t.value=r},S=()=>{t.value&&(C("confirm",t.value),t.value=null)};return(r,s)=>(l(),j(z,{show:g.show,onClose:s[0]||(s[0]=e=>r.$emit("close")),onCancel:s[1]||(s[1]=e=>r.$emit("close")),title:"Reassign"},{actions:v(()=>[A(D(R),{label:"Reassign",variant:"primary",size:"small",class:"rounded-sm",disabled:!t.value,onClick:S},null,8,["disabled"])]),default:v(()=>[s[6]||(s[6]=a("p",{class:"text-sm text-gray-600 mb-4"}," Select a user or team to reassign: ",-1)),a("div",F,[x.value.length?(l(),o("div",Q,[s[4]||(s[4]=a("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-1"},"Teams",-1)),(l(!0),o(h,null,k(x.value,e=>{var i,n,d,m;return l(),o("button",{key:`team-${e.id}`,onClick:U=>y({type:"team",id:e.id,name:e.name}),class:p(["w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 hover:border-primary-300 transition-colors text-left",{"bg-primary-50 border-primary-400":((i=t.value)==null?void 0:i.type)==="team"&&((n=t.value)==null?void 0:n.id)===e.id}])},[s[3]||(s[3]=a("div",{class:"w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm bg-green-100 text-green-700"},[a("i",{class:"fa-solid fa-users text-sm"})],-1)),a("div",E,[a("p",L,c(e.name),1),s[2]||(s[2]=a("p",{class:"text-xs text-gray-500"},"Team",-1))]),((d=t.value)==null?void 0:d.type)==="team"&&((m=t.value)==null?void 0:m.id)===e.id?(l(),o("i",M)):u("",!0)],10,q)}),128))])):u("",!0),a("div",null,[s[5]||(s[5]=a("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-1"},"Users",-1)),(l(!0),o(h,null,k($.value,e=>{var i,n,d,m;return l(),o("button",{key:`user-${e.id}`,onClick:U=>y({type:"user",id:e.id,name:e.name}),class:p(["w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 hover:border-primary-300 transition-colors text-left",{"bg-primary-50 border-primary-400":((i=t.value)==null?void 0:i.type)==="user"&&((n=t.value)==null?void 0:n.id)===e.id}])},[a("div",{class:p(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm",B(e.role)])},c(e.initials),3),a("div",H,[a("p",I,c(e.name),1),a("p",J,c(e.role)+" â€¢ "+c(e.email),1)]),((d=t.value)==null?void 0:d.type)==="user"&&((m=t.value)==null?void 0:m.id)===e.id?(l(),o("i",K)):u("",!0)],10,G)}),128))])])]),_:1},8,["show"]))}};export{Y as _};
