import{M as d,U as c,V as o,W as i,X as t}from"./index-DOihZbFy.js";const s=(e=300)=>new Promise(n=>setTimeout(n,e)),l=async(e={})=>{await s();let n=[...t];return e.onlyMine&&e.currentUserId&&(n=n.filter(a=>a.assigneeId===e.currentUserId)),e.eventTypes&&e.eventTypes.length>0&&(n=n.filter(a=>e.eventTypes.includes(a.type))),e.dealerships&&e.dealerships.length>0&&(n=n.filter(a=>e.dealerships.includes(a.dealership))),e.teams&&e.teams.length>0&&(n=n.filter(a=>e.teams.includes(a.team))),e.users&&e.users.length>0&&(n=n.filter(a=>e.users.includes(a.assigneeId))),e.includeCancelled===!1&&(n=n.filter(a=>a.status!=="cancelled")),e.noShowsOnly&&(n=n.filter(a=>a.status==="no-show")),e.start&&e.end&&(n=n.filter(a=>{const r=new Date(a.start);return r>=new Date(e.start)&&r<=new Date(e.end)})),n},p=async()=>(await s(100),{eventTypes:[...i],dealerships:o.map(e=>e.name),teams:c.map(e=>e.name),users:[...d]}),h=async e=>{await s();const n={id:t.length+1,...e,status:"confirmed",createdAt:new Date().toISOString()};return t.push(n),n},m=async(e,n)=>{await s();const a=t.findIndex(r=>r.id===parseInt(e));if(a===-1)throw new Error("Event not found");return t[a]={...t[a],...n},t[a]},w=async e=>{await s();const n=t.findIndex(a=>a.id===parseInt(e));if(n===-1)throw new Error("Event not found");return t.splice(n,1),{success:!0}};export{l as a,h as c,w as d,p as f,m as u};
