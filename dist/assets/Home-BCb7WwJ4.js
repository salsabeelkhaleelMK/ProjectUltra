import{u as W,a as ye,r as T,c as B,f as _e,b as ke,d as n,o as r,e,n as I,t as p,g as m,F as D,h as K,i as q,j as ee,k as Z,w as he,l as $e,m as we,p as Te,v as De,q as F,s as Q,x as E,y as h,z as J,Q as X,A as Ce,B as Ae,C as Se}from"./index-hkpYR6II.js";import{f as Re,a as Oe}from"./calendar-LUauM8Kl.js";import{u as Me}from"./users-MVqB5nIX.js";import{_ as je}from"./ReassignUserModal-DvAk33dj.js";import{f as Ne,a as Be,b as Ie}from"./dashboard-DThek4bD.js";import"./toggle-group-item.vue_vue_type_script_setup_true_lang-Csij51_o-YF1Jctsa.js";function Pe(){const x=W(),{questions:w,totalQuestionsCount:v,loading:g,loadQuestions:b}=ye(),f=T([]),o=T([]),i=T([]),y=T([]),R=T(!0),O=T(!0),S=B(()=>{const l=o.value.map(d=>({...d,type:"lead",taskType:"Lead",dueTime:d.nextActionDue?new Date(d.nextActionDue).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):null,dueDate:d.nextActionDue?new Date(d.nextActionDue):null})),c=i.value.map(d=>({...d,type:"opportunity",taskType:"Opportunity",dueTime:d.expectedCloseDate?new Date(d.expectedCloseDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):null,dueDate:d.expectedCloseDate?new Date(d.expectedCloseDate):null}));return[...l,...c]}),C=B(()=>{const l=[],c=f.value.map(s=>({...s,todoType:"appointment",sortTime:new Date(s.start).getTime(),time:new Date(s.start).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),date:new Date(s.start)}));l.push(...c);const d=S.value.map(s=>{const t=s.dueDate||(s.nextActionDue?new Date(s.nextActionDue):null),u=t&&t<new Date;return{...s,todoType:"task",sortTime:t?t.getTime():0,isOverdue:u,priority:s.priority==="Hot"?1:2}});return l.push(...d),l.sort((s,t)=>s.todoType==="appointment"&&t.todoType!=="appointment"?-1:s.todoType!=="appointment"&&t.todoType==="appointment"?1:s.todoType==="appointment"&&t.todoType==="appointment"?s.sortTime-t.sortTime:s.isOverdue&&!t.isOverdue?-1:!s.isOverdue&&t.isOverdue?1:s.priority!==t.priority?s.priority-t.priority:s.sortTime-t.sortTime)}),A=B(()=>f.value.map(l=>({...l,time:new Date(l.start).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),date:new Date(l.start)})).sort((l,c)=>l.date.getTime()-c.date.getTime())),k=B(()=>S.value.filter(l=>{const c=l.dueDate||(l.nextActionDue?new Date(l.nextActionDue):null);if(!c)return!1;const d=new Date;d.setHours(0,0,0,0);const s=new Date(d);s.setDate(s.getDate()+1);const t=new Date(c);return t.setHours(0,0,0,0),t>=d&&t<s}).sort((l,c)=>{var a,u;const d=new Date,s=l.dueDate<d,t=c.dueDate<d;return s&&!t?-1:!s&&t?1:l.priority!==c.priority?(l.priority==="Hot"?1:2)-(c.priority==="Hot"?1:2):(((a=l.dueDate)==null?void 0:a.getTime())||0)-(((u=c.dueDate)==null?void 0:u.getTime())||0)})),_=B(()=>w.value);async function $(){Promise.all([b(),Re().then(l=>{f.value=l,R.value=!1}),Promise.all([x.canAccessLeads()?_e().then(l=>{o.value=l}):Promise.resolve(),x.canAccessOpportunities()?ke().then(l=>{i.value=l}):Promise.resolve()]).then(()=>{O.value=!1}),Oe(1).then(l=>{y.value=l})]).catch(l=>{console.error("Error loading dashboard:",l),R.value=!1,O.value=!1})}return{notifications:_,totalNotificationsCount:v,appointmentsToday:A,tasksDueToday:k,prioritizedTodos:C,loadingNotifications:g,loadingAppointments:B(()=>R.value),loadingTasks:B(()=>O.value),loadDashboard:$}}const Le={class:"flex items-center gap-2 mb-2"},Ue={class:"text-meta"},Ve={class:"text-meta"},qe={class:"ml-auto flex items-center gap-2"},He={key:1,class:"bg-surface border border rounded-lg shadow-lg p-1.5 flex items-center gap-1.5 z-10"},Qe=["innerHTML"],ze={class:"flex gap-2 flex-wrap justify-end mt-3"},Ee={__name:"ActionableQuestionCard",props:{question:{type:Object,required:!0}},emits:["answer-yes","answer-no","reassign","view-task","dismiss"],setup(x,{emit:w}){const v=x,g=w,b=T(!1),f=T(!1),o=W();Me();const i=()=>{var d,s,t;const c=((d=v.question.opportunity)==null?void 0:d.assignee)||((s=v.question.lead)==null?void 0:s.assignee);return c?c===((t=o.currentUser)==null?void 0:t.name)?"me":c:"Unknown"},y=()=>{const c=v.question.customer.name,d=v.question.question,s=`<a href="#" class="font-bold text-brand-red hover:text-brand-red-dark hover:underline" onclick="event.preventDefault()">${c}</a>`;return d.replace(new RegExp(c,"g"),s)},R=c=>c===1?"bg-red-50 text-red-600 border-red-100":c<=3?"bg-amber-50 text-amber-600 border-amber-100":"bg-emerald-50 text-emerald-600 border-emerald-100",O=c=>c===1?"CRITICAL":c<=3?"HIGH":"MEDIUM",S=()=>{if(!v.question.createdAt&&!v.question.appointmentDate)return"Just now";const c=new Date(v.question.createdAt||v.question.appointmentDate),s=new Date-c,t=Math.floor(s/6e4),a=Math.floor(t/60),u=Math.floor(a/24);return t<1?"Just now":t<60?`${t} min ago`:a<24?`${a} hours ago`:u===1?"1 day ago":u<7?`${u} days ago`:`${Math.floor(u/7)} weeks ago`},C=()=>g("answer-yes",v.question),A=()=>g("answer-no",v.question),k=()=>g("reassign",v.question),_=()=>g("view-task",v.question),$=c=>{c.target.tagName==="A"&&(c.preventDefault(),_())},l=()=>{f.value=!0,setTimeout(()=>{g("dismiss",v.question)},200)};return(c,d)=>(r(),n("div",{class:I(["bg-surface border border rounded-lg p-4 hover:border-blue-300 hover:shadow-sm transition-all",f.value?"opacity-50":""])},[e("div",Le,[e("span",{class:I(["text-xs font-bold px-2 py-0.5 rounded border whitespace-nowrap",R(x.question.priority)])},p(O(x.question.priority)),3),e("span",Ue,p(S()),1),e("span",Ve,"• Owner: "+p(i()),1),e("div",qe,[b.value?(r(),n("div",He,[d[3]||(d[3]=e("span",{class:"text-meta whitespace-nowrap"},"Dismiss?",-1)),e("button",{onClick:l,class:"px-2 py-0.5 text-xs font-medium text-rose-700 bg-rose-50 hover:bg-rose-100 border border-rose-200 rounded transition-colors"}," Yes "),e("button",{onClick:d[1]||(d[1]=s=>b.value=!1),class:"px-2 py-0.5 text-xs font-medium text-body hover:text-heading transition-colors"}," No ")])):(r(),n("button",{key:0,onClick:d[0]||(d[0]=s=>b.value=!0),class:"w-7 h-7 flex items-center justify-center rounded text-sub hover:text-body hover:bg-surfaceSecondary transition-colors",title:"Dismiss"},[...d[2]||(d[2]=[e("i",{class:"fa-solid fa-xmark text-sm"},null,-1)])]))])]),e("div",{class:"mb-2",onClick:$},[e("p",{class:"text-heading text-small mb-1",innerHTML:y()},null,8,Qe)]),e("div",ze,[x.question.type==="appointment-followup"?(r(),n(D,{key:0},[e("button",{onClick:C,class:"px-3 py-1.5 text-small font-medium !bg-brand-red !text-white border border-brand-red rounded-2xl hover:!bg-brand-redDark hover:border-brand-redDark transition-colors"}," Yes "),e("button",{onClick:A,class:"px-3 py-1.5 text-small font-medium bg-surface text-brand-dark border border-D1D5DB rounded-2xl hover:brightness-95 transition-colors"}," No ")],64)):x.question.type==="ns-followup"?(r(),n(D,{key:1},[e("button",{onClick:C,class:"px-3 py-1.5 text-small font-medium !bg-brand-red !text-white border border-brand-red rounded-2xl hover:!bg-brand-redDark hover:border-brand-redDark transition-colors"}," Yes "),e("button",{onClick:A,class:"px-3 py-1.5 text-small font-medium bg-surface text-brand-dark border border-D1D5DB rounded-2xl hover:brightness-95 transition-colors"}," No "),e("button",{onClick:k,class:"px-3 py-1.5 text-small font-medium bg-surface text-brand-dark border border-D1D5DB rounded-2xl hover:brightness-95 transition-colors"}," Reassign ")],64)):x.question.type==="offer-followup"?(r(),n("button",{key:2,onClick:_,class:"px-3 py-1.5 text-small font-medium !bg-brand-red !text-white border border-brand-red rounded-2xl hover:!bg-brand-redDark hover:border-brand-redDark transition-colors"}," View Opportunity ")):x.question.type==="stuck-opportunity"?(r(),n(D,{key:3},[e("button",{onClick:C,class:"px-3 py-1.5 text-small font-medium !bg-brand-red !text-white border border-brand-red rounded-2xl hover:!bg-brand-redDark hover:border-brand-redDark transition-colors"}," Yes "),e("button",{onClick:A,class:"px-3 py-1.5 text-small font-medium bg-surface text-brand-dark border border-D1D5DB rounded-2xl hover:brightness-95 transition-colors"}," No "),e("button",{onClick:k,class:"px-3 py-1.5 text-small font-medium bg-surface text-brand-dark border border-D1D5DB rounded-2xl hover:brightness-95 transition-colors"}," Reassign ")],64)):x.question.type==="lead-qualification-urgency"?(r(),n(D,{key:4},[e("button",{onClick:C,class:"px-3 py-1.5 text-small font-medium !bg-brand-red !text-white border border-brand-red rounded-2xl hover:!bg-brand-redDark hover:border-brand-redDark transition-colors"}," Yes "),e("button",{onClick:A,class:"px-3 py-1.5 text-small font-medium bg-surface text-brand-dark border border-D1D5DB rounded-2xl hover:brightness-95 transition-colors"}," No "),e("button",{onClick:k,class:"px-3 py-1.5 text-small font-medium bg-surface text-brand-dark border border-D1D5DB rounded-2xl hover:brightness-95 transition-colors"}," Reassign ")],64)):m("",!0)])],2))}},Ge={class:"space-y-3"},Ye={key:0,class:"text-center py-8 text-sub"},Fe=["onClick"],We={class:"flex items-start justify-between gap-4"},Je={class:"flex-1 min-w-0"},Xe={class:"flex items-center gap-2 mb-1"},Ze={class:"heading-sub mb-1"},Ke={class:"text-meta mb-2"},et={key:0},tt={class:"flex items-center gap-2 text-xs text-sub"},st={key:0},ot={key:1},rt=["onClick"],nt={__name:"TodaysAppointments",props:{appointments:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(x){const w=K(),v=f=>{const o=new Date,y=(new Date(f)-o)/(1e3*60*60);return y<0?"bg-red-100 text-red-700 border-red-200":y<2?"bg-orange-100 text-orange-700 border-orange-200":"bg-blue-100 text-blue-700 border-blue-200"},g=f=>({confirmed:"bg-green-50 text-green-700 border-green-200",scheduled:"bg-blue-50 text-blue-700 border-blue-200",pending:"bg-yellow-50 text-yellow-700 border-yellow-200",cancelled:"bg-red-50 text-red-700 border-red-200","no-show":"bg-surfaceSecondary text-body border"})[f]||"bg-surfaceSecondary text-body border",b=f=>{f.opportunityId?w.push(`/tasks/${f.opportunityId}?type=opportunity`):f.leadId?w.push(`/tasks/${f.leadId}?type=lead`):w.push("/calendar")};return(f,o)=>(r(),n("div",Ge,[x.loading?(r(),n(D,{key:0},q(3,i=>e("div",{key:`skeleton-${i}`,class:"bg-surface border border rounded-lg p-4"},[...o[0]||(o[0]=[ee('<div class="flex items-start justify-between gap-4"><div class="flex-1 min-w-0 space-y-2"><div class="flex items-center gap-2"><div class="h-5 bg-surfaceTertiary rounded w-16 animate-pulse"></div><div class="h-5 bg-surfaceTertiary rounded w-20 animate-pulse"></div></div><div class="h-4 bg-surfaceTertiary rounded w-32 animate-pulse"></div><div class="h-3 bg-surfaceTertiary rounded w-24 animate-pulse"></div><div class="h-3 bg-surfaceTertiary rounded w-20 animate-pulse"></div></div><div class="h-4 w-4 bg-surfaceTertiary rounded animate-pulse"></div></div>',1)])])),64)):(r(),n(D,{key:1},[x.appointments.length===0?(r(),n("div",Ye,[...o[1]||(o[1]=[e("i",{class:"fa-solid fa-calendar-check text-4xl mb-2 text-gray-300"},null,-1),e("p",{class:"text-content"},"No appointments scheduled for today",-1)])])):m("",!0),(r(!0),n(D,null,q(x.appointments,i=>(r(),n("div",{key:i.id,onClick:y=>b(i),class:"bg-surface border border rounded-lg p-4 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer"},[e("div",We,[e("div",Je,[e("div",Xe,[e("span",{class:I(["text-xs font-bold px-2 py-0.5 rounded",v(i.date)])},p(i.time),3),e("span",{class:I(["text-xs font-medium px-2 py-0.5 rounded border",g(i.status)])},p(i.status),3)]),e("h4",Ze,p(i.customer||i.title),1),e("p",Ke,[Z(p(i.type)+" ",1),i.vehicle?(r(),n("span",et," - "+p(i.vehicle),1)):m("",!0)]),e("div",tt,[o[2]||(o[2]=e("i",{class:"fa-solid fa-user text-sub"},null,-1)),i.assigneeType==="team"?(r(),n("span",st,p(i.team)+" Team ",1)):(r(),n("span",ot,p(i.assignee||"Unassigned"),1))])]),e("button",{onClick:he(y=>b(i),["stop"]),class:"text-sub hover:text-blue-600 transition-colors"},[...o[3]||(o[3]=[e("i",{class:"fa-solid fa-chevron-right"},null,-1)])],8,rt)])],8,Fe))),128))],64))]))}},at={class:"space-y-3"},it={key:0,class:"text-center py-8 text-sub"},lt=["onClick"],dt={class:"flex items-start justify-between gap-4"},ut={class:"flex-1 min-w-0"},ct={class:"flex items-center gap-2 mb-1"},pt={key:0,class:"text-xs font-bold px-2 py-0.5 rounded bg-red-50 text-red-700 border border-red-200 flex items-center gap-1"},ft={key:1,class:"text-xs font-medium px-2 py-0.5 rounded bg-surfaceSecondary text-body border border"},vt={key:3,class:"text-xs font-bold px-2 py-0.5 rounded bg-red-100 text-red-700 border border-red-200"},bt={class:"heading-sub mb-1"},gt={class:"text-meta mb-2"},xt={key:0},mt={class:"flex items-center gap-2 text-xs text-sub"},yt={key:0,class:"text-sub"},ht=["onClick"],wt={__name:"TodaysTasks",props:{tasks:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(x){const w=K(),v=b=>{if(!b)return"bg-surfaceSecondary text-body border";const f=new Date,i=(new Date(b)-f)/(1e3*60*60);return i<0?"bg-red-100 text-red-700 border-red-200":i<2?"bg-orange-100 text-orange-700 border-orange-200":"bg-blue-100 text-blue-700 border-blue-200"},g=b=>{w.push(`/tasks/${b.id}?type=${b.type}`)};return(b,f)=>(r(),n("div",at,[x.loading?(r(),n(D,{key:0},q(3,o=>e("div",{key:`skeleton-${o}`,class:"bg-surface border border rounded-lg p-4"},[...f[0]||(f[0]=[ee('<div class="flex items-start justify-between gap-4"><div class="flex-1 min-w-0 space-y-2"><div class="flex items-center gap-2"><div class="h-5 bg-surfaceTertiary rounded w-16 animate-pulse"></div><div class="h-5 bg-surfaceTertiary rounded w-20 animate-pulse"></div></div><div class="h-4 bg-surfaceTertiary rounded w-32 animate-pulse"></div><div class="h-3 bg-surfaceTertiary rounded w-24 animate-pulse"></div><div class="flex items-center gap-2"><div class="h-4 bg-surfaceTertiary rounded w-16 animate-pulse"></div><div class="h-3 bg-surfaceTertiary rounded w-20 animate-pulse"></div></div></div><div class="h-4 w-4 bg-surfaceTertiary rounded animate-pulse"></div></div>',1)])])),64)):(r(),n(D,{key:1},[x.tasks.length===0?(r(),n("div",it,[...f[1]||(f[1]=[e("i",{class:"fa-solid fa-tasks text-4xl mb-2 text-gray-300"},null,-1),e("p",{class:"text-content"},"No tasks due today",-1)])])):m("",!0),(r(!0),n(D,null,q(x.tasks,o=>{var i;return r(),n("div",{key:`${o.type}-${o.id}`,onClick:y=>g(o),class:"bg-surface border border rounded-lg p-4 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer"},[e("div",dt,[e("div",ut,[e("div",ct,[o.priority==="Hot"?(r(),n("span",pt,[...f[2]||(f[2]=[e("i",{class:"fa-solid fa-fire text-xs"},null,-1),Z(" HOT ",-1)])])):(r(),n("span",ft," Normal ")),o.dueTime?(r(),n("span",{key:2,class:I(["text-xs font-bold px-2 py-0.5 rounded",v(o.dueDate)])},p(o.dueTime),3)):m("",!0),o.isOverdue?(r(),n("span",vt," OVERDUE ")):m("",!0)]),e("h4",bt,p(((i=o.customer)==null?void 0:i.name)||"Unknown Customer"),1),e("p",gt,[Z(p(o.taskType)+" ",1),o.requestedCar||o.vehicle?(r(),n("span",xt," - "+p(o.requestedCar?`${o.requestedCar.brand} ${o.requestedCar.model}`:`${o.vehicle.brand} ${o.vehicle.model}`),1)):m("",!0)]),e("div",mt,[e("span",{class:I(["px-2 py-0.5 rounded border text-xs font-bold uppercase",o.type==="lead"?"bg-blue-50 text-blue-700 border-blue-200":"bg-purple-50 text-purple-700 border-purple-200"])},p(o.type==="lead"?"Lead":"Opportunity"),3),o.stage||o.displayStage?(r(),n("span",yt,p(o.displayStage||o.stage),1)):m("",!0)])]),e("button",{onClick:he(y=>g(o),["stop"]),class:"text-sub hover:text-blue-600 transition-colors"},[...f[3]||(f[3]=[e("i",{class:"fa-solid fa-chevron-right"},null,-1)])],8,ht)])],8,lt)}),128))],64))]))}},_t={class:"bg-surface rounded-xl border border shadow-sm overflow-hidden hover:shadow-md transition-shadow"},kt={class:"p-4 md:p-5"},$t={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-4"},Tt={key:0,class:"space-y-4"},Dt={key:1,class:"space-y-4"},Ct={class:"bg-surface rounded-lg p-3 border border"},At={class:"flex items-center justify-between mb-2"},St={class:"text-xs sm:text-sm text-gray-600"},Rt={class:"bg-surface rounded-lg p-3 border border"},Ot={class:"flex items-center justify-between mb-2"},Mt={class:"w-full bg-gray-200 rounded-full h-2 mt-2"},jt={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Nt={class:"bg-surface rounded-lg p-3 border border"},Bt={class:"flex items-start justify-between gap-2"},It={class:"flex-1"},Pt={class:"text-base font-bold text-gray-900 mb-1"},Lt={key:0,class:"h-12 w-16 flex-shrink-0"},Ut={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},Vt=["d"],qt=["d"],Ht={class:"bg-surface rounded-lg p-3 border border"},Qt={class:"flex items-start justify-between gap-2"},zt={class:"flex-1"},Et={class:"text-base font-bold text-gray-900 mb-1"},Gt={key:0,class:"h-12 w-16 flex-shrink-0"},Yt={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},Ft=["d"],Wt=["d"],Jt={key:2,class:"space-y-4"},Xt={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Zt={class:"bg-surface rounded-lg p-3 border border"},Kt={class:"flex items-start justify-between gap-2"},es={class:"flex-1"},ts={class:"text-base font-bold text-gray-900 mb-1"},ss={key:0,class:"h-12 w-16 flex-shrink-0"},os={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},rs=["d"],ns=["d"],as={class:"bg-surface rounded-lg p-3 border border"},is={class:"flex items-start justify-between gap-2"},ls={class:"flex-1"},ds={class:"text-base font-bold text-gray-900 mb-1"},us={key:0,class:"h-12 w-16 flex-shrink-0"},cs={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},ps=["d"],fs=["d"],vs={class:"space-y-2"},bs={class:"flex items-center justify-between text-xs"},gs={class:"font-bold"},xs={class:"w-full bg-gray-200 rounded-full h-2"},ms={class:"flex items-center justify-between text-xs"},ys={class:"font-bold"},hs={class:"w-full bg-gray-200 rounded-full h-2"},ws={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},_s={class:"bg-surface rounded-lg p-3 border border"},ks={class:"flex items-start justify-between gap-2"},$s={class:"flex-1"},Ts={class:"text-base font-bold text-gray-900 mb-1"},Ds={key:0,class:"h-12 w-16 flex-shrink-0"},Cs={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},As=["d"],Ss=["d"],Rs={class:"bg-surface rounded-lg p-3 border border"},Os={class:"flex items-start justify-between gap-2"},Ms={class:"flex-1"},js={class:"text-base font-bold text-gray-900 mb-1"},Ns={key:0,class:"h-12 w-16 flex-shrink-0"},Bs={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},Is=["d"],Ps=["d"],Ls={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Us={class:"bg-surface rounded-lg p-3 border border"},Vs={class:"flex items-start justify-between gap-2"},qs={class:"flex-1"},Hs={class:"text-base font-bold text-gray-900 mb-1"},Qs={key:0,class:"h-12 w-16 flex-shrink-0"},zs={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},Es=["d"],Gs=["d"],Ys={class:"bg-surface rounded-lg p-3 border border"},Fs={class:"flex items-start justify-between gap-2"},Ws={class:"flex-1"},Js={class:"text-base font-bold text-red-600 mb-1"},Xs={key:0,class:"h-12 w-16 flex-shrink-0"},Zs={class:"w-full h-full overflow-visible",viewBox:"0 0 100 40",preserveAspectRatio:"none"},Ks=["d"],eo=["d"],to={key:3,class:"space-y-4"},so={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},oo={class:"bg-surface border border rounded-lg p-6 flex flex-col items-center justify-center"},ro={class:"relative w-24 h-24 sm:w-28 sm:h-28 mb-3"},no={class:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100"},ao=["stroke-dasharray"],io={class:"absolute inset-0 flex items-center justify-center"},lo={class:"text-center"},uo={class:"text-base font-bold text-green-700"},co={class:"text-xs text-green-600 text-center"},po={class:"lg:col-span-2 bg-surface rounded-lg p-6 md:p-8"},fo={class:"space-y-3"},vo={class:"flex items-center gap-3 mb-1"},bo={class:"text-xs font-medium text-body w-32 sm:w-40 flex-shrink-0"},go={class:"flex-1 relative"},xo={class:"w-full bg-gray-200 rounded-full h-6 overflow-hidden"},mo={class:"text-xs font-bold text-gray-900"},yo={class:"text-xs font-bold text-gray-900 w-12 text-right flex-shrink-0"},ho={key:4,class:"text-center py-8 text-gray-500"},wo={__name:"PerformanceWidget",setup(x){const w=W(),v=B(()=>w.userRole()),g=B(()=>{var s;return(s=w.currentUser)==null?void 0:s.id}),b=T("month"),f=T(!0),o=T(null),i=T(null),y=T(null),R=B(()=>{var a;if(!((a=o.value)!=null&&a.slaCompliance))return 0;const{completed:s,total:t}=o.value.slaCompliance;return t>0?Math.round(s/t*100*10)/10:0}),O=(s=!1)=>{var a,u;const t=((u=(a=o.value)==null?void 0:a.tasksPerDay)==null?void 0:u.current)||0;return t>=40?s?"bg-green-600":"text-green-600":t>=20?s?"bg-yellow-600":"text-yellow-600":s?"bg-red-600":"text-red-600"},S=s=>{var u,M;if(!i.value)return 0;const t=((u=i.value.revenue)==null?void 0:u[s])||0,a=((M=i.value.revenueTargets)==null?void 0:M[s])||1;return Math.round(t/a*100)},C=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(0)+"k":s.toString(),A=s=>s>=1e3?(s/1e3).toFixed(1)+"k":s.toString(),k=s=>({red:"bg-red-300",orange:"bg-orange-300",blue:"bg-blue-300",gray:"bg-gray-300"})[s]||"bg-gray-300",_=s=>{var t,a,u;return i.value?s==="contractsClosed"?((t=i.value.contractsClosed)==null?void 0:t[`${b.value}Trend`])||null:s==="revenue"?((a=i.value.revenue)==null?void 0:a[`${b.value}Trend`])||null:s==="newOpportunities"&&((u=i.value.newOpportunities)==null?void 0:u[`${b.value}Trend`])||null:null},$=s=>{if(!s||s.length===0)return"";const t=Math.max(...s),a=Math.min(...s),u=t-a||1,M=100,H=40,P=4,L=s.map((U,j)=>({x:j/(s.length-1)*(M-P*2)+P,y:H-P-(U-a)/u*(H-P*2)}));if(L.length<2)return"";let z=`M ${L[0].x},${L[0].y}`;for(let U=0;U<L.length-1;U++){const j=L[U],V=L[U+1],G=j.x+(V.x-j.x)/2,Y=j.x+(V.x-j.x)/2;z+=` C ${G},${j.y} ${Y},${V.y} ${V.x},${V.y}`}return z},l=s=>{const t=$(s);if(!t)return"";const a=100,u=40,M=4,H=M,P=a-M;return`${t} L ${P},${u} L ${H},${u} Z`},c=s=>s>=20?"Excellent performance":s>=15?"Good performance":s>=10?"Average performance":"Needs improvement",d=async()=>{f.value=!0;try{v.value==="operator"?o.value=await Ne(g.value,b.value):v.value==="salesman"?i.value=await Be(g.value,b.value):v.value==="manager"&&(y.value=await Ie(b.value))}catch(s){console.error("Error loading performance metrics:",s)}finally{f.value=!1}};return $e([g,v],()=>{d()},{immediate:!1}),we(()=>{d()}),(s,t)=>{var a,u,M,H,P,L,z,U,j,V,G,Y,te,se,oe,re,ne,ae,ie,le,de,ue,ce,pe,fe,ve,be,ge,xe,me;return r(),n("div",_t,[e("div",kt,[e("div",$t,[t[2]||(t[2]=e("div",{class:"flex items-center gap-2"},[e("i",{class:"fa-solid fa-chart-line text-sub text-sm"}),e("h2",{class:"heading-sub"},"Performance")],-1)),Te(e("select",{"onUpdate:modelValue":t[0]||(t[0]=N=>b.value=N),onChange:d,class:"input text-xs w-full sm:w-auto"},[...t[1]||(t[1]=[e("option",{value:"month"},"Month",-1),e("option",{value:"quarter"},"Quarter",-1),e("option",{value:"year"},"Year",-1)])],544),[[De,b.value]])]),f.value?(r(),n("div",Tt,[(r(),n(D,null,q(4,N=>e("div",{key:`skeleton-${N}`,class:"h-16 bg-gray-100 rounded animate-pulse"})),64))])):v.value==="operator"?(r(),n("div",Dt,[e("div",Ct,[e("div",At,[t[3]||(t[3]=e("span",{class:"text-xs font-medium text-body"},"SLA Compliance",-1)),e("span",{class:I(["text-xs font-bold",R.value>=90?"text-green-600":"text-yellow-600"])},p(R.value)+"% ",3)]),e("div",St,p(((u=(a=o.value)==null?void 0:a.slaCompliance)==null?void 0:u.withinSLA)||0)+" / "+p(((H=(M=o.value)==null?void 0:M.slaCompliance)==null?void 0:H.total)||0)+" tasks completed within SLA ",1)]),e("div",Rt,[e("div",Ot,[t[4]||(t[4]=e("span",{class:"text-xs font-medium text-body"},"Tasks Per Day",-1)),e("span",{class:I(["text-xs font-bold",O()])},p(((L=(P=o.value)==null?void 0:P.tasksPerDay)==null?void 0:L.current)||0)+" / "+p(((U=(z=o.value)==null?void 0:z.tasksPerDay)==null?void 0:U.target)||0),3)]),e("div",Mt,[e("div",{class:I(["h-2 rounded-full transition-all",O(!0)]),style:F({width:`${Math.min((((V=(j=o.value)==null?void 0:j.tasksPerDay)==null?void 0:V.current)||0)/50*100,100)}%`})},null,6)]),t[5]||(t[5]=e("div",{class:"text-xs text-gray-500 mt-1"},"Target: 20-50 tasks/day",-1))]),e("div",jt,[e("div",Nt,[e("div",Bt,[e("div",It,[t[6]||(t[6]=e("div",{class:"text-xs text-gray-500 mb-1"},"Appointments Reserved",-1)),e("div",Pt,p(((G=o.value)==null?void 0:G.appointmentsReserved)||0),1)]),(Y=o.value)!=null&&Y.appointmentsReservedTrend?(r(),n("div",Lt,[(r(),n("svg",Ut,[t[7]||(t[7]=e("defs",null,[e("linearGradient",{id:"gradient-appointments",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:{"stop-color":"var(--brand-blue)","stop-opacity":"0.2"}}),e("stop",{offset:"100%",style:{"stop-color":"var(--brand-blue)","stop-opacity":"0"}})])],-1)),e("path",{d:l(o.value.appointmentsReservedTrend),fill:"url(#gradient-appointments)",class:"transition-all duration-700"},null,8,Vt),e("path",{d:$(o.value.appointmentsReservedTrend),stroke:"var(--brand-blue)","stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"transition-all duration-700"},null,8,qt)]))])):m("",!0)])]),e("div",Ht,[e("div",Qt,[e("div",zt,[t[8]||(t[8]=e("div",{class:"text-xs text-gray-500 mb-1"},"Lead-to-Opportunity Rate",-1)),e("div",Et,p(((te=o.value)==null?void 0:te.leadToOpportunityConversion)||0)+"%",1)]),(se=o.value)!=null&&se.leadToOpportunityConversionTrend?(r(),n("div",Gt,[(r(),n("svg",Yt,[t[9]||(t[9]=e("defs",null,[e("linearGradient",{id:"gradient-lead-opp",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:{"stop-color":"var(--color-success)","stop-opacity":"0.2"}}),e("stop",{offset:"100%",style:{"stop-color":"var(--color-success)","stop-opacity":"0"}})])],-1)),e("path",{d:l(o.value.leadToOpportunityConversionTrend),fill:"url(#gradient-lead-opp)",class:"transition-all duration-700"},null,8,Ft),e("path",{d:$(o.value.leadToOpportunityConversionTrend),stroke:"var(--color-success)","stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"transition-all duration-700"},null,8,Wt)]))])):m("",!0)])])])])):v.value==="salesman"?(r(),n("div",Jt,[e("div",Xt,[e("div",Zt,[e("div",Kt,[e("div",es,[t[10]||(t[10]=e("div",{class:"text-xs text-gray-500 mb-1"},"Contracts Closed",-1)),e("div",ts,p(((re=(oe=i.value)==null?void 0:oe.contractsClosed)==null?void 0:re[b.value])||0),1)]),_("contractsClosed")?(r(),n("div",ss,[(r(),n("svg",os,[t[11]||(t[11]=e("defs",null,[e("linearGradient",{id:"gradient-contracts",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:{"stop-color":"var(--color-success)","stop-opacity":"0.2"}}),e("stop",{offset:"100%",style:{"stop-color":"var(--color-success)","stop-opacity":"0"}})])],-1)),e("path",{d:l(_("contractsClosed")),fill:"url(#gradient-contracts)",class:"transition-all duration-700"},null,8,rs),e("path",{d:$(_("contractsClosed")),stroke:"var(--color-success)","stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"transition-all duration-700"},null,8,ns)]))])):m("",!0)])]),e("div",as,[e("div",is,[e("div",ls,[t[12]||(t[12]=e("div",{class:"text-xs text-gray-500 mb-1"},"Revenue",-1)),e("div",ds,"€"+p(C(((ae=(ne=i.value)==null?void 0:ne.revenue)==null?void 0:ae[b.value])||0)),1)]),_("revenue")?(r(),n("div",us,[(r(),n("svg",cs,[t[13]||(t[13]=e("defs",null,[e("linearGradient",{id:"gradient-revenue",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:{"stop-color":"var(--brand-blue)","stop-opacity":"0.2"}}),e("stop",{offset:"100%",style:{"stop-color":"var(--brand-blue)","stop-opacity":"0"}})])],-1)),e("path",{d:l(_("revenue")),fill:"url(#gradient-revenue)",class:"transition-all duration-700"},null,8,ps),e("path",{d:$(_("revenue")),stroke:"var(--brand-blue)","stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"transition-all duration-700"},null,8,fs)]))])):m("",!0)])])]),e("div",vs,[e("div",bs,[t[14]||(t[14]=e("span",{class:"text-body"},"Monthly Target",-1)),e("span",gs,p(S("month"))+"%",1)]),e("div",xs,[e("div",{class:"h-2 rounded-full bg-brand-blue transition-all",style:F({width:`${Math.min(S("month"),100)}%`})},null,4)]),e("div",ms,[t[15]||(t[15]=e("span",{class:"text-body"},"Quarterly Target",-1)),e("span",ys,p(S("quarter"))+"%",1)]),e("div",hs,[e("div",{class:"h-2 rounded-full bg-brand-blue transition-all",style:F({width:`${Math.min(S("quarter"),100)}%`})},null,4)])]),e("div",ws,[e("div",_s,[e("div",ks,[e("div",$s,[t[16]||(t[16]=e("div",{class:"text-xs text-gray-500 mb-1"},"Pipeline Value",-1)),e("div",Ts,"€"+p(C(((ie=i.value)==null?void 0:ie.pipelineValue)||0)),1)]),(le=i.value)!=null&&le.pipelineValueTrend?(r(),n("div",Ds,[(r(),n("svg",Cs,[t[17]||(t[17]=e("defs",null,[e("linearGradient",{id:"gradient-pipeline",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:{"stop-color":"var(--brand-blue)","stop-opacity":"0.2"}}),e("stop",{offset:"100%",style:{"stop-color":"var(--brand-blue)","stop-opacity":"0"}})])],-1)),e("path",{d:l(i.value.pipelineValueTrend),fill:"url(#gradient-pipeline)",class:"transition-all duration-700"},null,8,As),e("path",{d:$(i.value.pipelineValueTrend),stroke:"var(--brand-blue)","stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"transition-all duration-700"},null,8,Ss)]))])):m("",!0)])]),e("div",Rs,[e("div",Os,[e("div",Ms,[t[18]||(t[18]=e("div",{class:"text-xs text-gray-500 mb-1"},"Win Rate",-1)),e("div",js,p(((de=i.value)==null?void 0:de.winRate)||0)+"%",1)]),(ue=i.value)!=null&&ue.winRateTrend?(r(),n("div",Ns,[(r(),n("svg",Bs,[t[19]||(t[19]=e("defs",null,[e("linearGradient",{id:"gradient-winrate",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:{"stop-color":"var(--color-success)","stop-opacity":"0.2"}}),e("stop",{offset:"100%",style:{"stop-color":"var(--color-success)","stop-opacity":"0"}})])],-1)),e("path",{d:l(i.value.winRateTrend),fill:"url(#gradient-winrate)",class:"transition-all duration-700"},null,8,Is),e("path",{d:$(i.value.winRateTrend),stroke:"var(--color-success)","stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"transition-all duration-700"},null,8,Ps)]))])):m("",!0)])])]),e("div",Ls,[e("div",Us,[e("div",Vs,[e("div",qs,[t[20]||(t[20]=e("div",{class:"text-xs text-gray-500 mb-1"},"New Opportunities",-1)),e("div",Hs,p(((pe=(ce=i.value)==null?void 0:ce.newOpportunities)==null?void 0:pe[b.value])||0),1)]),_("newOpportunities")?(r(),n("div",Qs,[(r(),n("svg",zs,[t[21]||(t[21]=e("defs",null,[e("linearGradient",{id:"gradient-new-opp",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:{"stop-color":"var(--color-success)","stop-opacity":"0.2"}}),e("stop",{offset:"100%",style:{"stop-color":"var(--color-success)","stop-opacity":"0"}})])],-1)),e("path",{d:l(_("newOpportunities")),fill:"url(#gradient-new-opp)",class:"transition-all duration-700"},null,8,Es),e("path",{d:$(_("newOpportunities")),stroke:"var(--color-success)","stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"transition-all duration-700"},null,8,Gs)]))])):m("",!0)])]),e("div",Ys,[e("div",Fs,[e("div",Ws,[t[22]||(t[22]=e("div",{class:"text-xs text-gray-500 mb-1"},"Dormant Opportunities",-1)),e("div",Js,p(((fe=i.value)==null?void 0:fe.dormantOpportunities)||0),1)]),(ve=i.value)!=null&&ve.dormantOpportunitiesTrend?(r(),n("div",Xs,[(r(),n("svg",Zs,[t[23]||(t[23]=e("defs",null,[e("linearGradient",{id:"gradient-dormant",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[e("stop",{offset:"0%",style:{"stop-color":"var(--brand-red)","stop-opacity":"0.2"}}),e("stop",{offset:"100%",style:{"stop-color":"var(--brand-red)","stop-opacity":"0"}})])],-1)),e("path",{d:l(i.value.dormantOpportunitiesTrend),fill:"url(#gradient-dormant)",class:"transition-all duration-700"},null,8,Ks),e("path",{d:$(i.value.dormantOpportunitiesTrend),stroke:"var(--brand-red)","stroke-width":"2.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"transition-all duration-700"},null,8,eo)]))])):m("",!0)])])])])):v.value==="manager"?(r(),n("div",to,[e("div",so,[e("div",oo,[e("div",ro,[(r(),n("svg",no,[t[24]||(t[24]=e("circle",{cx:"50",cy:"50",r:"42",fill:"none",stroke:"var(--color-success-light)","stroke-width":"8"},null,-1)),e("circle",{cx:"50",cy:"50",r:"42",fill:"none",stroke:"#10b981","stroke-width":"8","stroke-dasharray":`${(((be=y.value)==null?void 0:be.conversionRate)||0)*2.64} 265`,"stroke-linecap":"round",class:"transition-all duration-700"},null,8,ao)])),e("div",io,[e("div",lo,[e("div",uo,p(((ge=y.value)==null?void 0:ge.conversionRate)||0)+"% ",1)])])]),t[25]||(t[25]=e("div",{class:"text-sm font-bold text-green-800 mb-1"},"Conversion Rate",-1)),e("div",co,p(c(((xe=y.value)==null?void 0:xe.conversionRate)||0)),1)]),e("div",po,[t[26]||(t[26]=e("h3",{class:"text-base font-bold text-gray-900 mb-4"},"Sales Funnel",-1)),e("div",fo,[(r(!0),n(D,null,q(((me=y.value)==null?void 0:me.stages)||[],(N,Qo)=>(r(),n("div",{key:N.name,class:"relative"},[e("div",vo,[e("span",bo,p(N.name),1),e("div",go,[e("div",xo,[e("div",{class:I(["h-full rounded-full transition-all duration-700 flex items-center justify-end pr-2",k(N.color)]),style:F({width:`${N.percentage}%`,minWidth:"2px"})},[e("span",mo,p(A(N.count)),1)],6)])]),e("span",yo,p(N.percentage)+"%",1)])]))),128))])])])])):(r(),n("div",ho,[...t[27]||(t[27]=[e("i",{class:"fa-solid fa-chart-line text-4xl mb-2 text-gray-300"},null,-1),e("p",{class:"text-sm"},"Performance metrics not available",-1),e("p",{class:"text-xs text-sub mt-1"},"Contact your administrator",-1)])]))])])}}},_o={class:"page-container"},ko={class:"p-4 md:p-6 lg:p-8"},$o={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 items-start"},To={class:"lg:col-span-2 space-y-4 md:space-y-6"},Do={class:"bg-surface rounded-xl border border shadow-sm overflow-hidden hover:shadow-md transition-shadow"},Co={class:"p-4 md:p-5 border-b border bg-surface"},Ao={class:"flex items-center justify-between"},So={class:"flex items-center gap-2"},Ro={class:"p-4 md:p-5 space-y-3"},Oo={key:0,class:"text-center py-8 text-sub"},Mo={class:"space-y-4 md:space-y-6"},jo={class:"bg-surface rounded-xl border border shadow-sm overflow-hidden hover:shadow-md transition-shadow"},No={class:"p-4 md:p-5 border-b border bg-surface"},Bo={class:"flex items-center justify-between"},Io={class:"flex items-center gap-2"},Po={class:"p-4 md:p-5"},Lo={class:"bg-surface rounded-xl border border shadow-sm overflow-hidden hover:shadow-md transition-shadow"},Uo={class:"p-4 md:p-5 border-b border bg-surface"},Vo={class:"flex items-center justify-between"},qo={class:"flex items-center gap-2"},Ho={class:"p-4 md:p-5"},Jo={__name:"Home",setup(x){const w=K(),v=W(),{dismissQuestion:g,addFollowUpQuestion:b}=ye(),{notifications:f,totalNotificationsCount:o,appointmentsToday:i,tasksDueToday:y,loadingNotifications:R,loadingAppointments:O,loadingTasks:S,loadDashboard:C}=Pe(),A=T(!1),k=T(null);we(async()=>{await C()});const _=async t=>{t.type==="appointment-followup"?(g(t.id),b({id:`offer-followup-${t.opportunityId}`,type:"offer-followup",priority:5,question:`What was the offer given to ${t.customer.name}?`,customer:t.customer,opportunityId:t.opportunityId,opportunity:t.opportunity,createdAt:new Date().toISOString()})):(t.type==="ns-followup"||t.type==="stuck-opportunity"||t.type==="lead-qualification-urgency")&&g(t.id)},$=async t=>{var a;if(t.type==="appointment-followup")try{const u=(a=v.currentUser)==null?void 0:a.id;u&&(await Se(t.opportunityId,u),g(t.id),await C())}catch(u){console.error("Error creating NS task:",u)}else t.type==="ns-followup"?g(t.id):t.type==="stuck-opportunity"?w.push(`/tasks/${t.opportunityId}?type=opportunity`):t.type==="lead-qualification-urgency"&&w.push(`/tasks/${t.leadId}?type=lead`)},l=t=>{k.value=t,A.value=!0},c=async t=>{if(k.value)try{const a=k.value.opportunityId||k.value.leadId;k.value.opportunityId&&await Ce(a,t),g(k.value.id),A.value=!1,k.value=null,await C()}catch(a){console.error("Error reassigning:",a)}},d=t=>{t.opportunityId?w.push(`/tasks/${t.opportunityId}?type=opportunity`):t.leadId&&w.push(`/tasks/${t.leadId}?type=lead`)},s=t=>{v.currentUser&&Ae(t.id,v.currentUser.id),g(t.id)};return(t,a)=>(r(),n("div",_o,[e("div",ko,[e("div",$o,[e("div",To,[Q(wo),e("div",Do,[e("div",Co,[e("div",Ao,[e("div",So,[a[4]||(a[4]=e("i",{class:"fa-solid fa-bolt text-body text-sm"},null,-1)),a[5]||(a[5]=e("h2",{class:"heading-sub text-heading"},"Quick Actions",-1)),h(o)>0?(r(),E(h(J),{key:0,text:String(h(o)),size:"small",theme:"blue"},null,8,["text"])):m("",!0)]),h(o)>5?(r(),E(h(X),{key:0,label:"View all →",variant:"ghost",size:"small",onClick:a[0]||(a[0]=u=>t.$router.push("/tasks")),class:"text-xs"})):m("",!0)])]),e("div",Ro,[h(R)?(r(),n(D,{key:0},q(3,u=>e("div",{key:`skeleton-${u}`,class:"bg-surfaceSecondary border border rounded-lg p-4"},[...a[6]||(a[6]=[ee('<div class="space-y-2"><div class="h-4 bg-surfaceTertiary rounded w-3/4 animate-pulse"></div><div class="h-3 bg-surfaceTertiary rounded w-1/2 animate-pulse"></div><div class="flex gap-2 mt-3"><div class="h-8 bg-surfaceTertiary rounded flex-1 animate-pulse"></div><div class="h-8 bg-surfaceTertiary rounded flex-1 animate-pulse"></div></div></div>',1)])])),64)):(r(),n(D,{key:1},[h(f).length===0?(r(),n("div",Oo,[...a[7]||(a[7]=[e("i",{class:"fa-solid fa-check-circle text-4xl mb-2 text-sub opacity-50"},null,-1),e("p",{class:"text-content"},"All caught up!",-1),e("p",{class:"text-meta mt-1"},"No quick actions needed",-1)])])):m("",!0),(r(!0),n(D,null,q(h(f).slice(0,5),u=>(r(),E(Ee,{key:u.id,question:u,onAnswerYes:_,onAnswerNo:$,onReassign:l,onViewTask:d,onDismiss:s},null,8,["question"]))),128))],64))])])]),e("div",Mo,[e("div",jo,[e("div",No,[e("div",Bo,[e("div",Io,[a[8]||(a[8]=e("i",{class:"fa-solid fa-tasks text-body text-sm"},null,-1)),a[9]||(a[9]=e("h2",{class:"heading-sub text-heading"},"Tasks Due Today",-1)),h(y).length>0?(r(),E(h(J),{key:0,text:String(h(y).length),size:"small",theme:"red"},null,8,["text"])):m("",!0)]),Q(h(X),{label:"View all tasks →",variant:"ghost",size:"small",onClick:a[1]||(a[1]=u=>t.$router.push("/tasks")),class:"text-xs"})])]),e("div",Po,[Q(wt,{tasks:h(y),loading:h(S)},null,8,["tasks","loading"])])]),e("div",Lo,[e("div",Uo,[e("div",Vo,[e("div",qo,[a[10]||(a[10]=e("i",{class:"fa-solid fa-calendar text-body text-sm"},null,-1)),a[11]||(a[11]=e("h2",{class:"heading-sub text-heading"},"Appointments Today",-1)),h(i).length>0?(r(),E(h(J),{key:0,text:String(h(i).length),size:"small",theme:"blue"},null,8,["text"])):m("",!0)]),Q(h(X),{label:"View calendar →",variant:"ghost",size:"small",onClick:a[2]||(a[2]=u=>t.$router.push("/calendar")),class:"text-xs"})])]),e("div",Ho,[Q(nt,{appointments:h(i),loading:h(O)},null,8,["appointments","loading"])])])])])]),Q(je,{show:A.value,onClose:a[3]||(a[3]=u=>A.value=!1),onConfirm:c},null,8,["show"])]))}};export{Jo as default};
